import{_ as t,V as o,W as p,X as n,Y as a,$ as e,Z as i,F as c}from"./framework-44a66fc7.js";const l={},u=n("h1",{id:"gopher-lua",tabindex:"-1"},[n("a",{class:"header-anchor",href:"#gopher-lua","aria-hidden":"true"},"#"),a(" gopher-lua")],-1),r={href:"https://github.com/yuin/gopher-lua",target:"_blank",rel:"noopener noreferrer"},d={href:"https://github.com/yuin/gopher-lua/blob/master/README.rst",target:"_blank",rel:"noopener noreferrer"},k=i(`<h2 id="简介" tabindex="-1"><a class="header-anchor" href="#简介" aria-hidden="true">#</a> 简介</h2><p>GopherLua是用go编写的lua虚拟机和编译器，使用GoAPI来为Go程序中嵌入lua脚本，同时使用GoAPI来进行lua操作。lua作为一个短小精悍的脚本语言很受游戏开发的欢迎，所以一些游戏服务器应用较多，需要与lua交互时，使用该库可以很方便的通过Go来与lua进行交互。</p><h2 id="安装" tabindex="-1"><a class="header-anchor" href="#安装" aria-hidden="true">#</a> 安装</h2><div class="language-text line-numbers-mode" data-ext="text"><pre class="language-text"><code>go get github.com/yuin/gopher-lua
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><div class="hint-container warning"><p class="hint-container-title">注意</p><p>仅支持Go1.19以上的版本</p></div><h2 id="快速开始" tabindex="-1"><a class="header-anchor" href="#快速开始" aria-hidden="true">#</a> 快速开始</h2><p>载入lua文件</p><div class="language-go line-numbers-mode" data-ext="go"><pre class="language-go"><code><span class="token keyword">package</span> main

<span class="token keyword">import</span> <span class="token punctuation">(</span>
    <span class="token string">&quot;github.com/yuin/gopher-lua&quot;</span>
<span class="token punctuation">)</span>

<span class="token keyword">func</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
	L <span class="token operator">:=</span> lua<span class="token punctuation">.</span><span class="token function">NewState</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
	<span class="token keyword">defer</span> L<span class="token punctuation">.</span><span class="token function">Close</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
	<span class="token keyword">if</span> err <span class="token operator">:=</span> L<span class="token punctuation">.</span><span class="token function">DoFile</span><span class="token punctuation">(</span><span class="token string">&quot;hello.lua&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span> err <span class="token operator">!=</span> <span class="token boolean">nil</span> <span class="token punctuation">{</span>
		<span class="token function">panic</span><span class="token punctuation">(</span>err<span class="token punctuation">)</span>
	<span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>或者直接字符串的形式</p><div class="language-go line-numbers-mode" data-ext="go"><pre class="language-go"><code><span class="token keyword">package</span> main

<span class="token keyword">import</span> <span class="token punctuation">(</span>
    <span class="token string">&quot;github.com/yuin/gopher-lua&quot;</span>
<span class="token punctuation">)</span>

<span class="token keyword">func</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
	L <span class="token operator">:=</span> lua<span class="token punctuation">.</span><span class="token function">NewState</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
	<span class="token keyword">defer</span> L<span class="token punctuation">.</span><span class="token function">Close</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
	<span class="token keyword">if</span> err <span class="token operator">:=</span> L<span class="token punctuation">.</span><span class="token function">DoString</span><span class="token punctuation">(</span><span class="token string">\`print(&quot;hello&quot;)\`</span><span class="token punctuation">)</span><span class="token punctuation">;</span> err <span class="token operator">!=</span> <span class="token boolean">nil</span> <span class="token punctuation">{</span>
    	<span class="token function">panic</span><span class="token punctuation">(</span>err<span class="token punctuation">)</span>
	<span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div>`,10);function v(h,m){const s=c("ExternalLinkIcon");return o(),p("div",null,[u,n("p",null,[a("仓库："),n("a",r,[a("yuin/gopher-lua: GopherLua: VM and compiler for Lua in Go (github.com)"),e(s)])]),n("p",null,[a("文档："),n("a",d,[a("gopher-lua/README.rst at master · yuin/gopher-lua (github.com)"),e(s)])]),k])}const b=t(l,[["render",v],["__file","gopher-lua.html.vue"]]);export{b as default};
