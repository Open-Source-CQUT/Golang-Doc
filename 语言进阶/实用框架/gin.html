<!DOCTYPE html>
<html lang="zh-CN" data-theme="light">
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width,initial-scale=1" />
    <meta name="generator" content="VuePress 2.0.0-beta.60" />
    <meta name="theme" content="VuePress Theme Hope" />
    <meta property="og:url" content="https://golang.halfiisland.com/%E8%AF%AD%E8%A8%80%E8%BF%9B%E9%98%B6/%E5%AE%9E%E7%94%A8%E6%A1%86%E6%9E%B6/gin.html"><meta property="og:site_name" content="Golangä¸­æ–‡å­¦ä¹ æ–‡æ¡£"><meta property="og:title" content="Gin"><meta property="og:description" content="å®˜æ–¹æ–‡æ¡£ï¼šGin Web Framework (gin-gonic.com) (https://gin-gonic.com/zh-cn/) ä»“åº“åœ°å€ï¼šgin-gonic/gin: Gin is a HTTP web framework written in Go (Golang) (https://github.com/gin-gonic/gin) å®˜..."><meta property="og:type" content="article"><meta property="og:locale" content="zh-CN"><meta property="og:updated_time" content="2023-02-13T05:04:15.000Z"><meta property="article:modified_time" content="2023-02-13T05:04:15.000Z"><script type="application/ld+json">{"@context":"https://schema.org","@type":"Article","headline":"Gin","image":[""],"dateModified":"2023-02-13T05:04:15.000Z","author":[]}</script><script>var _hmt = _hmt || [];
(function() {
  var hm = document.createElement("script");
  hm.src = "https://hm.baidu.com/hm.js?87d678935e4b33455c0390543e7a759d";
  var s = document.getElementsByTagName("script")[0]; 
  s.parentNode.insertBefore(hm, s);
})();</script><title>Gin | Golangä¸­æ–‡å­¦ä¹ æ–‡æ¡£</title><meta name="description" content="å®˜æ–¹æ–‡æ¡£ï¼šGin Web Framework (gin-gonic.com) (https://gin-gonic.com/zh-cn/) ä»“åº“åœ°å€ï¼šgin-gonic/gin: Gin is a HTTP web framework written in Go (Golang) (https://github.com/gin-gonic/gin) å®˜...">
    <style>
      :root {
        --bg-color: #fff;
      }

      html[data-theme="dark"] {
        --bg-color: #1d1e1f;
      }

      html,
      body {
        background: var(--bg-color);
      }
    </style>
    <script>
      const userMode = localStorage.getItem("vuepress-theme-hope-scheme");
      const systemDarkMode =
        window.matchMedia &&
        window.matchMedia("(prefers-color-scheme: dark)").matches;

      if (userMode === "dark" || (userMode !== "light" && systemDarkMode)) {
        document.querySelector("html").setAttribute("data-theme", "dark");
      }
    </script>
    <link rel="preload" href="/assets/style-933124f9.css" as="style"><link rel="stylesheet" href="/assets/style-933124f9.css">
    <link rel="modulepreload" href="/assets/app-d67057c6.js"><link rel="modulepreload" href="/assets/framework-44a66fc7.js"><link rel="modulepreload" href="/assets/gin.html-b3acc9b1.js"><link rel="modulepreload" href="/assets/gin.html-c96a6483.js">
  </head>
  <body>
    <div id="app"><!--[--><!--[--><!--[--><span tabindex="-1"></span><a href="#main-content" class="skip-link sr-only">è·³è‡³ä¸»è¦å…§å®¹</a><!--]--><!--[--><div class="theme-container has-toc"><!--[--><header class="navbar"><div class="navbar-left"><button class="toggle-sidebar-button" title="Toggle Sidebar"><span class="icon"></span></button><!--[--><!----><!--]--><a href="/" class="brand"><img class="logo" src="/logo.png" alt="Golangä¸­æ–‡å­¦ä¹ æ–‡æ¡£"><!----><span class="site-name hide-in-pad">Golangä¸­æ–‡å­¦ä¹ æ–‡æ¡£</span></a><!--[--><!----><!--]--></div><div class="navbar-center"><!--[--><!----><!--]--><nav class="nav-links"><div class="nav-item hide-in-mobile"><a href="/" class="nav-link" aria-label="é¦–é¡µ"><span class="font-icon icon iconfont icon-home" style=""></span>é¦–é¡µ<!----></a></div><div class="nav-item hide-in-mobile"><a href="/guide.html" class="nav-link" aria-label="æŒ‡å—"><span class="font-icon icon iconfont icon-linter" style=""></span>æŒ‡å—<!----></a></div><div class="nav-item hide-in-mobile"><a href="/link.html" class="nav-link" aria-label="å¤–é“¾"><span class="font-icon icon iconfont icon-share" style=""></span>å¤–é“¾<!----></a></div><div class="nav-item hide-in-mobile"><a href="/cmd.html" class="nav-link" aria-label="å‘½ä»¤"><span class="font-icon icon iconfont icon-shell" style=""></span>å‘½ä»¤<!----></a></div><div class="nav-item hide-in-mobile"><a href="/rules.html" class="nav-link" aria-label="è§„èŒƒ"><span class="font-icon icon iconfont icon-discover" style=""></span>è§„èŒƒ<!----></a></div><div class="nav-item hide-in-mobile"><a href="https://go.dev/play/" rel="noopener noreferrer" target="_blank" aria-label="åœ¨çº¿è¿è¡Œ" class="nav-link"><span class="font-icon icon iconfont icon-back-stage" style=""></span>åœ¨çº¿è¿è¡Œ<span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">open in new window</span></span><!----></a></div><div class="nav-item hide-in-mobile"><a href="https://go.dev/ref/spec" rel="noopener noreferrer" target="_blank" aria-label="å‚è€ƒæ‰‹å†Œ" class="nav-link"><span class="font-icon icon iconfont icon-article" style=""></span>å‚è€ƒæ‰‹å†Œ<span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">open in new window</span></span><!----></a></div><div class="nav-item hide-in-mobile"><a href="/about.html" class="nav-link" aria-label="å…³äºä½œè€…"><span class="font-icon icon iconfont icon-alias" style=""></span>å…³äºä½œè€…<!----></a></div></nav><!--[--><!----><!--]--></div><div class="navbar-right"><!--[--><!----><!--]--><!----><div class="nav-item"><a class="repo-link" href="https://github.com/CQUT-Programmer/Golang-Doc" target="_blank" rel="noopener noreferrer" aria-label="GitHub"><svg xmlns="http://www.w3.org/2000/svg" class="icon github-icon" viewBox="0 0 1024 1024" fill="currentColor" aria-label="github icon" style="width:1.25rem;height:1.25rem;vertical-align:middle;"><path d="M511.957 21.333C241.024 21.333 21.333 240.981 21.333 512c0 216.832 140.544 400.725 335.574 465.664 24.49 4.395 32.256-10.07 32.256-23.083 0-11.69.256-44.245 0-85.205-136.448 29.61-164.736-64.64-164.736-64.64-22.315-56.704-54.4-71.765-54.4-71.765-44.587-30.464 3.285-29.824 3.285-29.824 49.195 3.413 75.179 50.517 75.179 50.517 43.776 75.008 114.816 53.333 142.762 40.79 4.523-31.66 17.152-53.377 31.19-65.537-108.971-12.458-223.488-54.485-223.488-242.602 0-53.547 19.114-97.323 50.517-131.67-5.035-12.33-21.93-62.293 4.779-129.834 0 0 41.258-13.184 134.912 50.346a469.803 469.803 0 0 1 122.88-16.554c41.642.213 83.626 5.632 122.88 16.554 93.653-63.488 134.784-50.346 134.784-50.346 26.752 67.541 9.898 117.504 4.864 129.834 31.402 34.347 50.474 78.123 50.474 131.67 0 188.586-114.73 230.016-224.042 242.09 17.578 15.232 33.578 44.672 33.578 90.454v135.85c0 13.142 7.936 27.606 32.854 22.87C862.25 912.597 1002.667 728.747 1002.667 512c0-271.019-219.648-490.667-490.71-490.667z"></path></svg></a></div><div class="nav-item hide-in-mobile"><button class="outlook-button" tabindex="-1" ariahidden="true"><svg xmlns="http://www.w3.org/2000/svg" class="icon outlook-icon" viewBox="0 0 1024 1024" fill="currentColor" aria-label="outlook icon"><path d="M224 800c0 9.6 3.2 44.8 6.4 54.4 6.4 48-48 76.8-48 76.8s80 41.6 147.2 0 134.4-134.4 38.4-195.2c-22.4-12.8-41.6-19.2-57.6-19.2C259.2 716.8 227.2 761.6 224 800zM560 675.2l-32 51.2c-51.2 51.2-83.2 32-83.2 32 25.6 67.2 0 112-12.8 128 25.6 6.4 51.2 9.6 80 9.6 54.4 0 102.4-9.6 150.4-32l0 0c3.2 0 3.2-3.2 3.2-3.2 22.4-16 12.8-35.2 6.4-44.8-9.6-12.8-12.8-25.6-12.8-41.6 0-54.4 60.8-99.2 137.6-99.2 6.4 0 12.8 0 22.4 0 12.8 0 38.4 9.6 48-25.6 0-3.2 0-3.2 3.2-6.4 0-3.2 3.2-6.4 3.2-6.4 6.4-16 6.4-16 6.4-19.2 9.6-35.2 16-73.6 16-115.2 0-105.6-41.6-198.4-108.8-268.8C704 396.8 560 675.2 560 675.2zM224 419.2c0-28.8 22.4-51.2 51.2-51.2 28.8 0 51.2 22.4 51.2 51.2 0 28.8-22.4 51.2-51.2 51.2C246.4 470.4 224 448 224 419.2zM320 284.8c0-22.4 19.2-41.6 41.6-41.6 22.4 0 41.6 19.2 41.6 41.6 0 22.4-19.2 41.6-41.6 41.6C339.2 326.4 320 307.2 320 284.8zM457.6 208c0-12.8 12.8-25.6 25.6-25.6 12.8 0 25.6 12.8 25.6 25.6 0 12.8-12.8 25.6-25.6 25.6C470.4 233.6 457.6 220.8 457.6 208zM128 505.6C128 592 153.6 672 201.6 736c28.8-60.8 112-60.8 124.8-60.8-16-51.2 16-99.2 16-99.2l316.8-422.4c-48-19.2-99.2-32-150.4-32C297.6 118.4 128 291.2 128 505.6zM764.8 86.4c-22.4 19.2-390.4 518.4-390.4 518.4-22.4 28.8-12.8 76.8 22.4 99.2l9.6 6.4c35.2 22.4 80 12.8 99.2-25.6 0 0 6.4-12.8 9.6-19.2 54.4-105.6 275.2-524.8 288-553.6 6.4-19.2-3.2-32-19.2-32C777.6 76.8 771.2 80 764.8 86.4z"></path></svg><div class="outlook-dropdown"><!----></div></button></div><!--[--><button class="search-pro-button" role="search" aria-label="æœç´¢"><svg xmlns="http://www.w3.org/2000/svg" class="icon search-icon" viewBox="0 0 1024 1024" fill="currentColor" aria-label="search icon"><path d="M192 480a256 256 0 1 1 512 0 256 256 0 0 1-512 0m631.776 362.496-143.2-143.168A318.464 318.464 0 0 0 768 480c0-176.736-143.264-320-320-320S128 303.264 128 480s143.264 320 320 320a318.016 318.016 0 0 0 184.16-58.592l146.336 146.368c12.512 12.48 32.768 12.48 45.28 0 12.48-12.512 12.48-32.768 0-45.28"></path></svg></button><!--]--><!--[--><!----><!--]--><button class="toggle-navbar-button" aria-label="Toggle Navbar" aria-expanded="false" aria-controls="nav-screen"><span class="button-container"><span class="button-top"></span><span class="button-middle"></span><span class="button-bottom"></span></span></button></div></header><!----><!--]--><!----><div class="toggle-sidebar-wrapper"><span class="arrow left"></span></div><aside class="sidebar"><!--[--><!----><!--]--><ul class="sidebar-links"><li><section class="sidebar-group"><p class="sidebar-heading"><span class="font-icon icon iconfont icon-activity" style=""></span><span class="title">è¯­è¨€å…¥é—¨</span><!----></p><ul class="sidebar-links"><li><section class="sidebar-group"><button class="sidebar-heading clickable"><span class="font-icon icon iconfont icon-bit" style=""></span><span class="title">è¯­æ³•åŸºç¡€</span><span class="arrow right"></span></button><!----></section></li><li><section class="sidebar-group"><button class="sidebar-heading clickable"><span class="font-icon icon iconfont icon-alias" style=""></span><span class="title">è¯­æ³•è¿›é˜¶</span><span class="arrow right"></span></button><!----></section></li><li><section class="sidebar-group"><button class="sidebar-heading clickable"><span class="font-icon icon iconfont icon-blog" style=""></span><span class="title">æ ‡å‡†åº“</span><span class="arrow right"></span></button><!----></section></li></ul></section></li><li><section class="sidebar-group"><p class="sidebar-heading active"><span class="font-icon icon iconfont icon-advance" style=""></span><span class="title">è¯­è¨€è¿›é˜¶</span><!----></p><ul class="sidebar-links"><li><section class="sidebar-group"><button class="sidebar-heading clickable"><span class="font-icon icon iconfont icon-engine" style=""></span><span class="title">åŸç†è§£æ</span><span class="arrow right"></span></button><!----></section></li><li><section class="sidebar-group"><button class="sidebar-heading clickable"><span class="font-icon icon iconfont icon-engine" style=""></span><span class="title">å®ç”¨ä¾èµ–</span><span class="arrow right"></span></button><!----></section></li><li><section class="sidebar-group"><button class="sidebar-heading clickable active"><span class="font-icon icon iconfont icon-customize" style=""></span><span class="title">å®ç”¨æ¡†æ¶</span><span class="arrow down"></span></button><ul class="sidebar-links"><li><!--[--><a href="/%E8%AF%AD%E8%A8%80%E8%BF%9B%E9%98%B6/%E5%AE%9E%E7%94%A8%E6%A1%86%E6%9E%B6/beego.html" class="nav-link sidebar-link sidebar-page" aria-label="Beego"><!---->Beego<!----></a><ul class="sidebar-sub-headers"></ul><!--]--></li><li><!--[--><a aria-current="page" href="/%E8%AF%AD%E8%A8%80%E8%BF%9B%E9%98%B6/%E5%AE%9E%E7%94%A8%E6%A1%86%E6%9E%B6/gin.html" class="router-link-active router-link-exact-active nav-link active sidebar-link sidebar-page active" aria-label="Gin"><!---->Gin<!----></a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a aria-current="page" href="/%E8%AF%AD%E8%A8%80%E8%BF%9B%E9%98%B6/%E5%AE%9E%E7%94%A8%E6%A1%86%E6%9E%B6/gin.html#ä»‹ç»" class="router-link-active router-link-exact-active nav-link sidebar-link heading" aria-label="ä»‹ç»"><!---->ä»‹ç»<!----></a><ul class="sidebar-sub-headers"></ul></li><li class="sidebar-sub-header"><a aria-current="page" href="/%E8%AF%AD%E8%A8%80%E8%BF%9B%E9%98%B6/%E5%AE%9E%E7%94%A8%E6%A1%86%E6%9E%B6/gin.html#ç‰¹æ€§" class="router-link-active router-link-exact-active nav-link sidebar-link heading" aria-label="ç‰¹æ€§"><!---->ç‰¹æ€§<!----></a><ul class="sidebar-sub-headers"></ul></li><li class="sidebar-sub-header"><a aria-current="page" href="/%E8%AF%AD%E8%A8%80%E8%BF%9B%E9%98%B6/%E5%AE%9E%E7%94%A8%E6%A1%86%E6%9E%B6/gin.html#å®‰è£…" class="router-link-active router-link-exact-active nav-link sidebar-link heading" aria-label="å®‰è£…"><!---->å®‰è£…<!----></a><ul class="sidebar-sub-headers"></ul></li><li class="sidebar-sub-header"><a aria-current="page" href="/%E8%AF%AD%E8%A8%80%E8%BF%9B%E9%98%B6/%E5%AE%9E%E7%94%A8%E6%A1%86%E6%9E%B6/gin.html#å¿«é€Ÿå¼€å§‹" class="router-link-active router-link-exact-active nav-link sidebar-link heading" aria-label="å¿«é€Ÿå¼€å§‹"><!---->å¿«é€Ÿå¼€å§‹<!----></a><ul class="sidebar-sub-headers"></ul></li><li class="sidebar-sub-header"><a aria-current="page" href="/%E8%AF%AD%E8%A8%80%E8%BF%9B%E9%98%B6/%E5%AE%9E%E7%94%A8%E6%A1%86%E6%9E%B6/gin.html#æ•™ç¨‹" class="router-link-active router-link-exact-active nav-link sidebar-link heading" aria-label="æ•™ç¨‹"><!---->æ•™ç¨‹<!----></a><ul class="sidebar-sub-headers"></ul></li><li class="sidebar-sub-header"><a aria-current="page" href="/%E8%AF%AD%E8%A8%80%E8%BF%9B%E9%98%B6/%E5%AE%9E%E7%94%A8%E6%A1%86%E6%9E%B6/gin.html#å‚æ•°è§£æ" class="router-link-active router-link-exact-active nav-link sidebar-link heading" aria-label="å‚æ•°è§£æ"><!---->å‚æ•°è§£æ<!----></a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a aria-current="page" href="/%E8%AF%AD%E8%A8%80%E8%BF%9B%E9%98%B6/%E5%AE%9E%E7%94%A8%E6%A1%86%E6%9E%B6/gin.html#è·¯ç”±å‚æ•°" class="router-link-active router-link-exact-active nav-link sidebar-link heading" aria-label="è·¯ç”±å‚æ•°"><!---->è·¯ç”±å‚æ•°<!----></a><ul class="sidebar-sub-headers"></ul></li><li class="sidebar-sub-header"><a aria-current="page" href="/%E8%AF%AD%E8%A8%80%E8%BF%9B%E9%98%B6/%E5%AE%9E%E7%94%A8%E6%A1%86%E6%9E%B6/gin.html#urlå‚æ•°" class="router-link-active router-link-exact-active nav-link sidebar-link heading" aria-label="URLå‚æ•°"><!---->URLå‚æ•°<!----></a><ul class="sidebar-sub-headers"></ul></li><li class="sidebar-sub-header"><a aria-current="page" href="/%E8%AF%AD%E8%A8%80%E8%BF%9B%E9%98%B6/%E5%AE%9E%E7%94%A8%E6%A1%86%E6%9E%B6/gin.html#è¡¨å•å‚æ•°" class="router-link-active router-link-exact-active nav-link sidebar-link heading" aria-label="è¡¨å•å‚æ•°"><!---->è¡¨å•å‚æ•°<!----></a><ul class="sidebar-sub-headers"></ul></li></ul></li><li class="sidebar-sub-header"><a aria-current="page" href="/%E8%AF%AD%E8%A8%80%E8%BF%9B%E9%98%B6/%E5%AE%9E%E7%94%A8%E6%A1%86%E6%9E%B6/gin.html#æ•°æ®è§£æ" class="router-link-active router-link-exact-active nav-link sidebar-link heading" aria-label="æ•°æ®è§£æ"><!---->æ•°æ®è§£æ<!----></a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a aria-current="page" href="/%E8%AF%AD%E8%A8%80%E8%BF%9B%E9%98%B6/%E5%AE%9E%E7%94%A8%E6%A1%86%E6%9E%B6/gin.html#jsonæ•°æ®ç»‘å®š" class="router-link-active router-link-exact-active nav-link sidebar-link heading" aria-label="Jsonæ•°æ®ç»‘å®š"><!---->Jsonæ•°æ®ç»‘å®š<!----></a><ul class="sidebar-sub-headers"></ul></li><li class="sidebar-sub-header"><a aria-current="page" href="/%E8%AF%AD%E8%A8%80%E8%BF%9B%E9%98%B6/%E5%AE%9E%E7%94%A8%E6%A1%86%E6%9E%B6/gin.html#è¡¨å•æ•°æ®ç»‘å®š" class="router-link-active router-link-exact-active nav-link sidebar-link heading" aria-label="è¡¨å•æ•°æ®ç»‘å®š"><!---->è¡¨å•æ•°æ®ç»‘å®š<!----></a><ul class="sidebar-sub-headers"></ul></li><li class="sidebar-sub-header"><a aria-current="page" href="/%E8%AF%AD%E8%A8%80%E8%BF%9B%E9%98%B6/%E5%AE%9E%E7%94%A8%E6%A1%86%E6%9E%B6/gin.html#urlæ•°æ®ç»‘å®š" class="router-link-active router-link-exact-active nav-link sidebar-link heading" aria-label="URLæ•°æ®ç»‘å®š"><!---->URLæ•°æ®ç»‘å®š<!----></a><ul class="sidebar-sub-headers"></ul></li><li class="sidebar-sub-header"><a aria-current="page" href="/%E8%AF%AD%E8%A8%80%E8%BF%9B%E9%98%B6/%E5%AE%9E%E7%94%A8%E6%A1%86%E6%9E%B6/gin.html#å¤šæ¬¡ç»‘å®š" class="router-link-active router-link-exact-active nav-link sidebar-link heading" aria-label="å¤šæ¬¡ç»‘å®š"><!---->å¤šæ¬¡ç»‘å®š<!----></a><ul class="sidebar-sub-headers"></ul></li></ul></li><li class="sidebar-sub-header"><a aria-current="page" href="/%E8%AF%AD%E8%A8%80%E8%BF%9B%E9%98%B6/%E5%AE%9E%E7%94%A8%E6%A1%86%E6%9E%B6/gin.html#æ•°æ®æ ¡éªŒ" class="router-link-active router-link-exact-active nav-link sidebar-link heading" aria-label="æ•°æ®æ ¡éªŒ"><!---->æ•°æ®æ ¡éªŒ<!----></a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a aria-current="page" href="/%E8%AF%AD%E8%A8%80%E8%BF%9B%E9%98%B6/%E5%AE%9E%E7%94%A8%E6%A1%86%E6%9E%B6/gin.html#ç®€å•ç¤ºä¾‹" class="router-link-active router-link-exact-active nav-link sidebar-link heading" aria-label="ç®€å•ç¤ºä¾‹"><!---->ç®€å•ç¤ºä¾‹<!----></a><ul class="sidebar-sub-headers"></ul></li></ul></li><li class="sidebar-sub-header"><a aria-current="page" href="/%E8%AF%AD%E8%A8%80%E8%BF%9B%E9%98%B6/%E5%AE%9E%E7%94%A8%E6%A1%86%E6%9E%B6/gin.html#æ•°æ®å“åº”" class="router-link-active router-link-exact-active nav-link sidebar-link heading" aria-label="æ•°æ®å“åº”"><!---->æ•°æ®å“åº”<!----></a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a aria-current="page" href="/%E8%AF%AD%E8%A8%80%E8%BF%9B%E9%98%B6/%E5%AE%9E%E7%94%A8%E6%A1%86%E6%9E%B6/gin.html#ç®€å•ç¤ºä¾‹-1" class="router-link-active router-link-exact-active nav-link sidebar-link heading" aria-label="ç®€å•ç¤ºä¾‹"><!---->ç®€å•ç¤ºä¾‹<!----></a><ul class="sidebar-sub-headers"></ul></li><li class="sidebar-sub-header"><a aria-current="page" href="/%E8%AF%AD%E8%A8%80%E8%BF%9B%E9%98%B6/%E5%AE%9E%E7%94%A8%E6%A1%86%E6%9E%B6/gin.html#htmlæ¸²æŸ“" class="router-link-active router-link-exact-active nav-link sidebar-link heading" aria-label="HTMLæ¸²æŸ“"><!---->HTMLæ¸²æŸ“<!----></a><ul class="sidebar-sub-headers"></ul></li><li class="sidebar-sub-header"><a aria-current="page" href="/%E8%AF%AD%E8%A8%80%E8%BF%9B%E9%98%B6/%E5%AE%9E%E7%94%A8%E6%A1%86%E6%9E%B6/gin.html#å¿«é€Ÿå“åº”" class="router-link-active router-link-exact-active nav-link sidebar-link heading" aria-label="å¿«é€Ÿå“åº”"><!---->å¿«é€Ÿå“åº”<!----></a><ul class="sidebar-sub-headers"></ul></li><li class="sidebar-sub-header"><a aria-current="page" href="/%E8%AF%AD%E8%A8%80%E8%BF%9B%E9%98%B6/%E5%AE%9E%E7%94%A8%E6%A1%86%E6%9E%B6/gin.html#å¼‚æ­¥å¤„ç†" class="router-link-active router-link-exact-active nav-link sidebar-link heading" aria-label="å¼‚æ­¥å¤„ç†"><!---->å¼‚æ­¥å¤„ç†<!----></a><ul class="sidebar-sub-headers"></ul></li></ul></li><li class="sidebar-sub-header"><a aria-current="page" href="/%E8%AF%AD%E8%A8%80%E8%BF%9B%E9%98%B6/%E5%AE%9E%E7%94%A8%E6%A1%86%E6%9E%B6/gin.html#æ–‡ä»¶ä¼ è¾“" class="router-link-active router-link-exact-active nav-link sidebar-link heading" aria-label="æ–‡ä»¶ä¼ è¾“"><!---->æ–‡ä»¶ä¼ è¾“<!----></a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a aria-current="page" href="/%E8%AF%AD%E8%A8%80%E8%BF%9B%E9%98%B6/%E5%AE%9E%E7%94%A8%E6%A1%86%E6%9E%B6/gin.html#å•æ–‡ä»¶ä¸Šä¼ " class="router-link-active router-link-exact-active nav-link sidebar-link heading" aria-label="å•æ–‡ä»¶ä¸Šä¼ "><!---->å•æ–‡ä»¶ä¸Šä¼ <!----></a><ul class="sidebar-sub-headers"></ul></li><li class="sidebar-sub-header"><a aria-current="page" href="/%E8%AF%AD%E8%A8%80%E8%BF%9B%E9%98%B6/%E5%AE%9E%E7%94%A8%E6%A1%86%E6%9E%B6/gin.html#å¤šæ–‡ä»¶ä¸Šä¼ " class="router-link-active router-link-exact-active nav-link sidebar-link heading" aria-label="å¤šæ–‡ä»¶ä¸Šä¼ "><!---->å¤šæ–‡ä»¶ä¸Šä¼ <!----></a><ul class="sidebar-sub-headers"></ul></li><li class="sidebar-sub-header"><a aria-current="page" href="/%E8%AF%AD%E8%A8%80%E8%BF%9B%E9%98%B6/%E5%AE%9E%E7%94%A8%E6%A1%86%E6%9E%B6/gin.html#æ–‡ä»¶ä¸‹è½½" class="router-link-active router-link-exact-active nav-link sidebar-link heading" aria-label="æ–‡ä»¶ä¸‹è½½"><!---->æ–‡ä»¶ä¸‹è½½<!----></a><ul class="sidebar-sub-headers"></ul></li></ul></li><li class="sidebar-sub-header"><a aria-current="page" href="/%E8%AF%AD%E8%A8%80%E8%BF%9B%E9%98%B6/%E5%AE%9E%E7%94%A8%E6%A1%86%E6%9E%B6/gin.html#è·¯ç”±ç®¡ç†" class="router-link-active router-link-exact-active nav-link sidebar-link heading" aria-label="è·¯ç”±ç®¡ç†"><!---->è·¯ç”±ç®¡ç†<!----></a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a aria-current="page" href="/%E8%AF%AD%E8%A8%80%E8%BF%9B%E9%98%B6/%E5%AE%9E%E7%94%A8%E6%A1%86%E6%9E%B6/gin.html#è·¯ç”±ç»„" class="router-link-active router-link-exact-active nav-link sidebar-link heading" aria-label="è·¯ç”±ç»„"><!---->è·¯ç”±ç»„<!----></a><ul class="sidebar-sub-headers"></ul></li><li class="sidebar-sub-header"><a aria-current="page" href="/%E8%AF%AD%E8%A8%80%E8%BF%9B%E9%98%B6/%E5%AE%9E%E7%94%A8%E6%A1%86%E6%9E%B6/gin.html#_404è·¯ç”±" class="router-link-active router-link-exact-active nav-link sidebar-link heading" aria-label="404è·¯ç”±"><!---->404è·¯ç”±<!----></a><ul class="sidebar-sub-headers"></ul></li><li class="sidebar-sub-header"><a aria-current="page" href="/%E8%AF%AD%E8%A8%80%E8%BF%9B%E9%98%B6/%E5%AE%9E%E7%94%A8%E6%A1%86%E6%9E%B6/gin.html#_405è·¯ç”±" class="router-link-active router-link-exact-active nav-link sidebar-link heading" aria-label="405è·¯ç”±"><!---->405è·¯ç”±<!----></a><ul class="sidebar-sub-headers"></ul></li><li class="sidebar-sub-header"><a aria-current="page" href="/%E8%AF%AD%E8%A8%80%E8%BF%9B%E9%98%B6/%E5%AE%9E%E7%94%A8%E6%A1%86%E6%9E%B6/gin.html#é‡å®šå‘" class="router-link-active router-link-exact-active nav-link sidebar-link heading" aria-label="é‡å®šå‘"><!---->é‡å®šå‘<!----></a><ul class="sidebar-sub-headers"></ul></li></ul></li><li class="sidebar-sub-header"><a aria-current="page" href="/%E8%AF%AD%E8%A8%80%E8%BF%9B%E9%98%B6/%E5%AE%9E%E7%94%A8%E6%A1%86%E6%9E%B6/gin.html#ä¸­é—´ä»¶" class="router-link-active router-link-exact-active nav-link sidebar-link heading" aria-label="ä¸­é—´ä»¶"><!---->ä¸­é—´ä»¶<!----></a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a aria-current="page" href="/%E8%AF%AD%E8%A8%80%E8%BF%9B%E9%98%B6/%E5%AE%9E%E7%94%A8%E6%A1%86%E6%9E%B6/gin.html#å…¨å±€ä¸­é—´ä»¶" class="router-link-active router-link-exact-active nav-link sidebar-link heading" aria-label="å…¨å±€ä¸­é—´ä»¶"><!---->å…¨å±€ä¸­é—´ä»¶<!----></a><ul class="sidebar-sub-headers"></ul></li><li class="sidebar-sub-header"><a aria-current="page" href="/%E8%AF%AD%E8%A8%80%E8%BF%9B%E9%98%B6/%E5%AE%9E%E7%94%A8%E6%A1%86%E6%9E%B6/gin.html#å±€éƒ¨ä¸­é—´ä»¶" class="router-link-active router-link-exact-active nav-link sidebar-link heading" aria-label="å±€éƒ¨ä¸­é—´ä»¶"><!---->å±€éƒ¨ä¸­é—´ä»¶<!----></a><ul class="sidebar-sub-headers"></ul></li><li class="sidebar-sub-header"><a aria-current="page" href="/%E8%AF%AD%E8%A8%80%E8%BF%9B%E9%98%B6/%E5%AE%9E%E7%94%A8%E6%A1%86%E6%9E%B6/gin.html#ä¸­é—´ä»¶åŸç†" class="router-link-active router-link-exact-active nav-link sidebar-link heading" aria-label="ä¸­é—´ä»¶åŸç†"><!---->ä¸­é—´ä»¶åŸç†<!----></a><ul class="sidebar-sub-headers"></ul></li><li class="sidebar-sub-header"><a aria-current="page" href="/%E8%AF%AD%E8%A8%80%E8%BF%9B%E9%98%B6/%E5%AE%9E%E7%94%A8%E6%A1%86%E6%9E%B6/gin.html#è®¡æ—¶å™¨ä¸­é—´ä»¶" class="router-link-active router-link-exact-active nav-link sidebar-link heading" aria-label="è®¡æ—¶å™¨ä¸­é—´ä»¶"><!---->è®¡æ—¶å™¨ä¸­é—´ä»¶<!----></a><ul class="sidebar-sub-headers"></ul></li></ul></li><li class="sidebar-sub-header"><a aria-current="page" href="/%E8%AF%AD%E8%A8%80%E8%BF%9B%E9%98%B6/%E5%AE%9E%E7%94%A8%E6%A1%86%E6%9E%B6/gin.html#æœåŠ¡é…ç½®" class="router-link-active router-link-exact-active nav-link sidebar-link heading" aria-label="æœåŠ¡é…ç½®"><!---->æœåŠ¡é…ç½®<!----></a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a aria-current="page" href="/%E8%AF%AD%E8%A8%80%E8%BF%9B%E9%98%B6/%E5%AE%9E%E7%94%A8%E6%A1%86%E6%9E%B6/gin.html#httpé…ç½®" class="router-link-active router-link-exact-active nav-link sidebar-link heading" aria-label="Httpé…ç½®"><!---->Httpé…ç½®<!----></a><ul class="sidebar-sub-headers"></ul></li><li class="sidebar-sub-header"><a aria-current="page" href="/%E8%AF%AD%E8%A8%80%E8%BF%9B%E9%98%B6/%E5%AE%9E%E7%94%A8%E6%A1%86%E6%9E%B6/gin.html#é™æ€èµ„æºé…ç½®" class="router-link-active router-link-exact-active nav-link sidebar-link heading" aria-label="é™æ€èµ„æºé…ç½®"><!---->é™æ€èµ„æºé…ç½®<!----></a><ul class="sidebar-sub-headers"></ul></li><li class="sidebar-sub-header"><a aria-current="page" href="/%E8%AF%AD%E8%A8%80%E8%BF%9B%E9%98%B6/%E5%AE%9E%E7%94%A8%E6%A1%86%E6%9E%B6/gin.html#è·¨åŸŸé…ç½®" class="router-link-active router-link-exact-active nav-link sidebar-link heading" aria-label="è·¨åŸŸé…ç½®"><!---->è·¨åŸŸé…ç½®<!----></a><ul class="sidebar-sub-headers"></ul></li></ul></li><li class="sidebar-sub-header"><a aria-current="page" href="/%E8%AF%AD%E8%A8%80%E8%BF%9B%E9%98%B6/%E5%AE%9E%E7%94%A8%E6%A1%86%E6%9E%B6/gin.html#ä¼šè¯æ§åˆ¶" class="router-link-active router-link-exact-active nav-link sidebar-link heading" aria-label="ä¼šè¯æ§åˆ¶"><!---->ä¼šè¯æ§åˆ¶<!----></a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a aria-current="page" href="/%E8%AF%AD%E8%A8%80%E8%BF%9B%E9%98%B6/%E5%AE%9E%E7%94%A8%E6%A1%86%E6%9E%B6/gin.html#cookie" class="router-link-active router-link-exact-active nav-link sidebar-link heading" aria-label="Cookie"><!---->Cookie<!----></a><ul class="sidebar-sub-headers"></ul></li><li class="sidebar-sub-header"><a aria-current="page" href="/%E8%AF%AD%E8%A8%80%E8%BF%9B%E9%98%B6/%E5%AE%9E%E7%94%A8%E6%A1%86%E6%9E%B6/gin.html#session" class="router-link-active router-link-exact-active nav-link sidebar-link heading" aria-label="Session"><!---->Session<!----></a><ul class="sidebar-sub-headers"></ul></li><li class="sidebar-sub-header"><a aria-current="page" href="/%E8%AF%AD%E8%A8%80%E8%BF%9B%E9%98%B6/%E5%AE%9E%E7%94%A8%E6%A1%86%E6%9E%B6/gin.html#jwt" class="router-link-active router-link-exact-active nav-link sidebar-link heading" aria-label="JWT"><!---->JWT<!----></a><ul class="sidebar-sub-headers"></ul></li></ul></li><li class="sidebar-sub-header"><a aria-current="page" href="/%E8%AF%AD%E8%A8%80%E8%BF%9B%E9%98%B6/%E5%AE%9E%E7%94%A8%E6%A1%86%E6%9E%B6/gin.html#æ—¥å¿—ç®¡ç†" class="router-link-active router-link-exact-active nav-link sidebar-link heading" aria-label="æ—¥å¿—ç®¡ç†"><!---->æ—¥å¿—ç®¡ç†<!----></a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a aria-current="page" href="/%E8%AF%AD%E8%A8%80%E8%BF%9B%E9%98%B6/%E5%AE%9E%E7%94%A8%E6%A1%86%E6%9E%B6/gin.html#æ§åˆ¶å°é¢œè‰²" class="router-link-active router-link-exact-active nav-link sidebar-link heading" aria-label="æ§åˆ¶å°é¢œè‰²"><!---->æ§åˆ¶å°é¢œè‰²<!----></a><ul class="sidebar-sub-headers"></ul></li><li class="sidebar-sub-header"><a aria-current="page" href="/%E8%AF%AD%E8%A8%80%E8%BF%9B%E9%98%B6/%E5%AE%9E%E7%94%A8%E6%A1%86%E6%9E%B6/gin.html#æ—¥å¿—å†™å…¥æ–‡ä»¶" class="router-link-active router-link-exact-active nav-link sidebar-link heading" aria-label="æ—¥å¿—å†™å…¥æ–‡ä»¶"><!---->æ—¥å¿—å†™å…¥æ–‡ä»¶<!----></a><ul class="sidebar-sub-headers"></ul></li><li class="sidebar-sub-header"><a aria-current="page" href="/%E8%AF%AD%E8%A8%80%E8%BF%9B%E9%98%B6/%E5%AE%9E%E7%94%A8%E6%A1%86%E6%9E%B6/gin.html#è·¯ç”±è°ƒè¯•æ—¥å¿—æ ¼å¼" class="router-link-active router-link-exact-active nav-link sidebar-link heading" aria-label="è·¯ç”±è°ƒè¯•æ—¥å¿—æ ¼å¼"><!---->è·¯ç”±è°ƒè¯•æ—¥å¿—æ ¼å¼<!----></a><ul class="sidebar-sub-headers"></ul></li></ul></li></ul><!--]--></li><li><!--[--><a href="/%E8%AF%AD%E8%A8%80%E8%BF%9B%E9%98%B6/%E5%AE%9E%E7%94%A8%E6%A1%86%E6%9E%B6/gorm.html" class="nav-link sidebar-link sidebar-page" aria-label="Gorm"><!---->Gorm<!----></a><ul class="sidebar-sub-headers"></ul><!--]--></li><li><!--[--><a href="/%E8%AF%AD%E8%A8%80%E8%BF%9B%E9%98%B6/%E5%AE%9E%E7%94%A8%E6%A1%86%E6%9E%B6/xorm.html" class="nav-link sidebar-link sidebar-page" aria-label="Xorm"><!---->Xorm<!----></a><ul class="sidebar-sub-headers"></ul><!--]--></li></ul></section></li><li><section class="sidebar-group"><button class="sidebar-heading clickable"><span class="font-icon icon iconfont icon-mysql" style=""></span><span class="title">æ•°æ®æ“ä½œ</span><span class="arrow right"></span></button><!----></section></li><li><section class="sidebar-group"><button class="sidebar-heading clickable"><span class="font-icon icon iconfont icon-change" style=""></span><span class="title">å¾®æœåŠ¡</span><span class="arrow right"></span></button><!----></section></li></ul></section></li><li><section class="sidebar-group"><p class="sidebar-heading"><span class="font-icon icon iconfont icon-study" style=""></span><span class="title">ç†è®ºæ€æƒ³</span><!----></p><ul class="sidebar-links"><li><section class="sidebar-group"><button class="sidebar-heading clickable"><span class="font-icon icon iconfont icon-line" style=""></span><span class="title">è®¾è®¡æ¨¡å¼</span><span class="arrow right"></span></button><!----></section></li><li><section class="sidebar-group"><button class="sidebar-heading clickable"><span class="font-icon icon iconfont icon-line" style=""></span><span class="title">ç®—æ³•åˆ·é¢˜</span><span class="arrow right"></span></button><!----></section></li></ul></section></li><li><section class="sidebar-group"><p class="sidebar-heading"><span class="font-icon icon iconfont icon-software" style=""></span><span class="title">å®ç”¨æŠ€æœ¯</span><!----></p><ul class="sidebar-links"><li><section class="sidebar-group"><button class="sidebar-heading clickable"><span class="font-icon icon iconfont icon-discover" style=""></span><span class="title">ä¸­é—´ä»¶</span><span class="arrow right"></span></button><!----></section></li><li><section class="sidebar-group"><button class="sidebar-heading clickable"><span class="font-icon icon iconfont icon-snow" style=""></span><span class="title">æœ‰è¶£æŠ€æœ¯</span><span class="arrow right"></span></button><!----></section></li><li><section class="sidebar-group"><button class="sidebar-heading clickable"><span class="font-icon icon iconfont icon-git" style=""></span><span class="title">Git</span><span class="arrow right"></span></button><!----></section></li><li><section class="sidebar-group"><button class="sidebar-heading clickable"><span class="font-icon icon iconfont icon-relation" style=""></span><span class="title">Docker</span><span class="arrow right"></span></button><!----></section></li><li><section class="sidebar-group"><button class="sidebar-heading clickable"><span class="font-icon icon iconfont icon-linux" style=""></span><span class="title">Linux</span><span class="arrow right"></span></button><!----></section></li></ul></section></li></ul><!--[--><!----><!--]--></aside><!--[--><main class="page" id="main-content"><!--[--><!----><nav class="breadcrumb disable"></nav><div class="page-title"><h1><!---->Gin</h1><div class="page-info"><span class="page-author-info" aria-label="ä½œè€…ğŸ–Š" data-balloon-pos="down"><svg xmlns="http://www.w3.org/2000/svg" class="icon author-icon" viewBox="0 0 1024 1024" fill="currentColor" aria-label="author icon"><path d="M649.6 633.6c86.4-48 147.2-144 147.2-249.6 0-160-128-288-288-288s-288 128-288 288c0 108.8 57.6 201.6 147.2 249.6-121.6 48-214.4 153.6-240 288-3.2 9.6 0 19.2 6.4 25.6 3.2 9.6 12.8 12.8 22.4 12.8h704c9.6 0 19.2-3.2 25.6-12.8 6.4-6.4 9.6-16 6.4-25.6-25.6-134.4-121.6-240-243.2-288z"></path></svg><span><a class="page-author-item" href="https://www.vegetableprogrammer.top/" target="_blank" rel="noopener noreferrer">å¯’æ±Ÿè“‘ç¬ ç¿</a></span><span property="author" content="å¯’æ±Ÿè“‘ç¬ ç¿"></span></span><!----><span class="page-date-info" aria-label="å†™ä½œæ—¥æœŸğŸ“…" data-balloon-pos="down"><svg xmlns="http://www.w3.org/2000/svg" class="icon calendar-icon" viewBox="0 0 1024 1024" fill="currentColor" aria-label="calendar icon"><path d="M716.4 110.137c0-18.753-14.72-33.473-33.472-33.473-18.753 0-33.473 14.72-33.473 33.473v33.473h66.993v-33.473zm-334.87 0c0-18.753-14.72-33.473-33.473-33.473s-33.52 14.72-33.52 33.473v33.473h66.993v-33.473zm468.81 33.52H716.4v100.465c0 18.753-14.72 33.473-33.472 33.473a33.145 33.145 0 01-33.473-33.473V143.657H381.53v100.465c0 18.753-14.72 33.473-33.473 33.473a33.145 33.145 0 01-33.473-33.473V143.657H180.6A134.314 134.314 0 0046.66 277.595v535.756A134.314 134.314 0 00180.6 947.289h669.74a134.36 134.36 0 00133.94-133.938V277.595a134.314 134.314 0 00-133.94-133.938zm33.473 267.877H147.126a33.145 33.145 0 01-33.473-33.473c0-18.752 14.72-33.473 33.473-33.473h736.687c18.752 0 33.472 14.72 33.472 33.473a33.145 33.145 0 01-33.472 33.473z"></path></svg><span><!----></span><meta property="datePublished" content="2023-02-13T05:04:15.000Z"></span><!----><span class="page-reading-time-info" aria-label="é˜…è¯»æ—¶é—´âŒ›" data-balloon-pos="down"><svg xmlns="http://www.w3.org/2000/svg" class="icon timer-icon" viewBox="0 0 1024 1024" fill="currentColor" aria-label="timer icon"><path d="M799.387 122.15c4.402-2.978 7.38-7.897 7.38-13.463v-1.165c0-8.933-7.38-16.312-16.312-16.312H256.33c-8.933 0-16.311 7.38-16.311 16.312v1.165c0 5.825 2.977 10.874 7.637 13.592 4.143 194.44 97.22 354.963 220.201 392.763-122.204 37.542-214.893 196.511-220.2 389.397-4.661 5.049-7.638 11.651-7.638 19.03v5.825h566.49v-5.825c0-7.379-2.849-13.981-7.509-18.9-5.049-193.016-97.867-351.985-220.2-389.527 123.24-37.67 216.446-198.453 220.588-392.892zM531.16 450.445v352.632c117.674 1.553 211.787 40.778 211.787 88.676H304.097c0-48.286 95.149-87.382 213.728-88.676V450.445c-93.077-3.107-167.901-81.297-167.901-177.093 0-8.803 6.99-15.793 15.793-15.793 8.803 0 15.794 6.99 15.794 15.793 0 80.261 63.69 145.635 142.01 145.635s142.011-65.374 142.011-145.635c0-8.803 6.99-15.793 15.794-15.793s15.793 6.99 15.793 15.793c0 95.019-73.789 172.82-165.96 177.093z"></path></svg><span>å¤§çº¦ 52 åˆ†é’Ÿ</span><meta property="timeRequired" content="PT52M"></span><!----><!----></div><hr></div><div class="toc-place-holder"><aside id="toc"><div class="toc-header">æ­¤é¡µå†…å®¹<button class="print-button" title="print"><svg xmlns="http://www.w3.org/2000/svg" class="icon print-icon" viewBox="0 0 1024 1024" fill="currentColor" aria-label="print icon"><path d="M819.2 364.8h-44.8V128c0-17.067-14.933-32-32-32H281.6c-17.067 0-32 14.933-32 32v236.8h-44.8C145.067 364.8 96 413.867 96 473.6v192c0 59.733 49.067 108.8 108.8 108.8h44.8V896c0 17.067 14.933 32 32 32h460.8c17.067 0 32-14.933 32-32V774.4h44.8c59.733 0 108.8-49.067 108.8-108.8v-192c0-59.733-49.067-108.8-108.8-108.8zM313.6 160h396.8v204.8H313.6V160zm396.8 704H313.6V620.8h396.8V864zM864 665.6c0 25.6-19.2 44.8-44.8 44.8h-44.8V588.8c0-17.067-14.933-32-32-32H281.6c-17.067 0-32 14.933-32 32v121.6h-44.8c-25.6 0-44.8-19.2-44.8-44.8v-192c0-25.6 19.2-44.8 44.8-44.8h614.4c25.6 0 44.8 19.2 44.8 44.8v192z"></path></svg></button></div><div class="toc-wrapper"><ul class="toc-list"><!--[--><li class="toc-item"><a aria-current="page" href="/%E8%AF%AD%E8%A8%80%E8%BF%9B%E9%98%B6/%E5%AE%9E%E7%94%A8%E6%A1%86%E6%9E%B6/gin.html#ä»‹ç»" class="router-link-active router-link-exact-active toc-link level2">ä»‹ç»</a></li><!----><!--]--><!--[--><li class="toc-item"><a aria-current="page" href="/%E8%AF%AD%E8%A8%80%E8%BF%9B%E9%98%B6/%E5%AE%9E%E7%94%A8%E6%A1%86%E6%9E%B6/gin.html#ç‰¹æ€§" class="router-link-active router-link-exact-active toc-link level2">ç‰¹æ€§</a></li><!----><!--]--><!--[--><li class="toc-item"><a aria-current="page" href="/%E8%AF%AD%E8%A8%80%E8%BF%9B%E9%98%B6/%E5%AE%9E%E7%94%A8%E6%A1%86%E6%9E%B6/gin.html#å®‰è£…" class="router-link-active router-link-exact-active toc-link level2">å®‰è£…</a></li><!----><!--]--><!--[--><li class="toc-item"><a aria-current="page" href="/%E8%AF%AD%E8%A8%80%E8%BF%9B%E9%98%B6/%E5%AE%9E%E7%94%A8%E6%A1%86%E6%9E%B6/gin.html#å¿«é€Ÿå¼€å§‹" class="router-link-active router-link-exact-active toc-link level2">å¿«é€Ÿå¼€å§‹</a></li><!----><!--]--><!--[--><li class="toc-item"><a aria-current="page" href="/%E8%AF%AD%E8%A8%80%E8%BF%9B%E9%98%B6/%E5%AE%9E%E7%94%A8%E6%A1%86%E6%9E%B6/gin.html#æ•™ç¨‹" class="router-link-active router-link-exact-active toc-link level2">æ•™ç¨‹</a></li><!----><!--]--><!--[--><li class="toc-item"><a aria-current="page" href="/%E8%AF%AD%E8%A8%80%E8%BF%9B%E9%98%B6/%E5%AE%9E%E7%94%A8%E6%A1%86%E6%9E%B6/gin.html#å‚æ•°è§£æ" class="router-link-active router-link-exact-active toc-link level2">å‚æ•°è§£æ</a></li><ul class="toc-list"><!--[--><li class="toc-item"><a aria-current="page" href="/%E8%AF%AD%E8%A8%80%E8%BF%9B%E9%98%B6/%E5%AE%9E%E7%94%A8%E6%A1%86%E6%9E%B6/gin.html#è·¯ç”±å‚æ•°" class="router-link-active router-link-exact-active toc-link level3">è·¯ç”±å‚æ•°</a></li><!----><!--]--><!--[--><li class="toc-item"><a aria-current="page" href="/%E8%AF%AD%E8%A8%80%E8%BF%9B%E9%98%B6/%E5%AE%9E%E7%94%A8%E6%A1%86%E6%9E%B6/gin.html#urlå‚æ•°" class="router-link-active router-link-exact-active toc-link level3">URLå‚æ•°</a></li><!----><!--]--><!--[--><li class="toc-item"><a aria-current="page" href="/%E8%AF%AD%E8%A8%80%E8%BF%9B%E9%98%B6/%E5%AE%9E%E7%94%A8%E6%A1%86%E6%9E%B6/gin.html#è¡¨å•å‚æ•°" class="router-link-active router-link-exact-active toc-link level3">è¡¨å•å‚æ•°</a></li><!----><!--]--></ul><!--]--><!--[--><li class="toc-item"><a aria-current="page" href="/%E8%AF%AD%E8%A8%80%E8%BF%9B%E9%98%B6/%E5%AE%9E%E7%94%A8%E6%A1%86%E6%9E%B6/gin.html#æ•°æ®è§£æ" class="router-link-active router-link-exact-active toc-link level2">æ•°æ®è§£æ</a></li><ul class="toc-list"><!--[--><li class="toc-item"><a aria-current="page" href="/%E8%AF%AD%E8%A8%80%E8%BF%9B%E9%98%B6/%E5%AE%9E%E7%94%A8%E6%A1%86%E6%9E%B6/gin.html#jsonæ•°æ®ç»‘å®š" class="router-link-active router-link-exact-active toc-link level3">Jsonæ•°æ®ç»‘å®š</a></li><!----><!--]--><!--[--><li class="toc-item"><a aria-current="page" href="/%E8%AF%AD%E8%A8%80%E8%BF%9B%E9%98%B6/%E5%AE%9E%E7%94%A8%E6%A1%86%E6%9E%B6/gin.html#è¡¨å•æ•°æ®ç»‘å®š" class="router-link-active router-link-exact-active toc-link level3">è¡¨å•æ•°æ®ç»‘å®š</a></li><!----><!--]--><!--[--><li class="toc-item"><a aria-current="page" href="/%E8%AF%AD%E8%A8%80%E8%BF%9B%E9%98%B6/%E5%AE%9E%E7%94%A8%E6%A1%86%E6%9E%B6/gin.html#urlæ•°æ®ç»‘å®š" class="router-link-active router-link-exact-active toc-link level3">URLæ•°æ®ç»‘å®š</a></li><!----><!--]--><!--[--><li class="toc-item"><a aria-current="page" href="/%E8%AF%AD%E8%A8%80%E8%BF%9B%E9%98%B6/%E5%AE%9E%E7%94%A8%E6%A1%86%E6%9E%B6/gin.html#å¤šæ¬¡ç»‘å®š" class="router-link-active router-link-exact-active toc-link level3">å¤šæ¬¡ç»‘å®š</a></li><!----><!--]--></ul><!--]--><!--[--><li class="toc-item"><a aria-current="page" href="/%E8%AF%AD%E8%A8%80%E8%BF%9B%E9%98%B6/%E5%AE%9E%E7%94%A8%E6%A1%86%E6%9E%B6/gin.html#æ•°æ®æ ¡éªŒ" class="router-link-active router-link-exact-active toc-link level2">æ•°æ®æ ¡éªŒ</a></li><ul class="toc-list"><!--[--><li class="toc-item"><a aria-current="page" href="/%E8%AF%AD%E8%A8%80%E8%BF%9B%E9%98%B6/%E5%AE%9E%E7%94%A8%E6%A1%86%E6%9E%B6/gin.html#ç®€å•ç¤ºä¾‹" class="router-link-active router-link-exact-active toc-link level3">ç®€å•ç¤ºä¾‹</a></li><!----><!--]--></ul><!--]--><!--[--><li class="toc-item"><a aria-current="page" href="/%E8%AF%AD%E8%A8%80%E8%BF%9B%E9%98%B6/%E5%AE%9E%E7%94%A8%E6%A1%86%E6%9E%B6/gin.html#æ•°æ®å“åº”" class="router-link-active router-link-exact-active toc-link level2">æ•°æ®å“åº”</a></li><ul class="toc-list"><!--[--><li class="toc-item"><a aria-current="page" href="/%E8%AF%AD%E8%A8%80%E8%BF%9B%E9%98%B6/%E5%AE%9E%E7%94%A8%E6%A1%86%E6%9E%B6/gin.html#ç®€å•ç¤ºä¾‹-1" class="router-link-active router-link-exact-active toc-link level3">ç®€å•ç¤ºä¾‹</a></li><!----><!--]--><!--[--><li class="toc-item"><a aria-current="page" href="/%E8%AF%AD%E8%A8%80%E8%BF%9B%E9%98%B6/%E5%AE%9E%E7%94%A8%E6%A1%86%E6%9E%B6/gin.html#htmlæ¸²æŸ“" class="router-link-active router-link-exact-active toc-link level3">HTMLæ¸²æŸ“</a></li><!----><!--]--><!--[--><li class="toc-item"><a aria-current="page" href="/%E8%AF%AD%E8%A8%80%E8%BF%9B%E9%98%B6/%E5%AE%9E%E7%94%A8%E6%A1%86%E6%9E%B6/gin.html#å¿«é€Ÿå“åº”" class="router-link-active router-link-exact-active toc-link level3">å¿«é€Ÿå“åº”</a></li><!----><!--]--><!--[--><li class="toc-item"><a aria-current="page" href="/%E8%AF%AD%E8%A8%80%E8%BF%9B%E9%98%B6/%E5%AE%9E%E7%94%A8%E6%A1%86%E6%9E%B6/gin.html#å¼‚æ­¥å¤„ç†" class="router-link-active router-link-exact-active toc-link level3">å¼‚æ­¥å¤„ç†</a></li><!----><!--]--></ul><!--]--><!--[--><li class="toc-item"><a aria-current="page" href="/%E8%AF%AD%E8%A8%80%E8%BF%9B%E9%98%B6/%E5%AE%9E%E7%94%A8%E6%A1%86%E6%9E%B6/gin.html#æ–‡ä»¶ä¼ è¾“" class="router-link-active router-link-exact-active toc-link level2">æ–‡ä»¶ä¼ è¾“</a></li><ul class="toc-list"><!--[--><li class="toc-item"><a aria-current="page" href="/%E8%AF%AD%E8%A8%80%E8%BF%9B%E9%98%B6/%E5%AE%9E%E7%94%A8%E6%A1%86%E6%9E%B6/gin.html#å•æ–‡ä»¶ä¸Šä¼ " class="router-link-active router-link-exact-active toc-link level3">å•æ–‡ä»¶ä¸Šä¼ </a></li><!----><!--]--><!--[--><li class="toc-item"><a aria-current="page" href="/%E8%AF%AD%E8%A8%80%E8%BF%9B%E9%98%B6/%E5%AE%9E%E7%94%A8%E6%A1%86%E6%9E%B6/gin.html#å¤šæ–‡ä»¶ä¸Šä¼ " class="router-link-active router-link-exact-active toc-link level3">å¤šæ–‡ä»¶ä¸Šä¼ </a></li><!----><!--]--><!--[--><li class="toc-item"><a aria-current="page" href="/%E8%AF%AD%E8%A8%80%E8%BF%9B%E9%98%B6/%E5%AE%9E%E7%94%A8%E6%A1%86%E6%9E%B6/gin.html#æ–‡ä»¶ä¸‹è½½" class="router-link-active router-link-exact-active toc-link level3">æ–‡ä»¶ä¸‹è½½</a></li><!----><!--]--></ul><!--]--><!--[--><li class="toc-item"><a aria-current="page" href="/%E8%AF%AD%E8%A8%80%E8%BF%9B%E9%98%B6/%E5%AE%9E%E7%94%A8%E6%A1%86%E6%9E%B6/gin.html#è·¯ç”±ç®¡ç†" class="router-link-active router-link-exact-active toc-link level2">è·¯ç”±ç®¡ç†</a></li><ul class="toc-list"><!--[--><li class="toc-item"><a aria-current="page" href="/%E8%AF%AD%E8%A8%80%E8%BF%9B%E9%98%B6/%E5%AE%9E%E7%94%A8%E6%A1%86%E6%9E%B6/gin.html#è·¯ç”±ç»„" class="router-link-active router-link-exact-active toc-link level3">è·¯ç”±ç»„</a></li><!----><!--]--><!--[--><li class="toc-item"><a aria-current="page" href="/%E8%AF%AD%E8%A8%80%E8%BF%9B%E9%98%B6/%E5%AE%9E%E7%94%A8%E6%A1%86%E6%9E%B6/gin.html#_404è·¯ç”±" class="router-link-active router-link-exact-active toc-link level3">404è·¯ç”±</a></li><!----><!--]--><!--[--><li class="toc-item"><a aria-current="page" href="/%E8%AF%AD%E8%A8%80%E8%BF%9B%E9%98%B6/%E5%AE%9E%E7%94%A8%E6%A1%86%E6%9E%B6/gin.html#_405è·¯ç”±" class="router-link-active router-link-exact-active toc-link level3">405è·¯ç”±</a></li><!----><!--]--><!--[--><li class="toc-item"><a aria-current="page" href="/%E8%AF%AD%E8%A8%80%E8%BF%9B%E9%98%B6/%E5%AE%9E%E7%94%A8%E6%A1%86%E6%9E%B6/gin.html#é‡å®šå‘" class="router-link-active router-link-exact-active toc-link level3">é‡å®šå‘</a></li><!----><!--]--></ul><!--]--><!--[--><li class="toc-item"><a aria-current="page" href="/%E8%AF%AD%E8%A8%80%E8%BF%9B%E9%98%B6/%E5%AE%9E%E7%94%A8%E6%A1%86%E6%9E%B6/gin.html#ä¸­é—´ä»¶" class="router-link-active router-link-exact-active toc-link level2">ä¸­é—´ä»¶</a></li><ul class="toc-list"><!--[--><li class="toc-item"><a aria-current="page" href="/%E8%AF%AD%E8%A8%80%E8%BF%9B%E9%98%B6/%E5%AE%9E%E7%94%A8%E6%A1%86%E6%9E%B6/gin.html#å…¨å±€ä¸­é—´ä»¶" class="router-link-active router-link-exact-active toc-link level3">å…¨å±€ä¸­é—´ä»¶</a></li><!----><!--]--><!--[--><li class="toc-item"><a aria-current="page" href="/%E8%AF%AD%E8%A8%80%E8%BF%9B%E9%98%B6/%E5%AE%9E%E7%94%A8%E6%A1%86%E6%9E%B6/gin.html#å±€éƒ¨ä¸­é—´ä»¶" class="router-link-active router-link-exact-active toc-link level3">å±€éƒ¨ä¸­é—´ä»¶</a></li><!----><!--]--><!--[--><li class="toc-item"><a aria-current="page" href="/%E8%AF%AD%E8%A8%80%E8%BF%9B%E9%98%B6/%E5%AE%9E%E7%94%A8%E6%A1%86%E6%9E%B6/gin.html#ä¸­é—´ä»¶åŸç†" class="router-link-active router-link-exact-active toc-link level3">ä¸­é—´ä»¶åŸç†</a></li><!----><!--]--><!--[--><li class="toc-item"><a aria-current="page" href="/%E8%AF%AD%E8%A8%80%E8%BF%9B%E9%98%B6/%E5%AE%9E%E7%94%A8%E6%A1%86%E6%9E%B6/gin.html#è®¡æ—¶å™¨ä¸­é—´ä»¶" class="router-link-active router-link-exact-active toc-link level3">è®¡æ—¶å™¨ä¸­é—´ä»¶</a></li><!----><!--]--></ul><!--]--><!--[--><li class="toc-item"><a aria-current="page" href="/%E8%AF%AD%E8%A8%80%E8%BF%9B%E9%98%B6/%E5%AE%9E%E7%94%A8%E6%A1%86%E6%9E%B6/gin.html#æœåŠ¡é…ç½®" class="router-link-active router-link-exact-active toc-link level2">æœåŠ¡é…ç½®</a></li><ul class="toc-list"><!--[--><li class="toc-item"><a aria-current="page" href="/%E8%AF%AD%E8%A8%80%E8%BF%9B%E9%98%B6/%E5%AE%9E%E7%94%A8%E6%A1%86%E6%9E%B6/gin.html#httpé…ç½®" class="router-link-active router-link-exact-active toc-link level3">Httpé…ç½®</a></li><!----><!--]--><!--[--><li class="toc-item"><a aria-current="page" href="/%E8%AF%AD%E8%A8%80%E8%BF%9B%E9%98%B6/%E5%AE%9E%E7%94%A8%E6%A1%86%E6%9E%B6/gin.html#é™æ€èµ„æºé…ç½®" class="router-link-active router-link-exact-active toc-link level3">é™æ€èµ„æºé…ç½®</a></li><!----><!--]--><!--[--><li class="toc-item"><a aria-current="page" href="/%E8%AF%AD%E8%A8%80%E8%BF%9B%E9%98%B6/%E5%AE%9E%E7%94%A8%E6%A1%86%E6%9E%B6/gin.html#è·¨åŸŸé…ç½®" class="router-link-active router-link-exact-active toc-link level3">è·¨åŸŸé…ç½®</a></li><!----><!--]--></ul><!--]--><!--[--><li class="toc-item"><a aria-current="page" href="/%E8%AF%AD%E8%A8%80%E8%BF%9B%E9%98%B6/%E5%AE%9E%E7%94%A8%E6%A1%86%E6%9E%B6/gin.html#ä¼šè¯æ§åˆ¶" class="router-link-active router-link-exact-active toc-link level2">ä¼šè¯æ§åˆ¶</a></li><ul class="toc-list"><!--[--><li class="toc-item"><a aria-current="page" href="/%E8%AF%AD%E8%A8%80%E8%BF%9B%E9%98%B6/%E5%AE%9E%E7%94%A8%E6%A1%86%E6%9E%B6/gin.html#cookie" class="router-link-active router-link-exact-active toc-link level3">Cookie</a></li><!----><!--]--><!--[--><li class="toc-item"><a aria-current="page" href="/%E8%AF%AD%E8%A8%80%E8%BF%9B%E9%98%B6/%E5%AE%9E%E7%94%A8%E6%A1%86%E6%9E%B6/gin.html#session" class="router-link-active router-link-exact-active toc-link level3">Session</a></li><!----><!--]--><!--[--><li class="toc-item"><a aria-current="page" href="/%E8%AF%AD%E8%A8%80%E8%BF%9B%E9%98%B6/%E5%AE%9E%E7%94%A8%E6%A1%86%E6%9E%B6/gin.html#jwt" class="router-link-active router-link-exact-active toc-link level3">JWT</a></li><!----><!--]--></ul><!--]--><!--[--><li class="toc-item"><a aria-current="page" href="/%E8%AF%AD%E8%A8%80%E8%BF%9B%E9%98%B6/%E5%AE%9E%E7%94%A8%E6%A1%86%E6%9E%B6/gin.html#æ—¥å¿—ç®¡ç†" class="router-link-active router-link-exact-active toc-link level2">æ—¥å¿—ç®¡ç†</a></li><ul class="toc-list"><!--[--><li class="toc-item"><a aria-current="page" href="/%E8%AF%AD%E8%A8%80%E8%BF%9B%E9%98%B6/%E5%AE%9E%E7%94%A8%E6%A1%86%E6%9E%B6/gin.html#æ§åˆ¶å°é¢œè‰²" class="router-link-active router-link-exact-active toc-link level3">æ§åˆ¶å°é¢œè‰²</a></li><!----><!--]--><!--[--><li class="toc-item"><a aria-current="page" href="/%E8%AF%AD%E8%A8%80%E8%BF%9B%E9%98%B6/%E5%AE%9E%E7%94%A8%E6%A1%86%E6%9E%B6/gin.html#æ—¥å¿—å†™å…¥æ–‡ä»¶" class="router-link-active router-link-exact-active toc-link level3">æ—¥å¿—å†™å…¥æ–‡ä»¶</a></li><!----><!--]--><!--[--><li class="toc-item"><a aria-current="page" href="/%E8%AF%AD%E8%A8%80%E8%BF%9B%E9%98%B6/%E5%AE%9E%E7%94%A8%E6%A1%86%E6%9E%B6/gin.html#è·¯ç”±è°ƒè¯•æ—¥å¿—æ ¼å¼" class="router-link-active router-link-exact-active toc-link level3">è·¯ç”±è°ƒè¯•æ—¥å¿—æ ¼å¼</a></li><!----><!--]--></ul><!--]--></ul></div></aside></div><!----><div class="theme-hope-content"><h1 id="gin" tabindex="-1"><a class="header-anchor" href="#gin" aria-hidden="true">#</a> Gin</h1><p>å®˜æ–¹æ–‡æ¡£ï¼š<a href="https://gin-gonic.com/zh-cn/" target="_blank" rel="noopener noreferrer">Gin Web Framework (gin-gonic.com)<span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">open in new window</span></span></a></p><p>ä»“åº“åœ°å€ï¼š<a href="https://github.com/gin-gonic/gin" target="_blank" rel="noopener noreferrer">gin-gonic/gin: Gin is a HTTP web framework written in Go (Golang)<span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">open in new window</span></span></a></p><p>å®˜æ–¹ç¤ºä¾‹ï¼š<a href="https://github.com/gin-gonic/examples" target="_blank" rel="noopener noreferrer">gin-gonic/examples: A repository to host examples and tutorials for Gin. (github.com)<span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">open in new window</span></span></a></p><h2 id="ä»‹ç»" tabindex="-1"><a class="header-anchor" href="#ä»‹ç»" aria-hidden="true">#</a> ä»‹ç»</h2><p>Gin æ˜¯ä¸€ä¸ªç”¨ Go (Golang) ç¼–å†™çš„ Web æ¡†æ¶ã€‚ å®ƒå…·æœ‰ç±»ä¼¼ martini çš„ APIï¼Œæ€§èƒ½è¦å¥½å¾—å¤šï¼Œå¤šäºäº† <code>httprouter</code>ï¼Œé€Ÿåº¦æé«˜äº† 40 å€ã€‚ å¦‚æœæ‚¨éœ€è¦æ€§èƒ½å’Œè‰¯å¥½çš„ç”Ÿäº§åŠ›ï¼Œæ‚¨ä¸€å®šä¼šå–œæ¬¢ Ginã€‚Ginç›¸æ¯”äºIriså’ŒBeegoè€Œè¨€ï¼Œæ›´å€¾å‘äºè½»é‡åŒ–çš„æ¡†æ¶ï¼Œåªè´Ÿè´£Webéƒ¨åˆ†ï¼Œè¿½æ±‚æè‡´çš„è·¯ç”±æ€§èƒ½ï¼ŒåŠŸèƒ½æˆ–è®¸æ²¡é‚£ä¹ˆå…¨ï¼Œèƒœåœ¨è½»é‡æ˜“æ‹“å±•ï¼Œè¿™ä¹Ÿæ˜¯å®ƒçš„ä¼˜ç‚¹ã€‚å› æ­¤ï¼Œåœ¨æ‰€æœ‰çš„Webæ¡†æ¶ä¸­ï¼ŒGinæ˜¯æœ€å®¹æ˜“ä¸Šæ‰‹å’Œå­¦ä¹ çš„ã€‚</p><div class="hint-container tip"><p class="hint-container-title">æç¤º</p><p><code>Gin</code>æ˜¯ä¸€ä¸ªWebæ¡†æ¶ï¼Œå¹¶éMVCæ¡†æ¶ï¼ŒMVCçš„åŠŸèƒ½éœ€è¦å¼€å‘è€…è‡ªè¡Œå®ç°ã€‚è¿™é‡Œæ¨èä¸€ä¸ªå¾ˆä¼˜ç§€çš„<code>Gin</code>Serverç«¯é¡¹ç›®ï¼š<a href="https://www.gin-vue-admin.com/" target="_blank" rel="noopener noreferrer">gin-vue-admin | GVA æ–‡æ¡£ç«™<span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">open in new window</span></span></a>ï¼Œé‡Œé¢çš„é¡¹ç›®ç»“æ„ï¼Œä»£ç ï¼Œè·¯ç”±ç­‰éƒ½å¾ˆå€¼å¾—å­¦ä¹ ã€‚</p></div><h2 id="ç‰¹æ€§" tabindex="-1"><a class="header-anchor" href="#ç‰¹æ€§" aria-hidden="true">#</a> ç‰¹æ€§</h2><ul><li><strong>å¿«é€Ÿ</strong>ï¼šåŸºäº Radix æ ‘çš„è·¯ç”±ï¼Œå°å†…å­˜å ç”¨ã€‚æ²¡æœ‰åå°„ã€‚å¯é¢„æµ‹çš„ API æ€§èƒ½ã€‚</li><li><strong>æ”¯æŒä¸­é—´ä»¶</strong>ï¼šä¼ å…¥çš„ HTTP è¯·æ±‚å¯ä»¥ç”±ä¸€ç³»åˆ—ä¸­é—´ä»¶å’Œæœ€ç»ˆæ“ä½œæ¥å¤„ç†ã€‚ ä¾‹å¦‚ï¼šLoggerï¼ŒAuthorizationï¼ŒGZIPï¼Œæœ€ç»ˆæ“ä½œ DBã€‚</li><li><strong>Crash å¤„ç†</strong>ï¼šGin å¯ä»¥ catch ä¸€ä¸ªå‘ç”Ÿåœ¨ HTTP è¯·æ±‚ä¸­çš„ panic å¹¶ recover å®ƒã€‚è¿™æ ·ï¼Œä½ çš„æœåŠ¡å™¨å°†å§‹ç»ˆå¯ç”¨ã€‚</li><li><strong>JSON éªŒè¯</strong>ï¼šGin å¯ä»¥è§£æå¹¶éªŒè¯è¯·æ±‚çš„ JSONï¼Œä¾‹å¦‚æ£€æŸ¥æ‰€éœ€å€¼çš„å­˜åœ¨ã€‚</li><li><strong>è·¯ç”±ç»„</strong>ï¼šæ›´å¥½åœ°ç»„ç»‡è·¯ç”±ã€‚æ˜¯å¦éœ€è¦æˆæƒï¼Œä¸åŒçš„ API ç‰ˆæœ¬â€¦â€¦ æ­¤å¤–ï¼Œè¿™äº›ç»„å¯ä»¥æ— é™åˆ¶åœ°åµŒå¥—è€Œä¸ä¼šé™ä½æ€§èƒ½ã€‚</li><li><strong>é”™è¯¯ç®¡ç†</strong>ï¼šGin æä¾›äº†ä¸€ç§æ–¹ä¾¿çš„æ–¹æ³•æ¥æ”¶é›† HTTP è¯·æ±‚æœŸé—´å‘ç”Ÿçš„æ‰€æœ‰é”™è¯¯ã€‚æœ€ç»ˆï¼Œä¸­é—´ä»¶å¯ä»¥å°†å®ƒä»¬å†™å…¥æ—¥å¿—æ–‡ä»¶ï¼Œæ•°æ®åº“å¹¶é€šè¿‡ç½‘ç»œå‘é€ã€‚</li><li><strong>å†…ç½®æ¸²æŸ“</strong>ï¼šGin ä¸º JSONï¼ŒXML å’Œ HTML æ¸²æŸ“æä¾›äº†æ˜“äºä½¿ç”¨çš„ APIã€‚</li><li><strong>å¯æ‰©å±•æ€§</strong>ï¼šæ–°å»ºä¸€ä¸ªä¸­é—´ä»¶éå¸¸ç®€å•</li></ul><h2 id="å®‰è£…" tabindex="-1"><a class="header-anchor" href="#å®‰è£…" aria-hidden="true">#</a> å®‰è£…</h2><p>æˆªæ­¢ç›®å‰<code>2022/11/22</code>ï¼Œginæ”¯æŒçš„goæœ€ä½ç‰ˆæœ¬ä¸º<code>1.16</code>ï¼Œå»ºè®®ä½¿ç”¨<code>go mod</code>æ¥ç®¡ç†é¡¹ç›®ä¾èµ–ã€‚</p><div class="language-powershell line-numbers-mode" data-ext="powershell"><pre class="language-powershell"><code>go get <span class="token operator">-</span>u github<span class="token punctuation">.</span>com/gin-gonic/gin
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><p>å¯¼å…¥</p><div class="language-go line-numbers-mode" data-ext="go"><pre class="language-go"><code><span class="token keyword">import</span> <span class="token string">&quot;github.com/gin-gonic/gin&quot;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><h2 id="å¿«é€Ÿå¼€å§‹" tabindex="-1"><a class="header-anchor" href="#å¿«é€Ÿå¼€å§‹" aria-hidden="true">#</a> å¿«é€Ÿå¼€å§‹</h2><div class="language-go line-numbers-mode" data-ext="go"><pre class="language-go"><code><span class="token keyword">package</span> main

<span class="token keyword">import</span> <span class="token punctuation">(</span>
   <span class="token string">&quot;github.com/gin-gonic/gin&quot;</span>
   <span class="token string">&quot;net/http&quot;</span>
<span class="token punctuation">)</span>

<span class="token keyword">func</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
   engine <span class="token operator">:=</span> gin<span class="token punctuation">.</span><span class="token function">Default</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token comment">//åˆ›å»ºginå¼•æ“</span>
   engine<span class="token punctuation">.</span><span class="token function">GET</span><span class="token punctuation">(</span><span class="token string">&quot;/ping&quot;</span><span class="token punctuation">,</span> <span class="token keyword">func</span><span class="token punctuation">(</span>context <span class="token operator">*</span>gin<span class="token punctuation">.</span>Context<span class="token punctuation">)</span> <span class="token punctuation">{</span>
      context<span class="token punctuation">.</span><span class="token function">JSON</span><span class="token punctuation">(</span>http<span class="token punctuation">.</span>StatusOK<span class="token punctuation">,</span> gin<span class="token punctuation">.</span>H<span class="token punctuation">{</span>
         <span class="token string">&quot;message&quot;</span><span class="token punctuation">:</span> <span class="token string">&quot;pong&quot;</span><span class="token punctuation">,</span>
      <span class="token punctuation">}</span><span class="token punctuation">)</span>
   <span class="token punctuation">}</span><span class="token punctuation">)</span>
   engine<span class="token punctuation">.</span><span class="token function">Run</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token comment">//å¼€å¯æœåŠ¡å™¨ï¼Œé»˜è®¤ç›‘å¬localhost:8080</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>è¯·æ±‚URL</p><div class="language-http line-numbers-mode" data-ext="http"><pre class="language-http"><code>GET localhost:8080/ping
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><p>è¿”å›</p><div class="language-http line-numbers-mode" data-ext="http"><pre class="language-http"><code><span class="token response-status"><span class="token http-version property">HTTP/1.1</span> <span class="token status-code number">200</span> <span class="token reason-phrase string">OK</span></span>
<span class="token header"><span class="token header-name keyword">Content-Type</span><span class="token punctuation">:</span> <span class="token header-value">application/json; charset=utf-8</span></span>
<span class="token header"><span class="token header-name keyword">Date</span><span class="token punctuation">:</span> <span class="token header-value">Tue, 22 Nov 2022 08:47:11 GMT</span></span>
<span class="token header"><span class="token header-name keyword">Content-Length</span><span class="token punctuation">:</span> <span class="token header-value">18</span></span>

{
  &quot;message&quot;: &quot;pong&quot;
}
Response file saved.
&gt; 2022-11-22T164711.200.json
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h2 id="æ•™ç¨‹" tabindex="-1"><a class="header-anchor" href="#æ•™ç¨‹" aria-hidden="true">#</a> æ•™ç¨‹</h2><p>å…¶å®<code>Gin</code>å®˜æ–¹æ–‡æ¡£é‡Œé¢å¹¶æ²¡æœ‰å¤šå°‘æ•™ç¨‹ï¼Œå¤§å¤šæ•°åªæ˜¯ä¸€äº›ä»‹ç»å’ŒåŸºæœ¬ä½¿ç”¨å’Œä¸€äº›ä¾‹å­ï¼Œä½†æ˜¯<code>gin-gonic/</code> ç»„ç»‡ä¸‹ï¼Œæœ‰ä¸€ä¸ª<code>gin-gonic/examples</code>ä»“åº“ï¼Œè¿™æ˜¯ä¸€ä¸ªç”±ç¤¾åŒºå…±åŒç»´æŠ¤çš„<code>gin</code>ç¤ºä¾‹ä»“åº“ã€‚éƒ½æ˜¯å…¨è‹±æ–‡ï¼Œæ›´æ–°æ—¶é—´å¹¶ä¸æ˜¯ç‰¹åˆ«é¢‘ç¹ï¼Œç¬”è€…ä¹Ÿæ˜¯ä»è¿™é‡Œæ…¢æ…¢å­¦ä¹ çš„<code>gin</code>æ¡†æ¶ã€‚</p><p>ç¤ºä¾‹ä»“åº“åœ°å€ï¼š<a href="https://github.com/gin-gonic/examples" target="_blank" rel="noopener noreferrer">gin-gonic/examples: A repository to host examples and tutorials for Gin. (github.com)<span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">open in new window</span></span></a></p><div class="hint-container tip"><p class="hint-container-title">æç¤º</p><p>å¼€å§‹ä¹‹å‰å»ºè®®å¯ä»¥é˜…è¯»ä¸€ä¸‹<code>HttpRouter</code>çš„ç®€å•æ•™ç¨‹:<a href="/%E8%AF%AD%E8%A8%80%E8%BF%9B%E9%98%B6/%E5%AE%9E%E7%94%A8%E6%A1%86%E6%9E%B6/src/%E8%AF%AD%E8%A8%80%E8%BF%9B%E9%98%B6/%E5%AE%9E%E7%94%A8%E4%BE%9D%E8%B5%96/HttpRouter.html" class="">HttpRouterç®€å•æ•™ç¨‹</a></p></div><h2 id="å‚æ•°è§£æ" tabindex="-1"><a class="header-anchor" href="#å‚æ•°è§£æ" aria-hidden="true">#</a> å‚æ•°è§£æ</h2><p><code>gin</code>ä¸­çš„å‚æ•°è§£ææ€»å…±æ”¯æŒä¸‰ç§æ–¹å¼:<code>è·¯ç”±å‚æ•°</code>ï¼Œ<code>URLå‚æ•°</code>ï¼Œ<code>è¡¨å•å‚æ•°</code>ï¼Œä¸‹é¢é€ä¸€è®²è§£å¹¶ç»“åˆä»£ç ç¤ºä¾‹ï¼Œæ¯”è¾ƒç®€å•æ˜“æ‡‚ã€‚</p><h3 id="è·¯ç”±å‚æ•°" tabindex="-1"><a class="header-anchor" href="#è·¯ç”±å‚æ•°" aria-hidden="true">#</a> è·¯ç”±å‚æ•°</h3><p>è·¯ç”±å‚æ•°å…¶å®æ˜¯å°è£…äº†<code>HttpRouter</code>çš„å‚æ•°è§£æåŠŸèƒ½ï¼Œä½¿ç”¨æ–¹æ³•åŸºæœ¬ä¸Šä¸<code>HttpRouter</code>ä¸€è‡´ã€‚</p><div class="language-go line-numbers-mode" data-ext="go"><pre class="language-go"><code><span class="token keyword">package</span> main

<span class="token keyword">import</span> <span class="token punctuation">(</span>
   <span class="token string">&quot;github.com/gin-gonic/gin&quot;</span>
   <span class="token string">&quot;log&quot;</span>
   <span class="token string">&quot;net/http&quot;</span>
<span class="token punctuation">)</span>

<span class="token keyword">func</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
   e <span class="token operator">:=</span> gin<span class="token punctuation">.</span><span class="token function">Default</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
   e<span class="token punctuation">.</span><span class="token function">GET</span><span class="token punctuation">(</span><span class="token string">&quot;/findUser/:username/:userid&quot;</span><span class="token punctuation">,</span> FindUser<span class="token punctuation">)</span>
   e<span class="token punctuation">.</span><span class="token function">GET</span><span class="token punctuation">(</span><span class="token string">&quot;/downloadFile/*filepath&quot;</span><span class="token punctuation">,</span> UserPage<span class="token punctuation">)</span>

   log<span class="token punctuation">.</span><span class="token function">Fatalln</span><span class="token punctuation">(</span>e<span class="token punctuation">.</span><span class="token function">Run</span><span class="token punctuation">(</span><span class="token string">&quot;:8080&quot;</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
<span class="token punctuation">}</span>

<span class="token comment">// å‘½åå‚æ•°ç¤ºä¾‹</span>
<span class="token keyword">func</span> <span class="token function">FindUser</span><span class="token punctuation">(</span>c <span class="token operator">*</span>gin<span class="token punctuation">.</span>Context<span class="token punctuation">)</span> <span class="token punctuation">{</span>
   username <span class="token operator">:=</span> c<span class="token punctuation">.</span><span class="token function">Param</span><span class="token punctuation">(</span><span class="token string">&quot;username&quot;</span><span class="token punctuation">)</span>
   userid <span class="token operator">:=</span> c<span class="token punctuation">.</span><span class="token function">Param</span><span class="token punctuation">(</span><span class="token string">&quot;userid&quot;</span><span class="token punctuation">)</span>
   c<span class="token punctuation">.</span><span class="token function">String</span><span class="token punctuation">(</span>http<span class="token punctuation">.</span>StatusOK<span class="token punctuation">,</span> <span class="token string">&quot;username is %s\n userid is %s&quot;</span><span class="token punctuation">,</span> username<span class="token punctuation">,</span> userid<span class="token punctuation">)</span>
<span class="token punctuation">}</span>

<span class="token comment">// è·¯å¾„å‚æ•°ç¤ºä¾‹</span>
<span class="token keyword">func</span> <span class="token function">UserPage</span><span class="token punctuation">(</span>c <span class="token operator">*</span>gin<span class="token punctuation">.</span>Context<span class="token punctuation">)</span> <span class="token punctuation">{</span>
   filepath <span class="token operator">:=</span> c<span class="token punctuation">.</span><span class="token function">Param</span><span class="token punctuation">(</span><span class="token string">&quot;filepath&quot;</span><span class="token punctuation">)</span>
   c<span class="token punctuation">.</span><span class="token function">String</span><span class="token punctuation">(</span>http<span class="token punctuation">.</span>StatusOK<span class="token punctuation">,</span> <span class="token string">&quot;filepath is  %s&quot;</span><span class="token punctuation">,</span> filepath<span class="token punctuation">)</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>ç¤ºä¾‹ä¸€</p><div class="language-curl line-numbers-mode" data-ext="curl"><pre class="language-curl"><code>curl --location --request GET &#39;127.0.0.1:8080/findUser/jack/001&#39;
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><div class="language-text line-numbers-mode" data-ext="text"><pre class="language-text"><code>username is jack
 userid is 001
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div></div></div><p>ç¤ºä¾‹äºŒ</p><div class="language-curl line-numbers-mode" data-ext="curl"><pre class="language-curl"><code>curl --location --request GET &#39;127.0.0.1:8080/downloadFile/img/fruit.png&#39;
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><div class="language-text line-numbers-mode" data-ext="text"><pre class="language-text"><code>filepath is  /img/fruit.png
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><h3 id="urlå‚æ•°" tabindex="-1"><a class="header-anchor" href="#urlå‚æ•°" aria-hidden="true">#</a> URLå‚æ•°</h3><p>ä¼ ç»Ÿçš„URLå‚æ•°ï¼Œæ ¼å¼å°±æ˜¯<code>/url?key=val&amp;key1=val1&amp;key2=val2</code>ã€‚</p><div class="language-go line-numbers-mode" data-ext="go"><pre class="language-go"><code><span class="token keyword">package</span> main

<span class="token keyword">import</span> <span class="token punctuation">(</span>
   <span class="token string">&quot;github.com/gin-gonic/gin&quot;</span>
   <span class="token string">&quot;log&quot;</span>
   <span class="token string">&quot;net/http&quot;</span>
<span class="token punctuation">)</span>

<span class="token keyword">func</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
   e <span class="token operator">:=</span> gin<span class="token punctuation">.</span><span class="token function">Default</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
   e<span class="token punctuation">.</span><span class="token function">GET</span><span class="token punctuation">(</span><span class="token string">&quot;/findUser&quot;</span><span class="token punctuation">,</span> FindUser<span class="token punctuation">)</span>
   log<span class="token punctuation">.</span><span class="token function">Fatalln</span><span class="token punctuation">(</span>e<span class="token punctuation">.</span><span class="token function">Run</span><span class="token punctuation">(</span><span class="token string">&quot;:8080&quot;</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
<span class="token punctuation">}</span>

<span class="token keyword">func</span> <span class="token function">FindUser</span><span class="token punctuation">(</span>c <span class="token operator">*</span>gin<span class="token punctuation">.</span>Context<span class="token punctuation">)</span> <span class="token punctuation">{</span>
   username <span class="token operator">:=</span> c<span class="token punctuation">.</span><span class="token function">DefaultQuery</span><span class="token punctuation">(</span><span class="token string">&quot;username&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;defaultUser&quot;</span><span class="token punctuation">)</span>
   userid <span class="token operator">:=</span> c<span class="token punctuation">.</span><span class="token function">Query</span><span class="token punctuation">(</span><span class="token string">&quot;userid&quot;</span><span class="token punctuation">)</span>
   c<span class="token punctuation">.</span><span class="token function">String</span><span class="token punctuation">(</span>http<span class="token punctuation">.</span>StatusOK<span class="token punctuation">,</span> <span class="token string">&quot;username is %s\nuserid is %s&quot;</span><span class="token punctuation">,</span> username<span class="token punctuation">,</span> userid<span class="token punctuation">)</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>ç¤ºä¾‹ä¸€</p><div class="language-curl line-numbers-mode" data-ext="curl"><pre class="language-curl"><code>curl --location --request GET &#39;127.0.0.1:8080/findUser?username=jack&amp;userid=001&#39;
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><div class="language-text line-numbers-mode" data-ext="text"><pre class="language-text"><code>username is jack
userid is 001
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div></div></div><p>ç¤ºä¾‹äºŒ</p><div class="language-curl line-numbers-mode" data-ext="curl"><pre class="language-curl"><code>curl --location --request GET &#39;127.0.0.1:8080/findUser&#39;
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><div class="language-text line-numbers-mode" data-ext="text"><pre class="language-text"><code>username is defaultUser
userid is 
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="è¡¨å•å‚æ•°" tabindex="-1"><a class="header-anchor" href="#è¡¨å•å‚æ•°" aria-hidden="true">#</a> è¡¨å•å‚æ•°</h3><p>è¡¨å•çš„å†…å®¹ç±»å‹ä¸€èˆ¬æœ‰<code>application/json</code>ï¼Œ<code>application/x-www-form-urlencoded</code>ï¼Œ<code>application/xml</code>ï¼Œ<code>multipart/form-data</code>ã€‚</p><div class="language-go line-numbers-mode" data-ext="go"><pre class="language-go"><code><span class="token keyword">package</span> main

<span class="token keyword">import</span> <span class="token punctuation">(</span>
	<span class="token string">&quot;github.com/gin-gonic/gin&quot;</span>
	<span class="token string">&quot;net/http&quot;</span>
<span class="token punctuation">)</span>

<span class="token keyword">func</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
	e <span class="token operator">:=</span> gin<span class="token punctuation">.</span><span class="token function">Default</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
	e<span class="token punctuation">.</span><span class="token function">POST</span><span class="token punctuation">(</span><span class="token string">&quot;/register&quot;</span><span class="token punctuation">,</span> RegisterUser<span class="token punctuation">)</span>
	e<span class="token punctuation">.</span><span class="token function">POST</span><span class="token punctuation">(</span><span class="token string">&quot;/update&quot;</span><span class="token punctuation">,</span> UpdateUser<span class="token punctuation">)</span>
	e<span class="token punctuation">.</span><span class="token function">Run</span><span class="token punctuation">(</span><span class="token string">&quot;:8080&quot;</span><span class="token punctuation">)</span>
<span class="token punctuation">}</span>

<span class="token keyword">func</span> <span class="token function">RegisterUser</span><span class="token punctuation">(</span>c <span class="token operator">*</span>gin<span class="token punctuation">.</span>Context<span class="token punctuation">)</span> <span class="token punctuation">{</span>
	username <span class="token operator">:=</span> c<span class="token punctuation">.</span><span class="token function">PostForm</span><span class="token punctuation">(</span><span class="token string">&quot;username&quot;</span><span class="token punctuation">)</span>
	password <span class="token operator">:=</span> c<span class="token punctuation">.</span><span class="token function">PostForm</span><span class="token punctuation">(</span><span class="token string">&quot;password&quot;</span><span class="token punctuation">)</span>
	c<span class="token punctuation">.</span><span class="token function">String</span><span class="token punctuation">(</span>http<span class="token punctuation">.</span>StatusOK<span class="token punctuation">,</span> <span class="token string">&quot;successfully registered,your username is [%s],password is [%s]&quot;</span><span class="token punctuation">,</span> username<span class="token punctuation">,</span> password<span class="token punctuation">)</span>
<span class="token punctuation">}</span>

<span class="token keyword">func</span> <span class="token function">UpdateUser</span><span class="token punctuation">(</span>c <span class="token operator">*</span>gin<span class="token punctuation">.</span>Context<span class="token punctuation">)</span> <span class="token punctuation">{</span>
	<span class="token keyword">var</span> form <span class="token keyword">map</span><span class="token punctuation">[</span><span class="token builtin">string</span><span class="token punctuation">]</span><span class="token builtin">string</span>
	c<span class="token punctuation">.</span><span class="token function">ShouldBind</span><span class="token punctuation">(</span><span class="token operator">&amp;</span>form<span class="token punctuation">)</span>
	c<span class="token punctuation">.</span><span class="token function">String</span><span class="token punctuation">(</span>http<span class="token punctuation">.</span>StatusOK<span class="token punctuation">,</span> <span class="token string">&quot;successfully update,your username is [%s],password is [%s]&quot;</span><span class="token punctuation">,</span> form<span class="token punctuation">[</span><span class="token string">&quot;username&quot;</span><span class="token punctuation">]</span><span class="token punctuation">,</span> form<span class="token punctuation">[</span><span class="token string">&quot;password&quot;</span><span class="token punctuation">]</span><span class="token punctuation">)</span>
<span class="token punctuation">}</span>

</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>ç¤ºä¾‹ä¸€ï¼šä½¿ç”¨<code>form-data</code></p><div class="language-curl line-numbers-mode" data-ext="curl"><pre class="language-curl"><code>curl --location --request POST &#39;127.0.0.1:8080/register&#39; \
--form &#39;username=&quot;jack&quot;&#39; \
--form &#39;password=&quot;123456&quot;&#39;
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><div class="language-text line-numbers-mode" data-ext="text"><pre class="language-text"><code>successfully registered,your username is [jack],password is [123456]
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><p><code>PostForm</code>æ–¹æ³•é»˜è®¤è§£æ<code>application/x-www-form-urlencoded</code>å’Œ<code>multipart/form-data</code>ç±»å‹çš„è¡¨å•ã€‚</p><p>ç¤ºä¾‹äºŒï¼šä½¿ç”¨<code>json</code></p><div class="language-curl line-numbers-mode" data-ext="curl"><pre class="language-curl"><code>curl --location --request POST &#39;127.0.0.1:8080/update&#39; \
--header &#39;Content-Type: application/json&#39; \
--data-raw &#39;{
    &quot;username&quot;:&quot;username&quot;,
    &quot;password&quot;:&quot;123456&quot;
}&#39;
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><div class="language-text line-numbers-mode" data-ext="text"><pre class="language-text"><code>successfully update,your username is [username],password is [123456]
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><h2 id="æ•°æ®è§£æ" tabindex="-1"><a class="header-anchor" href="#æ•°æ®è§£æ" aria-hidden="true">#</a> æ•°æ®è§£æ</h2><p>åœ¨å¤§å¤šæ•°æƒ…å†µä¸‹ï¼Œæˆ‘ä»¬éƒ½ä¼šä½¿ç”¨ç»“æ„ä½“æ¥æ‰¿è½½æ•°æ®ï¼Œè€Œä¸æ˜¯ç›´æ¥è§£æå‚æ•°ã€‚åœ¨<code>gin</code>ä¸­ï¼Œç”¨äºæ•°æ®ç»‘å®šçš„æ–¹æ³•ä¸»è¦æ˜¯<code>Bind()</code>å’Œ<code>ShouldBind()</code>ï¼Œä¸¤è€…çš„åŒºåˆ«åœ¨äºå‰è€…å†…éƒ¨ä¹Ÿæ˜¯ç›´æ¥è°ƒç”¨çš„<code>ShouldBind()</code>ï¼Œå½“ç„¶è¿”å›<code>err</code>æ—¶ï¼Œä¼šç›´æ¥è¿›è¡Œ400å“åº”ï¼Œåè€…åˆ™ä¸ä¼šã€‚å¦‚æœæƒ³è¦æ›´åŠ çµæ´»çš„è¿›è¡Œé”™è¯¯å¤„ç†ï¼Œå»ºè®®é€‰æ‹©åè€…ã€‚è¿™ä¸¤ä¸ªå‡½æ•°ä¼šè‡ªåŠ¨æ ¹æ®è¯·æ±‚çš„<code>content-type</code>æ¥è¿›è¡Œæ¨æ–­ç”¨ä»€ä¹ˆæ–¹å¼è§£æã€‚</p><div class="language-go line-numbers-mode" data-ext="go"><pre class="language-go"><code><span class="token keyword">func</span> <span class="token punctuation">(</span>c <span class="token operator">*</span>Context<span class="token punctuation">)</span> <span class="token function">MustBindWith</span><span class="token punctuation">(</span>obj any<span class="token punctuation">,</span> b binding<span class="token punctuation">.</span>Binding<span class="token punctuation">)</span> <span class="token builtin">error</span> <span class="token punctuation">{</span>
    <span class="token comment">// è°ƒç”¨äº†ShouldBindWith()</span>
	<span class="token keyword">if</span> err <span class="token operator">:=</span> c<span class="token punctuation">.</span><span class="token function">ShouldBindWith</span><span class="token punctuation">(</span>obj<span class="token punctuation">,</span> b<span class="token punctuation">)</span><span class="token punctuation">;</span> err <span class="token operator">!=</span> <span class="token boolean">nil</span> <span class="token punctuation">{</span>
		c<span class="token punctuation">.</span><span class="token function">AbortWithError</span><span class="token punctuation">(</span>http<span class="token punctuation">.</span>StatusBadRequest<span class="token punctuation">,</span> err<span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">SetType</span><span class="token punctuation">(</span>ErrorTypeBind<span class="token punctuation">)</span> <span class="token comment">// ç›´æ¥å“åº”400 badrequest</span>
		<span class="token keyword">return</span> err
	<span class="token punctuation">}</span>
	<span class="token keyword">return</span> <span class="token boolean">nil</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>å¦‚æœæƒ³è¦è‡ªè¡Œé€‰æ‹©å¯ä»¥ä½¿ç”¨<code>BindWith()</code>å’Œ<code>ShouldBindWith()</code>ï¼Œä¾‹å¦‚</p><div class="language-go line-numbers-mode" data-ext="go"><pre class="language-go"><code>c<span class="token punctuation">.</span><span class="token function">MustBindWith</span><span class="token punctuation">(</span>obj<span class="token punctuation">,</span> binding<span class="token punctuation">.</span>JSON<span class="token punctuation">)</span> <span class="token comment">//json</span>
c<span class="token punctuation">.</span><span class="token function">MustBindWith</span><span class="token punctuation">(</span>obj<span class="token punctuation">,</span> binding<span class="token punctuation">.</span>XML<span class="token punctuation">)</span> <span class="token comment">//xml</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div></div></div><p>ginæ”¯æŒçš„ç»‘å®šç±»å‹æœ‰å¦‚ä¸‹å‡ ç§å®ç°ï¼š</p><div class="language-go line-numbers-mode" data-ext="go"><pre class="language-go"><code><span class="token keyword">var</span> <span class="token punctuation">(</span>
   JSON          <span class="token operator">=</span> jsonBinding<span class="token punctuation">{</span><span class="token punctuation">}</span>
   XML           <span class="token operator">=</span> xmlBinding<span class="token punctuation">{</span><span class="token punctuation">}</span>
   Form          <span class="token operator">=</span> formBinding<span class="token punctuation">{</span><span class="token punctuation">}</span>
   Query         <span class="token operator">=</span> queryBinding<span class="token punctuation">{</span><span class="token punctuation">}</span>
   FormPost      <span class="token operator">=</span> formPostBinding<span class="token punctuation">{</span><span class="token punctuation">}</span>
   FormMultipart <span class="token operator">=</span> formMultipartBinding<span class="token punctuation">{</span><span class="token punctuation">}</span>
   ProtoBuf      <span class="token operator">=</span> protobufBinding<span class="token punctuation">{</span><span class="token punctuation">}</span>
   MsgPack       <span class="token operator">=</span> msgpackBinding<span class="token punctuation">{</span><span class="token punctuation">}</span>
   YAML          <span class="token operator">=</span> yamlBinding<span class="token punctuation">{</span><span class="token punctuation">}</span>
   Uri           <span class="token operator">=</span> uriBinding<span class="token punctuation">{</span><span class="token punctuation">}</span>
   Header        <span class="token operator">=</span> headerBinding<span class="token punctuation">{</span><span class="token punctuation">}</span>
   TOML          <span class="token operator">=</span> tomlBinding<span class="token punctuation">{</span><span class="token punctuation">}</span>
<span class="token punctuation">)</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>ç¤ºä¾‹</p><div class="language-go line-numbers-mode" data-ext="go"><pre class="language-go"><code><span class="token keyword">package</span> main

<span class="token keyword">import</span> <span class="token punctuation">(</span>
	<span class="token string">&quot;fmt&quot;</span>
	<span class="token string">&quot;github.com/gin-gonic/gin&quot;</span>
	<span class="token string">&quot;net/http&quot;</span>
<span class="token punctuation">)</span>

<span class="token keyword">type</span> LoginUser <span class="token keyword">struct</span> <span class="token punctuation">{</span>
	Username <span class="token builtin">string</span> <span class="token string">`bind:&quot;required&quot; json:&quot;username&quot; form:&quot;username&quot; uri:&quot;username&quot;`</span>
	Password <span class="token builtin">string</span> <span class="token string">`bind:&quot;required&quot; json:&quot;password&quot; form:&quot;password&quot; uri:&quot;password&quot;`</span>
<span class="token punctuation">}</span>

<span class="token keyword">func</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    e <span class="token operator">:=</span> gin<span class="token punctuation">.</span><span class="token function">Default</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
	e<span class="token punctuation">.</span><span class="token function">POST</span><span class="token punctuation">(</span><span class="token string">&quot;/loginWithJSON&quot;</span><span class="token punctuation">,</span> Login<span class="token punctuation">)</span>
	e<span class="token punctuation">.</span><span class="token function">POST</span><span class="token punctuation">(</span><span class="token string">&quot;/loginWithForm&quot;</span><span class="token punctuation">,</span> Login<span class="token punctuation">)</span>
	e<span class="token punctuation">.</span><span class="token function">GET</span><span class="token punctuation">(</span><span class="token string">&quot;/loginWithQuery/:username/:password&quot;</span><span class="token punctuation">,</span> Login<span class="token punctuation">)</span>
	e<span class="token punctuation">.</span><span class="token function">Run</span><span class="token punctuation">(</span><span class="token string">&quot;:8080&quot;</span><span class="token punctuation">)</span>
<span class="token punctuation">}</span>

<span class="token keyword">func</span> <span class="token function">Login</span><span class="token punctuation">(</span>c <span class="token operator">*</span>gin<span class="token punctuation">.</span>Context<span class="token punctuation">)</span> <span class="token punctuation">{</span>
	<span class="token keyword">var</span> login LoginUser
    <span class="token comment">// ä½¿ç”¨ShouldBindæ¥è®©ginè‡ªåŠ¨æ¨æ–­</span>
	<span class="token keyword">if</span> c<span class="token punctuation">.</span><span class="token function">ShouldBind</span><span class="token punctuation">(</span><span class="token operator">&amp;</span>login<span class="token punctuation">)</span> <span class="token operator">==</span> <span class="token boolean">nil</span> <span class="token operator">&amp;&amp;</span> login<span class="token punctuation">.</span>Password <span class="token operator">!=</span> <span class="token string">&quot;&quot;</span> <span class="token operator">&amp;&amp;</span> login<span class="token punctuation">.</span>Username <span class="token operator">!=</span> <span class="token string">&quot;&quot;</span> <span class="token punctuation">{</span>
		c<span class="token punctuation">.</span><span class="token function">String</span><span class="token punctuation">(</span>http<span class="token punctuation">.</span>StatusOK<span class="token punctuation">,</span> <span class="token string">&quot;login successfully !&quot;</span><span class="token punctuation">)</span>
	<span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token punctuation">{</span>
		c<span class="token punctuation">.</span><span class="token function">String</span><span class="token punctuation">(</span>http<span class="token punctuation">.</span>StatusBadRequest<span class="token punctuation">,</span> <span class="token string">&quot;login failed !&quot;</span><span class="token punctuation">)</span>
	<span class="token punctuation">}</span>
	fmt<span class="token punctuation">.</span><span class="token function">Println</span><span class="token punctuation">(</span>login<span class="token punctuation">)</span>
<span class="token punctuation">}</span>

</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="jsonæ•°æ®ç»‘å®š" tabindex="-1"><a class="header-anchor" href="#jsonæ•°æ®ç»‘å®š" aria-hidden="true">#</a> Jsonæ•°æ®ç»‘å®š</h3><div class="language-curl line-numbers-mode" data-ext="curl"><pre class="language-curl"><code>curl --location --request POST &#39;127.0.0.1:8080/loginWithJSON&#39; \
--header &#39;Content-Type: application/json&#39; \
--data-raw &#39;{
    &quot;username&quot;:&quot;root&quot;,
    &quot;password&quot;:&quot;root&quot;
}&#39;
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><div class="language-text line-numbers-mode" data-ext="text"><pre class="language-text"><code>login successfully !
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><h3 id="è¡¨å•æ•°æ®ç»‘å®š" tabindex="-1"><a class="header-anchor" href="#è¡¨å•æ•°æ®ç»‘å®š" aria-hidden="true">#</a> è¡¨å•æ•°æ®ç»‘å®š</h3><div class="language-go line-numbers-mode" data-ext="go"><pre class="language-go"><code>curl <span class="token operator">--</span>location <span class="token operator">--</span>request POST &#39;<span class="token number">127.0</span><span class="token number">.0</span><span class="token number">.1</span><span class="token punctuation">:</span><span class="token number">8080</span><span class="token operator">/</span>loginWithForm&#39; \
<span class="token operator">--</span>form &#39;username<span class="token operator">=</span><span class="token string">&quot;root&quot;</span>&#39; \
<span class="token operator">--</span>form &#39;password<span class="token operator">=</span><span class="token string">&quot;root&quot;</span>&#39;
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><div class="language-text line-numbers-mode" data-ext="text"><pre class="language-text"><code>login successfully !
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><h3 id="urlæ•°æ®ç»‘å®š" tabindex="-1"><a class="header-anchor" href="#urlæ•°æ®ç»‘å®š" aria-hidden="true">#</a> URLæ•°æ®ç»‘å®š</h3><div class="language-go line-numbers-mode" data-ext="go"><pre class="language-go"><code>curl <span class="token operator">--</span>location <span class="token operator">--</span>request GET &#39;<span class="token number">127.0</span><span class="token number">.0</span><span class="token number">.1</span><span class="token punctuation">:</span><span class="token number">8080</span><span class="token operator">/</span>loginWithQuery<span class="token operator">/</span>root<span class="token operator">/</span>root&#39;
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><div class="language-text line-numbers-mode" data-ext="text"><pre class="language-text"><code>login failed !
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><p>åˆ°äº†è¿™é‡Œå°±ä¼šå‘ç”Ÿé”™è¯¯äº†ï¼Œå› ä¸ºè¿™é‡Œè¾“å‡ºçš„<code>content-type</code>æ˜¯ç©ºå­—ç¬¦ä¸²ï¼Œæ— æ³•æ¨æ–­åˆ°åº•æ˜¯è¦å¦‚ä½•è¿›è¡Œæ•°æ®è§£æã€‚æ‰€ä»¥å½“ä½¿ç”¨URLå‚æ•°æ—¶ï¼Œæˆ‘ä»¬åº”è¯¥æ‰‹åŠ¨æŒ‡å®šè§£ææ–¹å¼ï¼Œä¾‹å¦‚ï¼š</p><div class="language-go line-numbers-mode" data-ext="go"><pre class="language-go"><code><span class="token keyword">if</span> err <span class="token operator">:=</span> c<span class="token punctuation">.</span><span class="token function">ShouldBindUri</span><span class="token punctuation">(</span><span class="token operator">&amp;</span>login<span class="token punctuation">)</span><span class="token punctuation">;</span> err <span class="token operator">==</span> <span class="token boolean">nil</span> <span class="token operator">&amp;&amp;</span> login<span class="token punctuation">.</span>Password <span class="token operator">!=</span> <span class="token string">&quot;&quot;</span> <span class="token operator">&amp;&amp;</span> login<span class="token punctuation">.</span>Username <span class="token operator">!=</span> <span class="token string">&quot;&quot;</span> <span class="token punctuation">{</span>
   c<span class="token punctuation">.</span><span class="token function">String</span><span class="token punctuation">(</span>http<span class="token punctuation">.</span>StatusOK<span class="token punctuation">,</span> <span class="token string">&quot;login successfully !&quot;</span><span class="token punctuation">)</span>
<span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token punctuation">{</span>
   fmt<span class="token punctuation">.</span><span class="token function">Println</span><span class="token punctuation">(</span>err<span class="token punctuation">)</span>
   c<span class="token punctuation">.</span><span class="token function">String</span><span class="token punctuation">(</span>http<span class="token punctuation">.</span>StatusBadRequest<span class="token punctuation">,</span> <span class="token string">&quot;login failed !&quot;</span><span class="token punctuation">)</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="å¤šæ¬¡ç»‘å®š" tabindex="-1"><a class="header-anchor" href="#å¤šæ¬¡ç»‘å®š" aria-hidden="true">#</a> å¤šæ¬¡ç»‘å®š</h3><p>ä¸€èˆ¬æ–¹æ³•éƒ½æ˜¯é€šè¿‡è°ƒç”¨ <code>c.Request.Body</code> æ–¹æ³•ç»‘å®šæ•°æ®ï¼Œä½†ä¸èƒ½å¤šæ¬¡è°ƒç”¨è¿™ä¸ªæ–¹æ³•ï¼Œä¾‹å¦‚<code>c.ShouldBind</code>ï¼Œä¸å¯é‡ç”¨ï¼Œå¦‚æœæƒ³è¦å¤šæ¬¡ç»‘å®šçš„è¯ï¼Œå¯ä»¥ä½¿ç”¨</p><p><code>c.ShouldBindBodyWith</code>ã€‚</p><div class="language-go line-numbers-mode" data-ext="go"><pre class="language-go"><code><span class="token keyword">func</span> <span class="token function">SomeHandler</span><span class="token punctuation">(</span>c <span class="token operator">*</span>gin<span class="token punctuation">.</span>Context<span class="token punctuation">)</span> <span class="token punctuation">{</span>
  objA <span class="token operator">:=</span> formA<span class="token punctuation">{</span><span class="token punctuation">}</span>
  objB <span class="token operator">:=</span> formB<span class="token punctuation">{</span><span class="token punctuation">}</span>
  <span class="token comment">// è¯»å– c.Request.Body å¹¶å°†ç»“æœå­˜å…¥ä¸Šä¸‹æ–‡ã€‚</span>
  <span class="token keyword">if</span> errA <span class="token operator">:=</span> c<span class="token punctuation">.</span><span class="token function">ShouldBindBodyWith</span><span class="token punctuation">(</span><span class="token operator">&amp;</span>objA<span class="token punctuation">,</span> binding<span class="token punctuation">.</span>JSON<span class="token punctuation">)</span><span class="token punctuation">;</span> errA <span class="token operator">==</span> <span class="token boolean">nil</span> <span class="token punctuation">{</span>
    c<span class="token punctuation">.</span><span class="token function">String</span><span class="token punctuation">(</span>http<span class="token punctuation">.</span>StatusOK<span class="token punctuation">,</span> <span class="token string">`the body should be formA`</span><span class="token punctuation">)</span>
  <span class="token comment">// è¿™æ—¶, å¤ç”¨å­˜å‚¨åœ¨ä¸Šä¸‹æ–‡ä¸­çš„ bodyã€‚</span>
  <span class="token punctuation">}</span>
  <span class="token keyword">if</span> errB <span class="token operator">:=</span> c<span class="token punctuation">.</span><span class="token function">ShouldBindBodyWith</span><span class="token punctuation">(</span><span class="token operator">&amp;</span>objB<span class="token punctuation">,</span> binding<span class="token punctuation">.</span>JSON<span class="token punctuation">)</span><span class="token punctuation">;</span> errB <span class="token operator">==</span> <span class="token boolean">nil</span> <span class="token punctuation">{</span>
    c<span class="token punctuation">.</span><span class="token function">String</span><span class="token punctuation">(</span>http<span class="token punctuation">.</span>StatusOK<span class="token punctuation">,</span> <span class="token string">`the body should be formB JSON`</span><span class="token punctuation">)</span>
  <span class="token comment">// å¯ä»¥æ¥å—å…¶ä»–æ ¼å¼</span>
  <span class="token punctuation">}</span>
  <span class="token keyword">if</span> errB2 <span class="token operator">:=</span> c<span class="token punctuation">.</span><span class="token function">ShouldBindBodyWith</span><span class="token punctuation">(</span><span class="token operator">&amp;</span>objB<span class="token punctuation">,</span> binding<span class="token punctuation">.</span>XML<span class="token punctuation">)</span><span class="token punctuation">;</span> errB2 <span class="token operator">==</span> <span class="token boolean">nil</span> <span class="token punctuation">{</span>
    c<span class="token punctuation">.</span><span class="token function">String</span><span class="token punctuation">(</span>http<span class="token punctuation">.</span>StatusOK<span class="token punctuation">,</span> <span class="token string">`the body should be formB XML`</span><span class="token punctuation">)</span>
  <span class="token punctuation">}</span> 
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><div class="hint-container tip"><p class="hint-container-title">æç¤º</p><p><code>c.ShouldBindBodyWith</code> ä¼šåœ¨ç»‘å®šä¹‹å‰å°† body å­˜å‚¨åˆ°ä¸Šä¸‹æ–‡ä¸­ã€‚ è¿™ä¼šå¯¹æ€§èƒ½é€ æˆè½»å¾®å½±å“ï¼Œå¦‚æœè°ƒç”¨ä¸€æ¬¡å°±èƒ½å®Œæˆç»‘å®šçš„è¯ï¼Œé‚£å°±ä¸è¦ç”¨è¿™ä¸ªæ–¹æ³•ã€‚åªæœ‰æŸäº›æ ¼å¼éœ€è¦æ­¤åŠŸèƒ½ï¼Œå¦‚ <code>JSON</code>, <code>XML</code>, <code>MsgPack</code>, <code>ProtoBuf</code>ã€‚ å¯¹äºå…¶ä»–æ ¼å¼, å¦‚ <code>Query</code>, <code>Form</code>, <code>FormPost</code>, <code>FormMultipart</code> å¯ä»¥å¤šæ¬¡è°ƒç”¨<code>c.ShouldBind()</code> è€Œä¸ä¼šé€ æˆä»»ä½•æ€§èƒ½æŸå¤± ã€‚</p></div><h2 id="æ•°æ®æ ¡éªŒ" tabindex="-1"><a class="header-anchor" href="#æ•°æ®æ ¡éªŒ" aria-hidden="true">#</a> æ•°æ®æ ¡éªŒ</h2><p><code>gin</code>å†…ç½®çš„æ ¡éªŒå·¥å…·å…¶å®æ˜¯<code>github.com/go-playground/validator/v10</code>ï¼Œä½¿ç”¨æ–¹æ³•ä¹Ÿå‡ ä¹æ²¡æœ‰ä»€ä¹ˆå·®åˆ«ï¼Œ<a href="/%E8%AF%AD%E8%A8%80%E8%BF%9B%E9%98%B6/%E5%AE%9E%E7%94%A8%E6%A1%86%E6%9E%B6/src/%E8%AF%AD%E8%A8%80%E8%BF%9B%E9%98%B6/%E5%AE%9E%E7%94%A8%E4%BE%9D%E8%B5%96/Validator.html" class="">å‰å¾€Validatoræ•™ç¨‹</a></p><h3 id="ç®€å•ç¤ºä¾‹" tabindex="-1"><a class="header-anchor" href="#ç®€å•ç¤ºä¾‹" aria-hidden="true">#</a> ç®€å•ç¤ºä¾‹</h3><div class="language-go line-numbers-mode" data-ext="go"><pre class="language-go"><code><span class="token keyword">type</span> LoginUser <span class="token keyword">struct</span> <span class="token punctuation">{</span>
   Username <span class="token builtin">string</span> <span class="token string">`binding:&quot;required&quot;  json:&quot;username&quot; form:&quot;username&quot; uri:&quot;username&quot;`</span>
   Password <span class="token builtin">string</span> <span class="token string">`binding:&quot;required&quot; json:&quot;password&quot; form:&quot;password&quot; uri:&quot;password&quot;`</span>
<span class="token punctuation">}</span>

<span class="token keyword">func</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
   e <span class="token operator">:=</span> gin<span class="token punctuation">.</span><span class="token function">Default</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
   e<span class="token punctuation">.</span><span class="token function">POST</span><span class="token punctuation">(</span><span class="token string">&quot;/register&quot;</span><span class="token punctuation">,</span> Register<span class="token punctuation">)</span>
   log<span class="token punctuation">.</span><span class="token function">Fatalln</span><span class="token punctuation">(</span>e<span class="token punctuation">.</span><span class="token function">Run</span><span class="token punctuation">(</span><span class="token string">&quot;:8080&quot;</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
<span class="token punctuation">}</span>

<span class="token keyword">func</span> <span class="token function">Register</span><span class="token punctuation">(</span>ctx <span class="token operator">*</span>gin<span class="token punctuation">.</span>Context<span class="token punctuation">)</span> <span class="token punctuation">{</span>
   newUser <span class="token operator">:=</span> <span class="token operator">&amp;</span>LoginUser<span class="token punctuation">{</span><span class="token punctuation">}</span>
   <span class="token keyword">if</span> err <span class="token operator">:=</span> ctx<span class="token punctuation">.</span><span class="token function">ShouldBind</span><span class="token punctuation">(</span>newUser<span class="token punctuation">)</span><span class="token punctuation">;</span> err <span class="token operator">==</span> <span class="token boolean">nil</span> <span class="token punctuation">{</span>
      ctx<span class="token punctuation">.</span><span class="token function">String</span><span class="token punctuation">(</span>http<span class="token punctuation">.</span>StatusOK<span class="token punctuation">,</span> <span class="token string">&quot;user%+v&quot;</span><span class="token punctuation">,</span> <span class="token operator">*</span>newUser<span class="token punctuation">)</span>
   <span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token punctuation">{</span>
      ctx<span class="token punctuation">.</span><span class="token function">String</span><span class="token punctuation">(</span>http<span class="token punctuation">.</span>StatusBadRequest<span class="token punctuation">,</span> <span class="token string">&quot;invalid user,%v&quot;</span><span class="token punctuation">,</span> err<span class="token punctuation">)</span>
   <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>æµ‹è¯•</p><div class="language-text line-numbers-mode" data-ext="text"><pre class="language-text"><code>curl --location --request POST &#39;http://localhost:8080/register&#39; \
--header &#39;Content-Type: application/json&#39; \
--data-raw &#39;{
    &quot;username&quot;:&quot;jack1&quot;

}&#39;
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>è¾“å‡º</p><div class="language-text line-numbers-mode" data-ext="text"><pre class="language-text"><code>invalid user,Key: &#39;LoginUser.Password&#39; Error:Field validation for &#39;Password&#39; failed on the &#39;required&#39; tag
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><div class="hint-container tip"><p class="hint-container-title">æç¤º</p><p>éœ€è¦æ³¨æ„çš„ä¸€ç‚¹æ˜¯ï¼Œginä¸­validatorçš„æ ¡éªŒtagæ˜¯<code>binding</code>ï¼Œè€Œå•ç‹¬ä½¿ç”¨<code>validator</code>çš„çš„æ ¡éªŒtagæ˜¯<code>validator</code></p></div><h2 id="æ•°æ®å“åº”" tabindex="-1"><a class="header-anchor" href="#æ•°æ®å“åº”" aria-hidden="true">#</a> æ•°æ®å“åº”</h2><p>æ•°æ®å“åº”æ˜¯æ¥å£å¤„ç†ä¸­æœ€åä¸€æ­¥è¦åšçš„äº‹æƒ…ï¼Œåç«¯å°†æ‰€æœ‰æ•°æ®å¤„ç†å®Œæˆåï¼Œé€šè¿‡HTTPåè®®è¿”å›ç»™è°ƒç”¨è€…ï¼Œginå¯¹äºæ•°æ®å“åº”æä¾›äº†ä¸°å¯Œçš„å†…ç½®æ”¯æŒï¼Œç”¨æ³•ç®€æ´æ˜äº†ï¼Œä¸Šæ‰‹ååˆ†å®¹æ˜“ã€‚</p><h3 id="ç®€å•ç¤ºä¾‹-1" tabindex="-1"><a class="header-anchor" href="#ç®€å•ç¤ºä¾‹-1" aria-hidden="true">#</a> ç®€å•ç¤ºä¾‹</h3><div class="language-go line-numbers-mode" data-ext="go"><pre class="language-go"><code><span class="token keyword">func</span> <span class="token function">Hello</span><span class="token punctuation">(</span>c <span class="token operator">*</span>gin<span class="token punctuation">.</span>Context<span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token comment">// è¿”å›çº¯å­—ç¬¦ä¸²æ ¼å¼çš„æ•°æ®ï¼Œhttp.StatusOKä»£è¡¨ç€200çŠ¶æ€ç ï¼Œæ•°æ®ä¸º&quot;Hello world !&quot;</span>
	c<span class="token punctuation">.</span><span class="token function">String</span><span class="token punctuation">(</span>http<span class="token punctuation">.</span>StatusOK<span class="token punctuation">,</span> <span class="token string">&quot;Hello world !&quot;</span><span class="token punctuation">)</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="htmlæ¸²æŸ“" tabindex="-1"><a class="header-anchor" href="#htmlæ¸²æŸ“" aria-hidden="true">#</a> HTMLæ¸²æŸ“</h3><div class="hint-container tip"><p class="hint-container-title">æç¤º</p><p>æ–‡ä»¶åŠ è½½çš„æ—¶å€™ï¼Œé»˜è®¤æ ¹è·¯å¾„æ˜¯é¡¹ç›®è·¯å¾„ï¼Œä¹Ÿå°±æ˜¯<code>go.mod</code>æ–‡ä»¶æ‰€åœ¨çš„è·¯å¾„ï¼Œä¸‹é¢ä¾‹å­ä¸­çš„<code>index.html</code>å³ä½äºæ ¹è·¯å¾„ä¸‹çš„<code>index.html</code>ï¼Œä¸è¿‡ä¸€èˆ¬æƒ…å†µä¸‹è¿™äº›æ¨¡æ¿æ–‡ä»¶éƒ½ä¸ä¼šæ”¾åœ¨æ ¹è·¯å¾„ï¼Œè€Œæ˜¯ä¼šå­˜æ”¾åœ¨é™æ€èµ„æºæ–‡ä»¶å¤¹ä¸­</p></div><div class="language-go line-numbers-mode" data-ext="go"><pre class="language-go"><code><span class="token keyword">func</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
   e <span class="token operator">:=</span> gin<span class="token punctuation">.</span><span class="token function">Default</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
    <span class="token comment">// åŠ è½½HTMLæ–‡ä»¶ï¼Œä¹Ÿå¯ä»¥ä½¿ç”¨Engine.LoadHTMLGlob()</span>
   e<span class="token punctuation">.</span><span class="token function">LoadHTMLFiles</span><span class="token punctuation">(</span><span class="token string">&quot;index.html&quot;</span><span class="token punctuation">)</span>
   e<span class="token punctuation">.</span><span class="token function">GET</span><span class="token punctuation">(</span><span class="token string">&quot;/&quot;</span><span class="token punctuation">,</span> Index<span class="token punctuation">)</span>
   log<span class="token punctuation">.</span><span class="token function">Fatalln</span><span class="token punctuation">(</span>e<span class="token punctuation">.</span><span class="token function">Run</span><span class="token punctuation">(</span><span class="token string">&quot;:8080&quot;</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
<span class="token punctuation">}</span>

<span class="token keyword">func</span> <span class="token function">Index</span><span class="token punctuation">(</span>c <span class="token operator">*</span>gin<span class="token punctuation">.</span>Context<span class="token punctuation">)</span> <span class="token punctuation">{</span>
   c<span class="token punctuation">.</span><span class="token function">HTML</span><span class="token punctuation">(</span>http<span class="token punctuation">.</span>StatusOK<span class="token punctuation">,</span> <span class="token string">&quot;index.html&quot;</span><span class="token punctuation">,</span> gin<span class="token punctuation">.</span>H<span class="token punctuation">{</span><span class="token punctuation">}</span><span class="token punctuation">)</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>æµ‹è¯•</p><div class="language-text line-numbers-mode" data-ext="text"><pre class="language-text"><code>curl --location --request GET &#39;http://localhost:8080/&#39;
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><p>è¿”å›</p><div class="language-html line-numbers-mode" data-ext="html"><pre class="language-html"><code><span class="token doctype"><span class="token punctuation">&lt;!</span><span class="token doctype-tag">DOCTYPE</span> <span class="token name">html</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>html</span> <span class="token attr-name">lang</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>en<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>

<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>head</span><span class="token punctuation">&gt;</span></span>
	<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>meta</span> <span class="token attr-name">charset</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>UTF-8<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
	<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>title</span><span class="token punctuation">&gt;</span></span>GinLearn<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>title</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>head</span><span class="token punctuation">&gt;</span></span>

<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>body</span><span class="token punctuation">&gt;</span></span>
	<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>h1</span><span class="token punctuation">&gt;</span></span>Hello World!<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>h1</span><span class="token punctuation">&gt;</span></span>
	<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>h1</span><span class="token punctuation">&gt;</span></span>This is a HTML Template Render Example<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>h1</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>body</span><span class="token punctuation">&gt;</span></span>

<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>html</span><span class="token punctuation">&gt;</span></span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="å¿«é€Ÿå“åº”" tabindex="-1"><a class="header-anchor" href="#å¿«é€Ÿå“åº”" aria-hidden="true">#</a> å¿«é€Ÿå“åº”</h3><p>å‰é¢ç»å¸¸ç”¨åˆ°<code>context.String()</code>æ–¹æ³•æ¥è¿›è¡Œæ•°æ®å“åº”ï¼Œè¿™æ˜¯æœ€åŸå§‹çš„å“åº”æ–¹æ³•ï¼Œç›´æ¥è¿”å›ä¸€ä¸ªå­—ç¬¦ä¸²ï¼Œ<code>gin</code>ä¸­å…¶å®è¿˜å†…ç½®äº†è®¸å¤šäº†å¿«é€Ÿå“åº”çš„æ–¹æ³•ä¾‹å¦‚:</p><div class="language-go line-numbers-mode" data-ext="go"><pre class="language-go"><code><span class="token comment">// ä½¿ç”¨Renderå†™å…¥å“åº”å¤´ï¼Œå¹¶è¿›è¡Œæ•°æ®æ¸²æŸ“</span>
<span class="token keyword">func</span> <span class="token punctuation">(</span>c <span class="token operator">*</span>Context<span class="token punctuation">)</span> <span class="token function">Render</span><span class="token punctuation">(</span>code <span class="token builtin">int</span><span class="token punctuation">,</span> r render<span class="token punctuation">.</span>Render<span class="token punctuation">)</span>

<span class="token comment">// æ¸²æŸ“ä¸€ä¸ªHTMLæ¨¡æ¿ï¼Œnameæ˜¯htmlè·¯å¾„ï¼Œobjæ˜¯å†…å®¹</span>
<span class="token keyword">func</span> <span class="token punctuation">(</span>c <span class="token operator">*</span>Context<span class="token punctuation">)</span> <span class="token function">HTML</span><span class="token punctuation">(</span>code <span class="token builtin">int</span><span class="token punctuation">,</span> name <span class="token builtin">string</span><span class="token punctuation">,</span> obj any<span class="token punctuation">)</span>

<span class="token comment">// ä»¥ç¾åŒ–äº†çš„ç¼©è¿›JSONå­—ç¬¦ä¸²è¿›è¡Œæ•°æ®æ¸²æŸ“ï¼Œé€šå¸¸ä¸å»ºè®®ä½¿ç”¨è¿™ä¸ªæ–¹æ³•ï¼Œå› ä¸ºä¼šé€ æˆæ›´å¤šçš„ä¼ è¾“æ¶ˆè€—ã€‚</span>
<span class="token keyword">func</span> <span class="token punctuation">(</span>c <span class="token operator">*</span>Context<span class="token punctuation">)</span> <span class="token function">IndentedJSON</span><span class="token punctuation">(</span>code <span class="token builtin">int</span><span class="token punctuation">,</span> obj any<span class="token punctuation">)</span> 

<span class="token comment">// å®‰å…¨çš„JSONï¼Œå¯ä»¥é˜²æ­¢JSONåŠ«æŒï¼Œè¯¦æƒ…äº†è§£ï¼šhttps://www.cnblogs.com/xusion/articles/3107788.html</span>
<span class="token keyword">func</span> <span class="token punctuation">(</span>c <span class="token operator">*</span>Context<span class="token punctuation">)</span> <span class="token function">SecureJSON</span><span class="token punctuation">(</span>code <span class="token builtin">int</span><span class="token punctuation">,</span> obj any<span class="token punctuation">)</span> 

<span class="token comment">// JSONPæ–¹å¼è¿›è¡Œæ¸²æŸ“</span>
<span class="token keyword">func</span> <span class="token punctuation">(</span>c <span class="token operator">*</span>Context<span class="token punctuation">)</span> <span class="token function">JSONP</span><span class="token punctuation">(</span>code <span class="token builtin">int</span><span class="token punctuation">,</span> obj any<span class="token punctuation">)</span> 

<span class="token comment">// JSONæ–¹å¼è¿›è¡Œæ¸²æŸ“</span>
<span class="token keyword">func</span> <span class="token punctuation">(</span>c <span class="token operator">*</span>Context<span class="token punctuation">)</span> <span class="token function">JSON</span><span class="token punctuation">(</span>code <span class="token builtin">int</span><span class="token punctuation">,</span> obj any<span class="token punctuation">)</span> 

<span class="token comment">// JSONæ–¹å¼è¿›è¡Œæ¸²æŸ“ï¼Œä¼šå°†unicodeç è½¬æ¢ä¸ºASCIIç </span>
<span class="token keyword">func</span> <span class="token punctuation">(</span>c <span class="token operator">*</span>Context<span class="token punctuation">)</span> <span class="token function">AsciiJSON</span><span class="token punctuation">(</span>code <span class="token builtin">int</span><span class="token punctuation">,</span> obj any<span class="token punctuation">)</span> 

<span class="token comment">// JSONæ–¹å¼è¿›è¡Œæ¸²æŸ“ï¼Œä¸ä¼šå¯¹HTMLç‰¹æ®Šå­—ç¬¦ä¸²è¿›è¡Œè½¬ä¹‰</span>
<span class="token keyword">func</span> <span class="token punctuation">(</span>c <span class="token operator">*</span>Context<span class="token punctuation">)</span> <span class="token function">PureJSON</span><span class="token punctuation">(</span>code <span class="token builtin">int</span><span class="token punctuation">,</span> obj any<span class="token punctuation">)</span> 

<span class="token comment">// XMLæ–¹å¼è¿›è¡Œæ¸²æŸ“</span>
<span class="token keyword">func</span> <span class="token punctuation">(</span>c <span class="token operator">*</span>Context<span class="token punctuation">)</span> <span class="token function">XML</span><span class="token punctuation">(</span>code <span class="token builtin">int</span><span class="token punctuation">,</span> obj any<span class="token punctuation">)</span> 

<span class="token comment">// YMLæ–¹å¼è¿›è¡Œæ¸²æŸ“</span>
<span class="token keyword">func</span> <span class="token punctuation">(</span>c <span class="token operator">*</span>Context<span class="token punctuation">)</span> <span class="token function">YAML</span><span class="token punctuation">(</span>code <span class="token builtin">int</span><span class="token punctuation">,</span> obj any<span class="token punctuation">)</span> 

<span class="token comment">// TOMLæ–¹å¼è¿›è¡Œæ¸²æŸ“</span>
<span class="token keyword">func</span> <span class="token punctuation">(</span>c <span class="token operator">*</span>Context<span class="token punctuation">)</span> <span class="token function">TOML</span><span class="token punctuation">(</span>code <span class="token builtin">int</span><span class="token punctuation">,</span> obj <span class="token keyword">interface</span><span class="token punctuation">{</span><span class="token punctuation">}</span><span class="token punctuation">)</span> 

<span class="token comment">// ProtoBufæ–¹å¼è¿›è¡Œæ¸²æŸ“</span>
<span class="token keyword">func</span> <span class="token punctuation">(</span>c <span class="token operator">*</span>Context<span class="token punctuation">)</span> <span class="token function">ProtoBuf</span><span class="token punctuation">(</span>code <span class="token builtin">int</span><span class="token punctuation">,</span> obj any<span class="token punctuation">)</span> 

<span class="token comment">// Stringæ–¹å¼è¿›è¡Œæ¸²æŸ“</span>
<span class="token keyword">func</span> <span class="token punctuation">(</span>c <span class="token operator">*</span>Context<span class="token punctuation">)</span> <span class="token function">String</span><span class="token punctuation">(</span>code <span class="token builtin">int</span><span class="token punctuation">,</span> format <span class="token builtin">string</span><span class="token punctuation">,</span> values <span class="token operator">...</span>any<span class="token punctuation">)</span> 

<span class="token comment">// é‡å®šå‘åˆ°ç‰¹å®šçš„ä½ç½®</span>
<span class="token keyword">func</span> <span class="token punctuation">(</span>c <span class="token operator">*</span>Context<span class="token punctuation">)</span> <span class="token function">Redirect</span><span class="token punctuation">(</span>code <span class="token builtin">int</span><span class="token punctuation">,</span> location <span class="token builtin">string</span><span class="token punctuation">)</span> 

<span class="token comment">// å°†dataå†™å…¥å“åº”æµä¸­</span>
<span class="token keyword">func</span> <span class="token punctuation">(</span>c <span class="token operator">*</span>Context<span class="token punctuation">)</span> <span class="token function">Data</span><span class="token punctuation">(</span>code <span class="token builtin">int</span><span class="token punctuation">,</span> contentType <span class="token builtin">string</span><span class="token punctuation">,</span> data <span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token builtin">byte</span><span class="token punctuation">)</span> 

<span class="token comment">// é€šè¿‡readerè¯»å–æµå¹¶å†™å…¥å“åº”æµä¸­</span>
<span class="token keyword">func</span> <span class="token punctuation">(</span>c <span class="token operator">*</span>Context<span class="token punctuation">)</span> <span class="token function">DataFromReader</span><span class="token punctuation">(</span>code <span class="token builtin">int</span><span class="token punctuation">,</span> contentLength <span class="token builtin">int64</span><span class="token punctuation">,</span> contentType <span class="token builtin">string</span><span class="token punctuation">,</span> reader io<span class="token punctuation">.</span>Reader<span class="token punctuation">,</span> extraHeaders <span class="token keyword">map</span><span class="token punctuation">[</span><span class="token builtin">string</span><span class="token punctuation">]</span><span class="token builtin">string</span><span class="token punctuation">)</span> 

<span class="token comment">// é«˜æ•ˆçš„å°†æ–‡ä»¶å†™å…¥å“åº”æµ</span>
<span class="token keyword">func</span> <span class="token punctuation">(</span>c <span class="token operator">*</span>Context<span class="token punctuation">)</span> <span class="token function">File</span><span class="token punctuation">(</span>filepath <span class="token builtin">string</span><span class="token punctuation">)</span> 

<span class="token comment">// ä»¥ä¸€ç§é«˜æ•ˆçš„æ–¹å¼å°†fsä¸­çš„æ–‡ä»¶æµå†™å…¥å“åº”æµ</span>
<span class="token keyword">func</span> <span class="token punctuation">(</span>c <span class="token operator">*</span>Context<span class="token punctuation">)</span> <span class="token function">FileFromFS</span><span class="token punctuation">(</span>filepath <span class="token builtin">string</span><span class="token punctuation">,</span> fs http<span class="token punctuation">.</span>FileSystem<span class="token punctuation">)</span> 

<span class="token comment">// ä»¥ä¸€ç§é«˜æ•ˆçš„æ–¹å¼å°†fsä¸­çš„æ–‡ä»¶æµå†™å…¥å“åº”æµï¼Œå¹¶ä¸”åœ¨å®¢æˆ·ç«¯ä¼šä»¥æŒ‡å®šçš„æ–‡ä»¶åè¿›è¡Œä¸‹è½½</span>
<span class="token keyword">func</span> <span class="token punctuation">(</span>c <span class="token operator">*</span>Context<span class="token punctuation">)</span> <span class="token function">FileAttachment</span><span class="token punctuation">(</span>filepath<span class="token punctuation">,</span> filename <span class="token builtin">string</span><span class="token punctuation">)</span> 

<span class="token comment">// å°†æœåŠ¡ç«¯æ¨é€æµå†™å…¥å“åº”æµä¸­</span>
<span class="token keyword">func</span> <span class="token punctuation">(</span>c <span class="token operator">*</span>Context<span class="token punctuation">)</span> <span class="token function">SSEvent</span><span class="token punctuation">(</span>name <span class="token builtin">string</span><span class="token punctuation">,</span> message any<span class="token punctuation">)</span> 

<span class="token comment">// å‘é€ä¸€ä¸ªæµå“åº”å¹¶è¿”å›ä¸€ä¸ªå¸ƒå°”å€¼ï¼Œä»¥æ­¤æ¥åˆ¤æ–­å®¢æˆ·ç«¯æ˜¯å¦åœ¨æµä¸­é—´æ–­å¼€</span>
<span class="token keyword">func</span> <span class="token punctuation">(</span>c <span class="token operator">*</span>Context<span class="token punctuation">)</span> <span class="token function">Stream</span><span class="token punctuation">(</span>step <span class="token keyword">func</span><span class="token punctuation">(</span>w io<span class="token punctuation">.</span>Writer<span class="token punctuation">)</span> <span class="token builtin">bool</span><span class="token punctuation">)</span> <span class="token builtin">bool</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>å¯¹äºå¤§å¤šæ•°åº”ç”¨è€Œè¨€ï¼Œç”¨çš„æœ€å¤šçš„è¿˜æ˜¯<code>context.JSON</code>ï¼Œå…¶ä»–çš„ç›¸å¯¹è€Œè¨€è¦å°‘ä¸€äº›ï¼Œè¿™é‡Œå°±ä¸ä¸¾ä¾‹å­æ¼”ç¤ºäº†ï¼Œå› ä¸ºéƒ½æ¯”è¾ƒç®€å•æ˜“æ‡‚ï¼Œå·®ä¸å¤šéƒ½æ˜¯ç›´æ¥è°ƒç”¨çš„äº‹æƒ…ã€‚</p><h3 id="å¼‚æ­¥å¤„ç†" tabindex="-1"><a class="header-anchor" href="#å¼‚æ­¥å¤„ç†" aria-hidden="true">#</a> å¼‚æ­¥å¤„ç†</h3><p>åœ¨ginä¸­ï¼Œå¼‚æ­¥å¤„ç†éœ€è¦ç»“åˆgoroutineä½¿ç”¨ï¼Œä½¿ç”¨èµ·æ¥ååˆ†ç®€å•ã€‚</p><div class="language-go line-numbers-mode" data-ext="go"><pre class="language-go"><code><span class="token comment">// copyè¿”å›ä¸€ä¸ªå½“å‰Contextçš„å‰¯æœ¬ä»¥ä¾¿åœ¨å½“å‰Contextä½œç”¨èŒƒå›´å¤–å®‰å…¨çš„ä½¿ç”¨ï¼Œå¯ä»¥ç”¨äºä¼ é€’ç»™ä¸€ä¸ªgoroutine</span>
<span class="token keyword">func</span> <span class="token punctuation">(</span>c <span class="token operator">*</span>Context<span class="token punctuation">)</span> <span class="token function">Copy</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">*</span>Context
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div></div></div><div class="language-go line-numbers-mode" data-ext="go"><pre class="language-go"><code><span class="token keyword">func</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
	e <span class="token operator">:=</span> gin<span class="token punctuation">.</span><span class="token function">Default</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
	e<span class="token punctuation">.</span><span class="token function">GET</span><span class="token punctuation">(</span><span class="token string">&quot;/hello&quot;</span><span class="token punctuation">,</span> Hello<span class="token punctuation">)</span>
	log<span class="token punctuation">.</span><span class="token function">Fatalln</span><span class="token punctuation">(</span>e<span class="token punctuation">.</span><span class="token function">Run</span><span class="token punctuation">(</span><span class="token string">&quot;:8080&quot;</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
<span class="token punctuation">}</span>

<span class="token keyword">func</span> <span class="token function">Hello</span><span class="token punctuation">(</span>c <span class="token operator">*</span>gin<span class="token punctuation">.</span>Context<span class="token punctuation">)</span> <span class="token punctuation">{</span>
	ctx <span class="token operator">:=</span> c<span class="token punctuation">.</span><span class="token function">Copy</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
	<span class="token keyword">go</span> <span class="token keyword">func</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
		<span class="token comment">// å­åç¨‹åº”è¯¥ä½¿ç”¨Contextçš„å‰¯æœ¬ï¼Œä¸åº”è¯¥ä½¿ç”¨åŸå§‹Context</span>
		log<span class="token punctuation">.</span><span class="token function">Println</span><span class="token punctuation">(</span><span class="token string">&quot;å¼‚æ­¥å¤„ç†å‡½æ•°: &quot;</span><span class="token punctuation">,</span> ctx<span class="token punctuation">.</span><span class="token function">HandlerNames</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
	<span class="token punctuation">}</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
	log<span class="token punctuation">.</span><span class="token function">Println</span><span class="token punctuation">(</span><span class="token string">&quot;æ¥å£å¤„ç†å‡½æ•°: &quot;</span><span class="token punctuation">,</span> c<span class="token punctuation">.</span><span class="token function">HandlerNames</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
	c<span class="token punctuation">.</span><span class="token function">String</span><span class="token punctuation">(</span>http<span class="token punctuation">.</span>StatusOK<span class="token punctuation">,</span> <span class="token string">&quot;hello&quot;</span><span class="token punctuation">)</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>æµ‹è¯•</p><div class="language-go line-numbers-mode" data-ext="go"><pre class="language-go"><code>curl <span class="token operator">--</span>location <span class="token operator">--</span>request GET &#39;http<span class="token punctuation">:</span><span class="token operator">/</span><span class="token operator">/</span>localhost<span class="token punctuation">:</span><span class="token number">8080</span><span class="token operator">/</span>hello&#39;
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><p>è¾“å‡º</p><div class="language-go line-numbers-mode" data-ext="go"><pre class="language-go"><code><span class="token number">2022</span><span class="token operator">/</span><span class="token number">12</span><span class="token operator">/</span><span class="token number">21</span> <span class="token number">13</span><span class="token punctuation">:</span><span class="token number">33</span><span class="token punctuation">:</span><span class="token number">47</span> å¼‚æ­¥å¤„ç†å‡½æ•°<span class="token punctuation">:</span>  <span class="token punctuation">[</span><span class="token punctuation">]</span>
<span class="token number">2022</span><span class="token operator">/</span><span class="token number">12</span><span class="token operator">/</span><span class="token number">21</span> <span class="token number">13</span><span class="token punctuation">:</span><span class="token number">33</span><span class="token punctuation">:</span><span class="token number">47</span> æ¥å£å¤„ç†å‡½æ•°<span class="token punctuation">:</span>  <span class="token punctuation">[</span>github<span class="token punctuation">.</span>com<span class="token operator">/</span>gin<span class="token operator">-</span>gonic<span class="token operator">/</span>gin<span class="token punctuation">.</span>LoggerWithConfig<span class="token punctuation">.</span>func1 github<span class="token punctuation">.</span>com<span class="token operator">/</span>gin<span class="token operator">-</span>gonic<span class="token operator">/</span>gin<span class="token punctuation">.</span>CustomRecoveryWithWriter<span class="token punctuation">.</span>func1 main<span class="token punctuation">.</span>Hello<span class="token punctuation">]</span>
<span class="token punctuation">[</span>GIN<span class="token punctuation">]</span> <span class="token number">2022</span><span class="token operator">/</span><span class="token number">12</span><span class="token operator">/</span><span class="token number">21</span> <span class="token operator">-</span> <span class="token number">13</span><span class="token punctuation">:</span><span class="token number">33</span><span class="token punctuation">:</span><span class="token number">47</span> <span class="token operator">|</span> <span class="token number">200</span> <span class="token operator">|</span>     <span class="token number">11</span><span class="token punctuation">.</span>1927ms <span class="token operator">|</span>             <span class="token punctuation">:</span><span class="token punctuation">:</span><span class="token number">1</span> <span class="token operator">|</span> GET      <span class="token string">&quot;/hello&quot;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>å¯ä»¥çœ‹åˆ°ä¸¤è€…è¾“å‡ºä¸åŒï¼Œå‰¯æœ¬åœ¨å¤åˆ¶æ—¶ï¼Œä¸ºäº†å®‰å…¨è€ƒè™‘ï¼Œåˆ æ‰äº†è®¸å¤šå…ƒç´ çš„å€¼ã€‚</p><h2 id="æ–‡ä»¶ä¼ è¾“" tabindex="-1"><a class="header-anchor" href="#æ–‡ä»¶ä¼ è¾“" aria-hidden="true">#</a> æ–‡ä»¶ä¼ è¾“</h2><p>æ–‡ä»¶ä¼ è¾“æ˜¯Webåº”ç”¨çš„ä¸€ä¸ªä¸å¯æˆ–ç¼ºçš„åŠŸèƒ½ï¼Œginå¯¹äºæ­¤çš„æ”¯æŒä¹Ÿæ˜¯å°è£…çš„ååˆ†ç®€å•ï¼Œä½†å…¶å®æœ¬è´¨ä¸Šå’Œç”¨åŸç”Ÿçš„<code>net/http</code>çš„æµç¨‹éƒ½å·®ä¸å¤šã€‚æµç¨‹éƒ½æ˜¯ä»è¯·æ±‚ä½“ä¸­è¯»å–æ–‡ä»¶æµï¼Œç„¶åå†ä¿å­˜åˆ°æœ¬åœ°ã€‚</p><h3 id="å•æ–‡ä»¶ä¸Šä¼ " tabindex="-1"><a class="header-anchor" href="#å•æ–‡ä»¶ä¸Šä¼ " aria-hidden="true">#</a> å•æ–‡ä»¶ä¸Šä¼ </h3><div class="language-go line-numbers-mode" data-ext="go"><pre class="language-go"><code><span class="token keyword">func</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
	e <span class="token operator">:=</span> gin<span class="token punctuation">.</span><span class="token function">Default</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
	e<span class="token punctuation">.</span><span class="token function">POST</span><span class="token punctuation">(</span><span class="token string">&quot;/upload&quot;</span><span class="token punctuation">,</span> uploadFile<span class="token punctuation">)</span>
	log<span class="token punctuation">.</span><span class="token function">Fatalln</span><span class="token punctuation">(</span>e<span class="token punctuation">.</span><span class="token function">Run</span><span class="token punctuation">(</span><span class="token string">&quot;:8080&quot;</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
<span class="token punctuation">}</span>

<span class="token keyword">func</span> <span class="token function">uploadFile</span><span class="token punctuation">(</span>ctx <span class="token operator">*</span>gin<span class="token punctuation">.</span>Context<span class="token punctuation">)</span> <span class="token punctuation">{</span>
	<span class="token comment">// è·å–æ–‡ä»¶</span>
	file<span class="token punctuation">,</span> err <span class="token operator">:=</span> ctx<span class="token punctuation">.</span><span class="token function">FormFile</span><span class="token punctuation">(</span><span class="token string">&quot;file&quot;</span><span class="token punctuation">)</span>
	<span class="token keyword">if</span> err <span class="token operator">!=</span> <span class="token boolean">nil</span> <span class="token punctuation">{</span>
		ctx<span class="token punctuation">.</span><span class="token function">String</span><span class="token punctuation">(</span>http<span class="token punctuation">.</span>StatusBadRequest<span class="token punctuation">,</span> <span class="token string">&quot;%+v&quot;</span><span class="token punctuation">,</span> err<span class="token punctuation">)</span>
		<span class="token keyword">return</span>
	<span class="token punctuation">}</span>
	<span class="token comment">// ä¿å­˜åœ¨æœ¬åœ°</span>
	err <span class="token operator">=</span> ctx<span class="token punctuation">.</span><span class="token function">SaveUploadedFile</span><span class="token punctuation">(</span>file<span class="token punctuation">,</span> <span class="token string">&quot;./&quot;</span><span class="token operator">+</span>file<span class="token punctuation">.</span>Filename<span class="token punctuation">)</span>
	<span class="token keyword">if</span> err <span class="token operator">!=</span> <span class="token boolean">nil</span> <span class="token punctuation">{</span>
		ctx<span class="token punctuation">.</span><span class="token function">String</span><span class="token punctuation">(</span>http<span class="token punctuation">.</span>StatusBadRequest<span class="token punctuation">,</span> <span class="token string">&quot;%+v&quot;</span><span class="token punctuation">,</span> err<span class="token punctuation">)</span>
		<span class="token keyword">return</span>
	<span class="token punctuation">}</span>
	<span class="token comment">// è¿”å›ç»“æœ</span>
	ctx<span class="token punctuation">.</span><span class="token function">String</span><span class="token punctuation">(</span>http<span class="token punctuation">.</span>StatusOK<span class="token punctuation">,</span> <span class="token string">&quot;upload %s size:%d byte successfully!&quot;</span><span class="token punctuation">,</span> file<span class="token punctuation">.</span>Filename<span class="token punctuation">,</span> file<span class="token punctuation">.</span>Size<span class="token punctuation">)</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>æµ‹è¯•</p><div class="language-text line-numbers-mode" data-ext="text"><pre class="language-text"><code>curl --location --request POST &#39;http://localhost:8080/upload&#39; \
--form &#39;file=@&quot;/C:/Users/user/Pictures/Camera Roll/a.jpg&quot;&#39;
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div></div></div><p>ç»“æœ</p><div class="language-text line-numbers-mode" data-ext="text"><pre class="language-text"><code>upload a.jpg size:1424 byte successfully!
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><div class="hint-container tip"><p class="hint-container-title">æç¤º</p><p>ä¸€èˆ¬æƒ…å†µä¸‹ï¼Œä¸Šä¼ æ–‡ä»¶çš„<code>Method</code>éƒ½ä¼šæŒ‡å®šç”¨<code>POST</code>ï¼Œä¸€äº›å…¬å¸å¯èƒ½ä¼šå€¾å‘äºä½¿ç”¨<code>PUT</code>ï¼Œå‰è€…æ˜¯ç®€å•HTTPè¯·æ±‚ï¼Œåè€…æ˜¯å¤æ‚HTTPè¯·æ±‚ï¼Œå…·ä½“åŒºåˆ«ä¸ä½œèµ˜è¿°ï¼Œå¦‚æœä½¿ç”¨åè€…çš„è¯ï¼Œå°¤å…¶æ˜¯å‰åç«¯åˆ†ç¦»çš„é¡¹ç›®æ—¶ï¼Œéœ€è¦è¿›è¡Œç›¸åº”çš„è·¨åŸŸå¤„ç†ï¼Œè€ŒGiné»˜è®¤çš„é…ç½®æ˜¯ä¸æ”¯æŒè·¨åŸŸçš„<a href="#%E8%B7%A8%E5%9F%9F%E9%85%8D%E7%BD%AE">è·¨åŸŸé…ç½®</a>ã€‚</p></div><h3 id="å¤šæ–‡ä»¶ä¸Šä¼ " tabindex="-1"><a class="header-anchor" href="#å¤šæ–‡ä»¶ä¸Šä¼ " aria-hidden="true">#</a> å¤šæ–‡ä»¶ä¸Šä¼ </h3><div class="language-go line-numbers-mode" data-ext="go"><pre class="language-go"><code><span class="token keyword">func</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
   e <span class="token operator">:=</span> gin<span class="token punctuation">.</span><span class="token function">Default</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
   e<span class="token punctuation">.</span><span class="token function">POST</span><span class="token punctuation">(</span><span class="token string">&quot;/upload&quot;</span><span class="token punctuation">,</span> uploadFile<span class="token punctuation">)</span>
   e<span class="token punctuation">.</span><span class="token function">POST</span><span class="token punctuation">(</span><span class="token string">&quot;/uploadFiles&quot;</span><span class="token punctuation">,</span> uploadFiles<span class="token punctuation">)</span>
   log<span class="token punctuation">.</span><span class="token function">Fatalln</span><span class="token punctuation">(</span>e<span class="token punctuation">.</span><span class="token function">Run</span><span class="token punctuation">(</span><span class="token string">&quot;:8080&quot;</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
<span class="token punctuation">}</span>

<span class="token keyword">func</span> <span class="token function">uploadFiles</span><span class="token punctuation">(</span>ctx <span class="token operator">*</span>gin<span class="token punctuation">.</span>Context<span class="token punctuation">)</span> <span class="token punctuation">{</span>
	<span class="token comment">// è·å–ginè§£æå¥½çš„multipartè¡¨å•</span>
	form<span class="token punctuation">,</span> <span class="token boolean">_</span> <span class="token operator">:=</span> ctx<span class="token punctuation">.</span><span class="token function">MultipartForm</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
	<span class="token comment">// æ ¹æ®é”®å€¼å–å¾—å¯¹åº”çš„æ–‡ä»¶åˆ—è¡¨</span>
	files <span class="token operator">:=</span> form<span class="token punctuation">.</span>File<span class="token punctuation">[</span><span class="token string">&quot;files&quot;</span><span class="token punctuation">]</span>
	<span class="token comment">// éå†æ–‡ä»¶åˆ—è¡¨ï¼Œä¿å­˜åˆ°æœ¬åœ°</span>
	<span class="token keyword">for</span> <span class="token boolean">_</span><span class="token punctuation">,</span> file <span class="token operator">:=</span> <span class="token keyword">range</span> files <span class="token punctuation">{</span>
		err <span class="token operator">:=</span> ctx<span class="token punctuation">.</span><span class="token function">SaveUploadedFile</span><span class="token punctuation">(</span>file<span class="token punctuation">,</span> <span class="token string">&quot;./&quot;</span><span class="token operator">+</span>file<span class="token punctuation">.</span>Filename<span class="token punctuation">)</span>
		<span class="token keyword">if</span> err <span class="token operator">!=</span> <span class="token boolean">nil</span> <span class="token punctuation">{</span>
			ctx<span class="token punctuation">.</span><span class="token function">String</span><span class="token punctuation">(</span>http<span class="token punctuation">.</span>StatusBadRequest<span class="token punctuation">,</span> <span class="token string">&quot;upload failed&quot;</span><span class="token punctuation">)</span>
			<span class="token keyword">return</span>
		<span class="token punctuation">}</span>
	<span class="token punctuation">}</span>
	<span class="token comment">// è¿”å›ç»“æœ</span>
	ctx<span class="token punctuation">.</span><span class="token function">String</span><span class="token punctuation">(</span>http<span class="token punctuation">.</span>StatusOK<span class="token punctuation">,</span> <span class="token string">&quot;upload %d files successfully!&quot;</span><span class="token punctuation">,</span> <span class="token function">len</span><span class="token punctuation">(</span>files<span class="token punctuation">)</span><span class="token punctuation">)</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>æµ‹è¯•</p><div class="language-text line-numbers-mode" data-ext="text"><pre class="language-text"><code>curl --location --request POST &#39;http://localhost:8080/uploadFiles&#39; \
--form &#39;files=@&quot;/C:/Users/Stranger/Pictures/Camera Roll/a.jpg&quot;&#39; \
--form &#39;files=@&quot;/C:/Users/Stranger/Pictures/Camera Roll/123.jpg&quot;&#39; \
--form &#39;files=@&quot;/C:/Users/Stranger/Pictures/Camera Roll/girl.jpg&quot;&#39;
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>è¾“å‡º</p><div class="language-text line-numbers-mode" data-ext="text"><pre class="language-text"><code>upload 3 files successfully!
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><h3 id="æ–‡ä»¶ä¸‹è½½" tabindex="-1"><a class="header-anchor" href="#æ–‡ä»¶ä¸‹è½½" aria-hidden="true">#</a> æ–‡ä»¶ä¸‹è½½</h3><p>å…³äºæ–‡ä»¶ä¸‹è½½çš„éƒ¨åˆ†Ginå¯¹äºåŸæœ‰æ ‡å‡†åº“çš„APIå†ä¸€æ¬¡å°è£…ï¼Œä½¿å¾—æ–‡ä»¶ä¸‹è½½å¼‚å¸¸ç®€å•ã€‚</p><div class="language-go line-numbers-mode" data-ext="go"><pre class="language-go"><code><span class="token keyword">func</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
	e <span class="token operator">:=</span> gin<span class="token punctuation">.</span><span class="token function">Default</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
	e<span class="token punctuation">.</span><span class="token function">POST</span><span class="token punctuation">(</span><span class="token string">&quot;/upload&quot;</span><span class="token punctuation">,</span> uploadFile<span class="token punctuation">)</span>
	e<span class="token punctuation">.</span><span class="token function">POST</span><span class="token punctuation">(</span><span class="token string">&quot;/uploadFiles&quot;</span><span class="token punctuation">,</span> uploadFiles<span class="token punctuation">)</span>
	e<span class="token punctuation">.</span><span class="token function">GET</span><span class="token punctuation">(</span><span class="token string">&quot;/download/:filename&quot;</span><span class="token punctuation">,</span> download<span class="token punctuation">)</span>
	log<span class="token punctuation">.</span><span class="token function">Fatalln</span><span class="token punctuation">(</span>e<span class="token punctuation">.</span><span class="token function">Run</span><span class="token punctuation">(</span><span class="token string">&quot;:8080&quot;</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
<span class="token punctuation">}</span>

<span class="token keyword">func</span> <span class="token function">download</span><span class="token punctuation">(</span>ctx <span class="token operator">*</span>gin<span class="token punctuation">.</span>Context<span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token comment">// è·å–æ–‡ä»¶å</span>
	filename <span class="token operator">:=</span> ctx<span class="token punctuation">.</span><span class="token function">Param</span><span class="token punctuation">(</span><span class="token string">&quot;filename&quot;</span><span class="token punctuation">)</span>
    <span class="token comment">// è¿”å›å¯¹åº”æ–‡ä»¶</span>
	ctx<span class="token punctuation">.</span><span class="token function">FileAttachment</span><span class="token punctuation">(</span>filename<span class="token punctuation">,</span> filename<span class="token punctuation">)</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>æµ‹è¯•</p><div class="language-text line-numbers-mode" data-ext="text"><pre class="language-text"><code>curl --location --request GET &#39;http://localhost:8080/download/a.jpg&#39;
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><p>ç»“æœ</p><div class="language-text line-numbers-mode" data-ext="text"><pre class="language-text"><code>Content-Disposition: attachment; filename=&quot;a.jpg&quot;
Date: Wed, 21 Dec 2022 08:04:17 GMT
Last-Modified: Wed, 21 Dec 2022 07:50:44 GMT
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>æ˜¯ä¸æ˜¯è§‰å¾—ç®€å•è¿‡å¤´äº†ï¼Œä¸å¦¨ä¸ç”¨æ¡†æ¶çš„æ–¹æ³•ï¼Œè‡ªè¡Œç¼–å†™ä¸€éè¿‡ç¨‹</p><div class="language-go line-numbers-mode" data-ext="go"><pre class="language-go"><code><span class="token keyword">func</span> <span class="token function">download</span><span class="token punctuation">(</span>ctx <span class="token operator">*</span>gin<span class="token punctuation">.</span>Context<span class="token punctuation">)</span> <span class="token punctuation">{</span>
   <span class="token comment">// è·å–å‚æ•°</span>
   filename <span class="token operator">:=</span> ctx<span class="token punctuation">.</span><span class="token function">Param</span><span class="token punctuation">(</span><span class="token string">&quot;filename&quot;</span><span class="token punctuation">)</span>

   <span class="token comment">// è¯·æ±‚å“åº”å¯¹è±¡å’Œè¯·æ±‚å¯¹è±¡</span>
   response<span class="token punctuation">,</span> request <span class="token operator">:=</span> ctx<span class="token punctuation">.</span>Writer<span class="token punctuation">,</span> ctx<span class="token punctuation">.</span>Request
   <span class="token comment">// å†™å…¥å“åº”å¤´</span>
   <span class="token comment">// response.Header().Set(&quot;Content-Type&quot;, &quot;application/octet-stream&quot;) ä»¥äºŒè¿›åˆ¶æµä¼ è¾“æ–‡ä»¶</span>
   response<span class="token punctuation">.</span><span class="token function">Header</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">Set</span><span class="token punctuation">(</span><span class="token string">&quot;Content-Disposition&quot;</span><span class="token punctuation">,</span> <span class="token string">`attachment; filename*=UTF-8&#39;&#39;`</span><span class="token operator">+</span>url<span class="token punctuation">.</span><span class="token function">QueryEscape</span><span class="token punctuation">(</span>filename<span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token comment">// å¯¹æ–‡ä»¶åè¿›è¡Œå®‰å…¨è½¬ä¹‰</span>
   response<span class="token punctuation">.</span><span class="token function">Header</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">Set</span><span class="token punctuation">(</span><span class="token string">&quot;Content-Transfer-Encoding&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;binary&quot;</span><span class="token punctuation">)</span>                                            <span class="token comment">// ä¼ è¾“ç¼–ç </span>
   http<span class="token punctuation">.</span><span class="token function">ServeFile</span><span class="token punctuation">(</span>response<span class="token punctuation">,</span> request<span class="token punctuation">,</span> filename<span class="token punctuation">)</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>å…¶å®<code>net/http</code>ä¹Ÿå·²ç»å°è£…çš„è¶³å¤Ÿå¥½äº†</p><div class="hint-container tip"><p class="hint-container-title">æç¤º</p><p>å¯ä»¥é€šè¿‡<code>Engine.MaxMultipartMemory</code>æ¥è®¾ç½®æ–‡ä»¶ä¼ è¾“çš„æœ€å¤§å†…å­˜ï¼Œé»˜è®¤ä¸º<code>32 &lt;&lt; 20 // 32 MB</code></p></div><h2 id="è·¯ç”±ç®¡ç†" tabindex="-1"><a class="header-anchor" href="#è·¯ç”±ç®¡ç†" aria-hidden="true">#</a> è·¯ç”±ç®¡ç†</h2><p>è·¯ç”±ç®¡ç†æ˜¯ä¸€ä¸ªç³»ç»Ÿä¸­éå¸¸é‡è¦çš„éƒ¨åˆ†ï¼Œéœ€è¦ç¡®ä¿æ¯ä¸€ä¸ªè¯·æ±‚éƒ½èƒ½è¢«æ­£ç¡®çš„æ˜ å°„åˆ°å¯¹åº”çš„å‡½æ•°ä¸Šã€‚</p><h3 id="è·¯ç”±ç»„" tabindex="-1"><a class="header-anchor" href="#è·¯ç”±ç»„" aria-hidden="true">#</a> è·¯ç”±ç»„</h3><p>åˆ›å»ºä¸€ä¸ªè·¯ç”±ç»„æ˜¯å°†æ¥å£åˆ†ç±»ï¼Œä¸åŒç±»åˆ«çš„æ¥å£å¯¹åº”ä¸åŒçš„åŠŸèƒ½ï¼Œä¹Ÿæ›´æ˜“äºç®¡ç†ã€‚</p><div class="language-go line-numbers-mode" data-ext="go"><pre class="language-go"><code><span class="token keyword">func</span> <span class="token function">Hello</span><span class="token punctuation">(</span>c <span class="token operator">*</span>gin<span class="token punctuation">.</span>Context<span class="token punctuation">)</span> <span class="token punctuation">{</span>

<span class="token punctuation">}</span>

<span class="token keyword">func</span> <span class="token function">Login</span><span class="token punctuation">(</span>c <span class="token operator">*</span>gin<span class="token punctuation">.</span>Context<span class="token punctuation">)</span> <span class="token punctuation">{</span>

<span class="token punctuation">}</span>

<span class="token keyword">func</span> <span class="token function">Update</span><span class="token punctuation">(</span>c <span class="token operator">*</span>gin<span class="token punctuation">.</span>Context<span class="token punctuation">)</span> <span class="token punctuation">{</span>

<span class="token punctuation">}</span>

<span class="token keyword">func</span> <span class="token function">Delete</span><span class="token punctuation">(</span>c <span class="token operator">*</span>gin<span class="token punctuation">.</span>Context<span class="token punctuation">)</span> <span class="token punctuation">{</span>

<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>å‡è®¾æˆ‘ä»¬æœ‰ä»¥ä¸Šå››ä¸ªæ¥å£ï¼Œæš‚æ—¶ä¸ç®¡å…¶å†…éƒ¨å®ç°ï¼Œ<code>Hello</code>ï¼Œ<code>Login</code>æ˜¯ä¸€ç»„ï¼Œ<code>Update</code>ï¼Œ<code>Delete</code>æ˜¯ä¸€ç»„ã€‚</p><div class="language-go line-numbers-mode" data-ext="go"><pre class="language-go"><code><span class="token keyword">func</span> <span class="token punctuation">(</span>group <span class="token operator">*</span>RouterGroup<span class="token punctuation">)</span> <span class="token function">Group</span><span class="token punctuation">(</span>relativePath <span class="token builtin">string</span><span class="token punctuation">,</span> handlers <span class="token operator">...</span>HandlerFunc<span class="token punctuation">)</span> <span class="token operator">*</span>RouterGroup
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><p>åœ¨åˆ›å»ºåˆ†ç»„çš„æ—¶å€™ï¼Œæˆ‘ä»¬ä¹Ÿå¯ä»¥ç»™åˆ†ç»„çš„æ ¹è·¯ç”±æ³¨å†Œå¤„ç†å™¨ï¼Œä¸è¿‡å¤§å¤šæ•°æ—¶å€™å¹¶ä¸ä¼šè¿™ä¹ˆåšã€‚</p><div class="language-go line-numbers-mode" data-ext="go"><pre class="language-go"><code><span class="token keyword">func</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
	e <span class="token operator">:=</span> gin<span class="token punctuation">.</span><span class="token function">Default</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
	v1 <span class="token operator">:=</span> e<span class="token punctuation">.</span><span class="token function">Group</span><span class="token punctuation">(</span><span class="token string">&quot;v1&quot;</span><span class="token punctuation">)</span>
	<span class="token punctuation">{</span>
		v1<span class="token punctuation">.</span><span class="token function">GET</span><span class="token punctuation">(</span><span class="token string">&quot;/hello&quot;</span><span class="token punctuation">,</span> Hello<span class="token punctuation">)</span>
		v1<span class="token punctuation">.</span><span class="token function">GET</span><span class="token punctuation">(</span><span class="token string">&quot;/login&quot;</span><span class="token punctuation">,</span> Login<span class="token punctuation">)</span>
	<span class="token punctuation">}</span>
	v2 <span class="token operator">:=</span> e<span class="token punctuation">.</span><span class="token function">Group</span><span class="token punctuation">(</span><span class="token string">&quot;v2&quot;</span><span class="token punctuation">)</span>
	<span class="token punctuation">{</span>
		v2<span class="token punctuation">.</span><span class="token function">POST</span><span class="token punctuation">(</span><span class="token string">&quot;/update&quot;</span><span class="token punctuation">,</span> Update<span class="token punctuation">)</span>
		v2<span class="token punctuation">.</span><span class="token function">DELETE</span><span class="token punctuation">(</span><span class="token string">&quot;/delete&quot;</span><span class="token punctuation">,</span> Delete<span class="token punctuation">)</span>
	<span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>æˆ‘ä»¬å°†å…¶åˆ†æˆäº†<code>v1</code>ï¼Œ<code>v2</code>ä¸¤ä¸ªåˆ†ç»„ï¼Œå…¶ä¸­çš„èŠ±æ‹¬å·<code>{}</code>ä»…ä»…åªæ˜¯ä¸ºäº†è§„èŒƒï¼Œè¡¨åèŠ±æ‹¬å·å†…æ³¨å†Œçš„å¤„ç†å™¨æ˜¯å±äºåŒä¸€ä¸ªè·¯ç”±åˆ†ç»„ï¼Œåœ¨åŠŸèƒ½ä¸Šæ²¡æœ‰ä»»ä½•ä½œç”¨ã€‚åŒæ ·çš„ï¼Œginä¹Ÿæ”¯æŒåµŒå¥—åˆ†ç»„ï¼Œæ–¹æ³•ä¸ä¸Šä¾‹ä¸€è‡´ï¼Œè¿™é‡Œå°±ä¸å†æ¼”ç¤ºã€‚</p><h3 id="_404è·¯ç”±" tabindex="-1"><a class="header-anchor" href="#_404è·¯ç”±" aria-hidden="true">#</a> 404è·¯ç”±</h3><p>gin ä¸­çš„<code>Engine</code>ç»“æ„ä½“æä¾›äº†ä¸€ä¸ªæ–¹æ³•<code>NoRoute</code>ï¼Œæ¥è®¾ç½®å½“è®¿é—®çš„URLä¸å­˜åœ¨æ—¶å¦‚ä½•å¤„ç†ï¼Œå¼€å‘è€…å¯ä»¥å°†é€»è¾‘å†™å…¥æ­¤æ–¹æ³•ä¸­ï¼Œä»¥ä¾¿è·¯ç”±æœªæ‰¾åˆ°æ—¶è‡ªåŠ¨è°ƒç”¨ï¼Œé»˜è®¤ä¼šè¿”å›404çŠ¶æ€ç </p><div class="language-go line-numbers-mode" data-ext="go"><pre class="language-go"><code><span class="token keyword">func</span> <span class="token punctuation">(</span>engine <span class="token operator">*</span>Engine<span class="token punctuation">)</span> <span class="token function">NoRoute</span><span class="token punctuation">(</span>handlers <span class="token operator">...</span>HandlerFunc<span class="token punctuation">)</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><p>æˆ‘ä»¬æ‹¿ä¸Šä¸ªä¾‹å­ä¸¾ä¾‹</p><div class="language-go line-numbers-mode" data-ext="go"><pre class="language-go"><code><span class="token keyword">func</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
   e <span class="token operator">:=</span> gin<span class="token punctuation">.</span><span class="token function">Default</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
   v1 <span class="token operator">:=</span> e<span class="token punctuation">.</span><span class="token function">Group</span><span class="token punctuation">(</span><span class="token string">&quot;v1&quot;</span><span class="token punctuation">)</span>
   <span class="token punctuation">{</span>
      v1<span class="token punctuation">.</span><span class="token function">GET</span><span class="token punctuation">(</span><span class="token string">&quot;/hello&quot;</span><span class="token punctuation">,</span> Hello<span class="token punctuation">)</span>
      v1<span class="token punctuation">.</span><span class="token function">GET</span><span class="token punctuation">(</span><span class="token string">&quot;/login&quot;</span><span class="token punctuation">,</span> Login<span class="token punctuation">)</span>
   <span class="token punctuation">}</span>
   v2 <span class="token operator">:=</span> e<span class="token punctuation">.</span><span class="token function">Group</span><span class="token punctuation">(</span><span class="token string">&quot;v2&quot;</span><span class="token punctuation">)</span>
   <span class="token punctuation">{</span>
      v2<span class="token punctuation">.</span><span class="token function">POST</span><span class="token punctuation">(</span><span class="token string">&quot;/update&quot;</span><span class="token punctuation">,</span> Update<span class="token punctuation">)</span>
      v2<span class="token punctuation">.</span><span class="token function">DELETE</span><span class="token punctuation">(</span><span class="token string">&quot;/delete&quot;</span><span class="token punctuation">,</span> Delete<span class="token punctuation">)</span>
   <span class="token punctuation">}</span>
   <span class="token comment">// æ³¨å†Œå¤„ç†å™¨</span>
   e<span class="token punctuation">.</span><span class="token function">NoRoute</span><span class="token punctuation">(</span><span class="token keyword">func</span><span class="token punctuation">(</span>context <span class="token operator">*</span>gin<span class="token punctuation">.</span>Context<span class="token punctuation">)</span> <span class="token punctuation">{</span> <span class="token comment">// è¿™é‡Œåªæ˜¯æ¼”ç¤ºï¼Œä¸è¦åœ¨ç”Ÿäº§ç¯å¢ƒä¸­ç›´æ¥è¿”å›HTMLä»£ç </span>
      context<span class="token punctuation">.</span><span class="token function">String</span><span class="token punctuation">(</span>http<span class="token punctuation">.</span>StatusNotFound<span class="token punctuation">,</span> <span class="token string">&quot;&lt;h1&gt;404 Page Not Found&lt;/h1&gt;&quot;</span><span class="token punctuation">)</span>
   <span class="token punctuation">}</span><span class="token punctuation">)</span>
   log<span class="token punctuation">.</span><span class="token function">Fatalln</span><span class="token punctuation">(</span>e<span class="token punctuation">.</span><span class="token function">Run</span><span class="token punctuation">(</span><span class="token string">&quot;:8080&quot;</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>éšä¾¿å‘ä¸€ä¸ªè¯·æ±‚</p><div class="language-text line-numbers-mode" data-ext="text"><pre class="language-text"><code>curl --location --request GET &#39;http://localhost:8080/&#39;
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><div class="language-text line-numbers-mode" data-ext="text"><pre class="language-text"><code>&lt;h1&gt;404 Page Not Found&lt;/h1&gt;
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><h3 id="_405è·¯ç”±" tabindex="-1"><a class="header-anchor" href="#_405è·¯ç”±" aria-hidden="true">#</a> 405è·¯ç”±</h3><p>HttpçŠ¶æ€ç ä¸­ï¼Œ405ä»£è¡¨ç€å½“å‰è¯·æ±‚çš„æ–¹æ³•ç±»å‹æ˜¯ä¸å…è®¸çš„ï¼Œginä¸­æä¾›äº†å¦‚ä¸‹æ–¹æ³•</p><div class="language-go line-numbers-mode" data-ext="go"><pre class="language-go"><code><span class="token keyword">func</span> <span class="token punctuation">(</span>engine <span class="token operator">*</span>Engine<span class="token punctuation">)</span> <span class="token function">NoMethod</span><span class="token punctuation">(</span>handlers <span class="token operator">...</span>HandlerFunc<span class="token punctuation">)</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><p>æ¥æ³¨å†Œä¸€ä¸ªå¤„ç†å™¨ï¼Œä»¥ä¾¿åœ¨å‘ç”Ÿæ—¶è‡ªåŠ¨è°ƒç”¨ï¼Œå‰ææ˜¯è®¾ç½®<code>Engine.HandleMethodNotAllowed = true</code>ã€‚</p><div class="language-go line-numbers-mode" data-ext="go"><pre class="language-go"><code><span class="token keyword">func</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
   e <span class="token operator">:=</span> gin<span class="token punctuation">.</span><span class="token function">Default</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
   <span class="token comment">// éœ€è¦å°†å…¶è®¾ç½®ä¸ºtrue</span>
   e<span class="token punctuation">.</span>HandleMethodNotAllowed <span class="token operator">=</span> <span class="token boolean">true</span>
   v1 <span class="token operator">:=</span> e<span class="token punctuation">.</span><span class="token function">Group</span><span class="token punctuation">(</span><span class="token string">&quot;/v1&quot;</span><span class="token punctuation">)</span>
   <span class="token punctuation">{</span>
      v1<span class="token punctuation">.</span><span class="token function">GET</span><span class="token punctuation">(</span><span class="token string">&quot;/hello&quot;</span><span class="token punctuation">,</span> Hello<span class="token punctuation">)</span>
      v1<span class="token punctuation">.</span><span class="token function">GET</span><span class="token punctuation">(</span><span class="token string">&quot;/login&quot;</span><span class="token punctuation">,</span> Login<span class="token punctuation">)</span>
   <span class="token punctuation">}</span>
   v2 <span class="token operator">:=</span> e<span class="token punctuation">.</span><span class="token function">Group</span><span class="token punctuation">(</span><span class="token string">&quot;/v2&quot;</span><span class="token punctuation">)</span>
   <span class="token punctuation">{</span>
      v2<span class="token punctuation">.</span><span class="token function">POST</span><span class="token punctuation">(</span><span class="token string">&quot;/update&quot;</span><span class="token punctuation">,</span> Update<span class="token punctuation">)</span>
      v2<span class="token punctuation">.</span><span class="token function">DELETE</span><span class="token punctuation">(</span><span class="token string">&quot;/delete&quot;</span><span class="token punctuation">,</span> Delete<span class="token punctuation">)</span>
   <span class="token punctuation">}</span>
   e<span class="token punctuation">.</span><span class="token function">NoRoute</span><span class="token punctuation">(</span><span class="token keyword">func</span><span class="token punctuation">(</span>context <span class="token operator">*</span>gin<span class="token punctuation">.</span>Context<span class="token punctuation">)</span> <span class="token punctuation">{</span>
      context<span class="token punctuation">.</span><span class="token function">String</span><span class="token punctuation">(</span>http<span class="token punctuation">.</span>StatusNotFound<span class="token punctuation">,</span> <span class="token string">&quot;&lt;h1&gt;404 Page Not Found&lt;/h1&gt;&quot;</span><span class="token punctuation">)</span>
   <span class="token punctuation">}</span><span class="token punctuation">)</span>
   <span class="token comment">// æ³¨å†Œå¤„ç†å™¨</span>
   e<span class="token punctuation">.</span><span class="token function">NoMethod</span><span class="token punctuation">(</span><span class="token keyword">func</span><span class="token punctuation">(</span>context <span class="token operator">*</span>gin<span class="token punctuation">.</span>Context<span class="token punctuation">)</span> <span class="token punctuation">{</span>
      context<span class="token punctuation">.</span><span class="token function">String</span><span class="token punctuation">(</span>http<span class="token punctuation">.</span>StatusMethodNotAllowed<span class="token punctuation">,</span> <span class="token string">&quot;method not allowed&quot;</span><span class="token punctuation">)</span>
   <span class="token punctuation">}</span><span class="token punctuation">)</span>
   log<span class="token punctuation">.</span><span class="token function">Fatalln</span><span class="token punctuation">(</span>e<span class="token punctuation">.</span><span class="token function">Run</span><span class="token punctuation">(</span><span class="token string">&quot;:8080&quot;</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>é…ç½®å¥½åï¼Œginé»˜è®¤çš„headeræ˜¯ä¸æ”¯æŒ<code>OPTION</code>è¯·æ±‚çš„ï¼Œæµ‹è¯•ä¸€ä¸‹</p><div class="language-text line-numbers-mode" data-ext="text"><pre class="language-text"><code>curl --location --request OPTIONS &#39;http://localhost:8080/v2/delete&#39;
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><div class="language-text line-numbers-mode" data-ext="text"><pre class="language-text"><code>method not allowed
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><p>è‡³æ­¤é…ç½®æˆåŠŸ</p><h3 id="é‡å®šå‘" tabindex="-1"><a class="header-anchor" href="#é‡å®šå‘" aria-hidden="true">#</a> é‡å®šå‘</h3><p>ginä¸­çš„é‡å®šå‘ååˆ†ç®€å•ï¼Œè°ƒç”¨<code>gin.Context.Redirect()</code>æ–¹æ³•å³å¯ã€‚</p><div class="language-go line-numbers-mode" data-ext="go"><pre class="language-go"><code><span class="token keyword">func</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
	e <span class="token operator">:=</span> gin<span class="token punctuation">.</span><span class="token function">Default</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
	e<span class="token punctuation">.</span><span class="token function">GET</span><span class="token punctuation">(</span><span class="token string">&quot;/&quot;</span><span class="token punctuation">,</span> Index<span class="token punctuation">)</span>
	e<span class="token punctuation">.</span><span class="token function">GET</span><span class="token punctuation">(</span><span class="token string">&quot;/hello&quot;</span><span class="token punctuation">,</span> Hello<span class="token punctuation">)</span>
	log<span class="token punctuation">.</span><span class="token function">Fatalln</span><span class="token punctuation">(</span>e<span class="token punctuation">.</span><span class="token function">Run</span><span class="token punctuation">(</span><span class="token string">&quot;:8080&quot;</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
<span class="token punctuation">}</span>

<span class="token keyword">func</span> <span class="token function">Index</span><span class="token punctuation">(</span>c <span class="token operator">*</span>gin<span class="token punctuation">.</span>Context<span class="token punctuation">)</span> <span class="token punctuation">{</span>
	c<span class="token punctuation">.</span><span class="token function">Redirect</span><span class="token punctuation">(</span>http<span class="token punctuation">.</span>StatusMovedPermanently<span class="token punctuation">,</span> <span class="token string">&quot;/hello&quot;</span><span class="token punctuation">)</span>
<span class="token punctuation">}</span>

<span class="token keyword">func</span> <span class="token function">Hello</span><span class="token punctuation">(</span>c <span class="token operator">*</span>gin<span class="token punctuation">.</span>Context<span class="token punctuation">)</span> <span class="token punctuation">{</span>
	c<span class="token punctuation">.</span><span class="token function">String</span><span class="token punctuation">(</span>http<span class="token punctuation">.</span>StatusOK<span class="token punctuation">,</span> <span class="token string">&quot;hello&quot;</span><span class="token punctuation">)</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>æµ‹è¯•</p><div class="language-text line-numbers-mode" data-ext="text"><pre class="language-text"><code>curl --location --request GET &#39;http://localhost:8080/&#39;
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><p>è¾“å‡º</p><div class="language-text line-numbers-mode" data-ext="text"><pre class="language-text"><code>hello
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><h2 id="ä¸­é—´ä»¶" tabindex="-1"><a class="header-anchor" href="#ä¸­é—´ä»¶" aria-hidden="true">#</a> ä¸­é—´ä»¶</h2><p>ginååˆ†è½»ä¾¿çµæ´»ï¼Œæ‹“å±•æ€§éå¸¸é«˜ï¼Œå¯¹äºä¸­é—´ä»¶çš„æ”¯æŒä¹Ÿéå¸¸å‹å¥½ã€‚åœ¨Ginä¸­ï¼Œæ‰€æœ‰çš„æ¥å£è¯·æ±‚éƒ½è¦ç»è¿‡ä¸­é—´ä»¶ï¼Œé€šè¿‡ä¸­é—´ä»¶ï¼Œå¼€å‘è€…å¯ä»¥è‡ªå®šä¹‰å®ç°å¾ˆå¤šåŠŸèƒ½å’Œé€»è¾‘ï¼Œginè™½ç„¶æœ¬èº«è‡ªå¸¦çš„åŠŸèƒ½å¾ˆå°‘ï¼Œä½†æ˜¯ç”±ç¬¬ä¸‰æ–¹ç¤¾åŒºå¼€å‘çš„ginæ‹“å±•ä¸­é—´ä»¶ååˆ†ä¸°å¯Œã€‚</p><p>ä¸­é—´ä»¶æœ¬è´¨ä¸Šå…¶å®è¿˜æ˜¯ä¸€ä¸ªæ¥å£å¤„ç†å™¨</p><div class="language-go line-numbers-mode" data-ext="go"><pre class="language-go"><code><span class="token comment">// HandlerFunc defines the handler used by gin middleware as return value.</span>
<span class="token keyword">type</span> HandlerFunc <span class="token keyword">func</span><span class="token punctuation">(</span><span class="token operator">*</span>Context<span class="token punctuation">)</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div></div></div><p>ä»æŸç§æ„ä¹‰ä¸Šæ¥è¯´ï¼Œæ¯ä¸€ä¸ªè¯·æ±‚å¯¹åº”çš„å¤„ç†å™¨ä¹Ÿæ˜¯ä¸­é—´ä»¶ï¼Œåªä¸è¿‡æ˜¯ä½œç”¨èŒƒå›´éå¸¸å°çš„å±€éƒ¨ä¸­é—´ä»¶ã€‚</p><div class="language-go line-numbers-mode" data-ext="go"><pre class="language-go"><code><span class="token keyword">func</span> <span class="token function">Default</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">*</span>Engine <span class="token punctuation">{</span>
   <span class="token function">debugPrintWARNINGDefault</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
   engine <span class="token operator">:=</span> <span class="token function">New</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
   engine<span class="token punctuation">.</span><span class="token function">Use</span><span class="token punctuation">(</span><span class="token function">Logger</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token function">Recovery</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
   <span class="token keyword">return</span> engine
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>æŸ¥çœ‹ginçš„æºä»£ç ï¼Œ<code>Default</code>å‡½æ•°ä¸­ï¼Œè¿”å›çš„é»˜è®¤<code>Engine</code>å°±ä½¿ç”¨ä¸¤ä¸ªé»˜è®¤ä¸­é—´ä»¶<code>Logger()</code>ï¼Œ<code>Recovery()</code>ï¼Œå¦‚æœä¸æƒ³ä½¿ç”¨é»˜è®¤çš„ä¸­é—´ä»¶ä¹Ÿå¯ä»¥ä½¿ç”¨<code>gin.New()</code>æ¥ä»£æ›¿ã€‚</p><h3 id="å…¨å±€ä¸­é—´ä»¶" tabindex="-1"><a class="header-anchor" href="#å…¨å±€ä¸­é—´ä»¶" aria-hidden="true">#</a> å…¨å±€ä¸­é—´ä»¶</h3><p>å…¨å±€ä¸­é—´ä»¶å³ä½œç”¨èŒƒå›´ä¸ºå…¨å±€ï¼Œæ•´ä¸ªç³»ç»Ÿæ‰€æœ‰çš„è¯·æ±‚éƒ½ä¼šç»è¿‡æ­¤ä¸­é—´ä»¶ã€‚</p><div class="language-go line-numbers-mode" data-ext="go"><pre class="language-go"><code><span class="token keyword">func</span> <span class="token function">GlobalMiddleware</span><span class="token punctuation">(</span><span class="token punctuation">)</span> gin<span class="token punctuation">.</span>HandlerFunc <span class="token punctuation">{</span>
   <span class="token keyword">return</span> <span class="token keyword">func</span><span class="token punctuation">(</span>ctx <span class="token operator">*</span>gin<span class="token punctuation">.</span>Context<span class="token punctuation">)</span> <span class="token punctuation">{</span>
      fmt<span class="token punctuation">.</span><span class="token function">Println</span><span class="token punctuation">(</span><span class="token string">&quot;å…¨å±€ä¸­é—´ä»¶è¢«æ‰§è¡Œ...&quot;</span><span class="token punctuation">)</span>
   <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>å…ˆåˆ›å»ºä¸€ä¸ªé—­åŒ…å‡½æ•°æ¥åˆ›å»ºä¸­é—´ä»¶ï¼Œå†é€šè¿‡<code>Engine.Use()</code>æ¥æ³¨å†Œå…¨å±€ä¸­é—´ä»¶ã€‚</p><div class="language-go line-numbers-mode" data-ext="go"><pre class="language-go"><code><span class="token keyword">func</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
   e <span class="token operator">:=</span> gin<span class="token punctuation">.</span><span class="token function">Default</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
   <span class="token comment">// æ³¨å†Œå…¨å±€ä¸­é—´ä»¶</span>
   e<span class="token punctuation">.</span><span class="token function">Use</span><span class="token punctuation">(</span><span class="token function">GlobalMiddleware</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
   v1 <span class="token operator">:=</span> e<span class="token punctuation">.</span><span class="token function">Group</span><span class="token punctuation">(</span><span class="token string">&quot;/v1&quot;</span><span class="token punctuation">)</span>
   <span class="token punctuation">{</span>
      v1<span class="token punctuation">.</span><span class="token function">GET</span><span class="token punctuation">(</span><span class="token string">&quot;/hello&quot;</span><span class="token punctuation">,</span> Hello<span class="token punctuation">)</span>
      v1<span class="token punctuation">.</span><span class="token function">GET</span><span class="token punctuation">(</span><span class="token string">&quot;/login&quot;</span><span class="token punctuation">,</span> Login<span class="token punctuation">)</span>
   <span class="token punctuation">}</span>
   v2 <span class="token operator">:=</span> e<span class="token punctuation">.</span><span class="token function">Group</span><span class="token punctuation">(</span><span class="token string">&quot;/v2&quot;</span><span class="token punctuation">)</span>
   <span class="token punctuation">{</span>
      v2<span class="token punctuation">.</span><span class="token function">POST</span><span class="token punctuation">(</span><span class="token string">&quot;/update&quot;</span><span class="token punctuation">,</span> Update<span class="token punctuation">)</span>
      v2<span class="token punctuation">.</span><span class="token function">DELETE</span><span class="token punctuation">(</span><span class="token string">&quot;/delete&quot;</span><span class="token punctuation">,</span> Delete<span class="token punctuation">)</span>
   <span class="token punctuation">}</span>
   log<span class="token punctuation">.</span><span class="token function">Fatalln</span><span class="token punctuation">(</span>e<span class="token punctuation">.</span><span class="token function">Run</span><span class="token punctuation">(</span><span class="token string">&quot;:8080&quot;</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>æµ‹è¯•</p><div class="language-text line-numbers-mode" data-ext="text"><pre class="language-text"><code>curl --location --request GET &#39;http://localhost:8080/v1/hello&#39;
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><p>è¾“å‡º</p><div class="language-text line-numbers-mode" data-ext="text"><pre class="language-text"><code>[GIN-debug] Listening and serving HTTP on :8080
å…¨å±€ä¸­é—´ä»¶è¢«æ‰§è¡Œ...
[GIN] 2022/12/21 - 11:57:52 | 200 |       538.9Âµs |             ::1 | GET      &quot;/v1/hello&quot;
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="å±€éƒ¨ä¸­é—´ä»¶" tabindex="-1"><a class="header-anchor" href="#å±€éƒ¨ä¸­é—´ä»¶" aria-hidden="true">#</a> å±€éƒ¨ä¸­é—´ä»¶</h3><p>å±€éƒ¨ä¸­é—´ä»¶å³ä½œç”¨èŒƒå›´ä¸ºå±€éƒ¨ï¼Œç³»ç»Ÿä¸­å±€éƒ¨çš„è¯·æ±‚ä¼šç»è¿‡æ­¤ä¸­é—´ä»¶ã€‚å±€éƒ¨ä¸­é—´ä»¶å¯ä»¥æ³¨å†Œåˆ°å•ä¸ªè·¯ç”±ä¸Šï¼Œä¸è¿‡æ›´å¤šæ—¶å€™æ˜¯æ³¨å†Œåˆ°è·¯ç”±ç»„ä¸Šã€‚</p><div class="language-go line-numbers-mode" data-ext="go"><pre class="language-go"><code><span class="token keyword">func</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
   e <span class="token operator">:=</span> gin<span class="token punctuation">.</span><span class="token function">Default</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
   <span class="token comment">// æ³¨å†Œå…¨å±€ä¸­é—´ä»¶</span>
   e<span class="token punctuation">.</span><span class="token function">Use</span><span class="token punctuation">(</span><span class="token function">GlobalMiddleware</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
   <span class="token comment">// æ³¨å†Œè·¯ç”±ç»„å±€éƒ¨ä¸­é—´ä»¶</span>
   v1 <span class="token operator">:=</span> e<span class="token punctuation">.</span><span class="token function">Group</span><span class="token punctuation">(</span><span class="token string">&quot;/v1&quot;</span><span class="token punctuation">,</span> <span class="token function">LocalMiddleware</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
   <span class="token punctuation">{</span>
      v1<span class="token punctuation">.</span><span class="token function">GET</span><span class="token punctuation">(</span><span class="token string">&quot;/hello&quot;</span><span class="token punctuation">,</span> Hello<span class="token punctuation">)</span>
      v1<span class="token punctuation">.</span><span class="token function">GET</span><span class="token punctuation">(</span><span class="token string">&quot;/login&quot;</span><span class="token punctuation">,</span> Login<span class="token punctuation">)</span>
   <span class="token punctuation">}</span>
   v2 <span class="token operator">:=</span> e<span class="token punctuation">.</span><span class="token function">Group</span><span class="token punctuation">(</span><span class="token string">&quot;/v2&quot;</span><span class="token punctuation">)</span>
   <span class="token punctuation">{</span>
      <span class="token comment">// æ³¨å†Œå•ä¸ªè·¯ç”±å±€éƒ¨ä¸­é—´ä»¶</span>
      v2<span class="token punctuation">.</span><span class="token function">POST</span><span class="token punctuation">(</span><span class="token string">&quot;/update&quot;</span><span class="token punctuation">,</span> <span class="token function">LocalMiddleware</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span> Update<span class="token punctuation">)</span>
      v2<span class="token punctuation">.</span><span class="token function">DELETE</span><span class="token punctuation">(</span><span class="token string">&quot;/delete&quot;</span><span class="token punctuation">,</span> Delete<span class="token punctuation">)</span>
   <span class="token punctuation">}</span>
   log<span class="token punctuation">.</span><span class="token function">Fatalln</span><span class="token punctuation">(</span>e<span class="token punctuation">.</span><span class="token function">Run</span><span class="token punctuation">(</span><span class="token string">&quot;:8080&quot;</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>æµ‹è¯•</p><div class="language-text line-numbers-mode" data-ext="text"><pre class="language-text"><code>curl --location --request POST &#39;http://localhost:8080/v2/update&#39;
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><p>è¾“å‡º</p><div class="language-text line-numbers-mode" data-ext="text"><pre class="language-text"><code>å…¨å±€ä¸­é—´ä»¶è¢«æ‰§è¡Œ...
å±€éƒ¨ä¸­é—´ä»¶è¢«æ‰§è¡Œ
[GIN] 2022/12/21 - 12:05:03 | 200 |       999.9Âµs |             ::1 | POST     &quot;/v2/update&quot;
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="ä¸­é—´ä»¶åŸç†" tabindex="-1"><a class="header-anchor" href="#ä¸­é—´ä»¶åŸç†" aria-hidden="true">#</a> ä¸­é—´ä»¶åŸç†</h3><p>Ginä¸­é—´çš„ä½¿ç”¨å’Œè‡ªå®šä¹‰éå¸¸å®¹æ˜“ï¼Œå…¶å†…éƒ¨çš„åŸç†ä¹Ÿæ¯”è¾ƒç®€å•ï¼Œä¸ºäº†åç»­çš„å­¦ä¹ ï¼Œéœ€è¦ç®€å•çš„äº†è§£ä¸‹å†…éƒ¨åŸç†ã€‚Ginä¸­çš„ä¸­é—´ä»¶å…¶å®ç”¨åˆ°äº†è´£ä»»é“¾æ¨¡å¼ï¼Œ<code>Context</code>ä¸­ç»´æŠ¤ç€ä¸€ä¸ª<code>HandlersChain</code>ï¼Œæœ¬è´¨ä¸Šæ˜¯ä¸€ä¸ª<code>[]HandlerFunc</code>ï¼Œå’Œä¸€ä¸ª<code>index</code>ï¼Œå…¶æ•°æ®ç±»å‹ä¸º<code>int8</code>ã€‚åœ¨<code>Engine.handlerHTTPRequest(c *Context)</code>æ–¹æ³•ä¸­ï¼Œæœ‰ä¸€æ®µä»£ç è¡¨æ˜äº†è°ƒç”¨è¿‡ç¨‹ï¼šginåœ¨è·¯ç”±æ ‘ä¸­æ‰¾åˆ°äº†å¯¹åº”çš„è·¯ç”±åï¼Œä¾¿è°ƒç”¨äº†<code>Next()</code>æ–¹æ³•ã€‚</p><div class="language-go line-numbers-mode" data-ext="go"><pre class="language-go"><code><span class="token keyword">if</span> value<span class="token punctuation">.</span>handlers <span class="token operator">!=</span> <span class="token boolean">nil</span> <span class="token punctuation">{</span>
   <span class="token comment">// å°†è°ƒç”¨é“¾èµ‹å€¼ç»™Context</span>
   c<span class="token punctuation">.</span>handlers <span class="token operator">=</span> value<span class="token punctuation">.</span>handlers
   c<span class="token punctuation">.</span>fullPath <span class="token operator">=</span> value<span class="token punctuation">.</span>fullPath
   <span class="token comment">// è°ƒç”¨ä¸­é—´ä»¶</span>
   c<span class="token punctuation">.</span><span class="token function">Next</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
   c<span class="token punctuation">.</span>writermem<span class="token punctuation">.</span><span class="token function">WriteHeaderNow</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
   <span class="token keyword">return</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p><code>Next()</code>çš„è°ƒç”¨æ‰æ˜¯å…³é”®ï¼Œ<code>Next()</code>ä¼šéå†è·¯ç”±çš„<code>handlers</code>ä¸­çš„<code>HandlerFunc</code> å¹¶æ‰§è¡Œï¼Œæ­¤æ—¶å¯ä»¥çœ‹åˆ°<code>index</code>çš„ä½œç”¨å°±æ˜¯è®°å½•ä¸­é—´ä»¶çš„è°ƒç”¨ä½ç½®ã€‚å…¶ä¸­ï¼Œç»™å¯¹åº”è·¯ç”±æ³¨å†Œçš„æ¥å£å‡½æ•°ä¹Ÿåœ¨<code>handlers</code>å†…ï¼Œè¿™ä¹Ÿå°±æ˜¯ä¸ºä»€ä¹ˆå‰é¢ä¼šè¯´æ¥å£ä¹Ÿæ˜¯ä¸€ä¸ªä¸­é—´ä»¶ã€‚</p><div class="language-go line-numbers-mode" data-ext="go"><pre class="language-go"><code><span class="token keyword">func</span> <span class="token punctuation">(</span>c <span class="token operator">*</span>Context<span class="token punctuation">)</span> <span class="token function">Next</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
   <span class="token comment">// ä¸€è¿›æ¥å°±+1æ˜¯ä¸ºäº†é¿å…é™·å…¥é€’å½’æ­»å¾ªç¯ï¼Œé»˜è®¤å€¼æ˜¯-1</span>
   c<span class="token punctuation">.</span>index<span class="token operator">++</span>
   <span class="token keyword">for</span> c<span class="token punctuation">.</span>index <span class="token operator">&lt;</span> <span class="token function">int8</span><span class="token punctuation">(</span><span class="token function">len</span><span class="token punctuation">(</span>c<span class="token punctuation">.</span>handlers<span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
      <span class="token comment">// æ‰§è¡ŒHandlerFunc</span>
      c<span class="token punctuation">.</span>handlers<span class="token punctuation">[</span>c<span class="token punctuation">.</span>index<span class="token punctuation">]</span><span class="token punctuation">(</span>c<span class="token punctuation">)</span>
      <span class="token comment">// æ‰§è¡Œå®Œæ¯•ï¼Œindex+1</span>
      c<span class="token punctuation">.</span>index<span class="token operator">++</span>
   <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>ä¿®æ”¹ä¸€ä¸‹<code>Hello()</code>çš„é€»è¾‘ï¼Œæ¥éªŒè¯æ˜¯å¦æœçœŸå¦‚æ­¤</p><div class="language-go line-numbers-mode" data-ext="go"><pre class="language-go"><code><span class="token keyword">func</span> <span class="token function">Hello</span><span class="token punctuation">(</span>c <span class="token operator">*</span>gin<span class="token punctuation">.</span>Context<span class="token punctuation">)</span> <span class="token punctuation">{</span>
   fmt<span class="token punctuation">.</span><span class="token function">Println</span><span class="token punctuation">(</span>c<span class="token punctuation">.</span><span class="token function">HandlerNames</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>è¾“å‡ºç»“æœä¸º</p><div class="language-text line-numbers-mode" data-ext="text"><pre class="language-text"><code>[github.com/gin-gonic/gin.LoggerWithConfig.func1 github.com/gin-gonic/gin.CustomRecoveryWithWriter.func1 main.GlobalMiddleware.func1 main.LocalMiddleware.func1 main.Hello]

</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div></div></div><p>å¯ä»¥çœ‹åˆ°ä¸­é—´ä»¶è°ƒç”¨é“¾çš„é¡ºåºä¸ºï¼š<code>Logger -&gt; Recovery -&gt; GlobalMiddleware -&gt; LocalMiddleWare -&gt; Hello</code>ï¼Œè°ƒç”¨é“¾çš„æœ€åä¸€ä¸ªå…ƒç´ æ‰æ˜¯çœŸæ­£è¦æ‰§è¡Œçš„æ¥å£å‡½æ•°ï¼Œå‰é¢çš„éƒ½æ˜¯ä¸­é—´ä»¶ã€‚</p><div class="hint-container tip"><p class="hint-container-title">æç¤º</p><p>åœ¨æ³¨å†Œå±€éƒ¨è·¯ç”±æ—¶ï¼Œæœ‰å¦‚ä¸‹ä¸€ä¸ªæ–­è¨€</p><div class="language-go line-numbers-mode" data-ext="go"><pre class="language-go"><code>finalSize <span class="token operator">:=</span> <span class="token function">len</span><span class="token punctuation">(</span>group<span class="token punctuation">.</span>Handlers<span class="token punctuation">)</span> <span class="token operator">+</span> <span class="token function">len</span><span class="token punctuation">(</span>handlers<span class="token punctuation">)</span> <span class="token comment">//ä¸­é—´ä»¶æ€»æ•°</span>
<span class="token function">assert1</span><span class="token punctuation">(</span>finalSize <span class="token operator">&lt;</span> <span class="token function">int</span><span class="token punctuation">(</span>abortIndex<span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token string">&quot;too many handlers&quot;</span><span class="token punctuation">)</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div></div></div><p>å…¶ä¸­<code>abortIndex int8 = math.MaxInt8 &gt;&gt; 1</code>å€¼ä¸º63ï¼Œå³ä½¿ç”¨ç³»ç»Ÿæ—¶è·¯ç”±æ³¨å†Œæ•°é‡ä¸è¦è¶…è¿‡63ä¸ªã€‚</p></div><h3 id="è®¡æ—¶å™¨ä¸­é—´ä»¶" tabindex="-1"><a class="header-anchor" href="#è®¡æ—¶å™¨ä¸­é—´ä»¶" aria-hidden="true">#</a> è®¡æ—¶å™¨ä¸­é—´ä»¶</h3><p>åœ¨çŸ¥æ™“äº†ä¸Šè¿°çš„ä¸­é—´ä»¶åŸç†åï¼Œå°±å¯ä»¥ç¼–å†™ä¸€ä¸ªç®€å•çš„è¯·æ±‚æ—¶é—´ç»Ÿè®¡ä¸­é—´ä»¶ã€‚</p><div class="language-go line-numbers-mode" data-ext="go"><pre class="language-go"><code><span class="token keyword">func</span> <span class="token function">TimeMiddleware</span><span class="token punctuation">(</span><span class="token punctuation">)</span> gin<span class="token punctuation">.</span>HandlerFunc <span class="token punctuation">{</span>
   <span class="token keyword">return</span> <span class="token keyword">func</span><span class="token punctuation">(</span>context <span class="token operator">*</span>gin<span class="token punctuation">.</span>Context<span class="token punctuation">)</span> <span class="token punctuation">{</span>
      <span class="token comment">// è®°å½•å¼€å§‹æ—¶é—´</span>
      start <span class="token operator">:=</span> time<span class="token punctuation">.</span><span class="token function">Now</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
      <span class="token comment">// æ‰§è¡Œåç»­è°ƒç”¨é“¾</span>
      context<span class="token punctuation">.</span><span class="token function">Next</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
      <span class="token comment">// è®¡ç®—æ—¶é—´é—´éš”</span>
      duration <span class="token operator">:=</span> time<span class="token punctuation">.</span><span class="token function">Since</span><span class="token punctuation">(</span>start<span class="token punctuation">)</span>
      <span class="token comment">// è¾“å‡ºçº³ç§’ï¼Œä»¥ä¾¿è§‚æµ‹ç»“æœ</span>
      fmt<span class="token punctuation">.</span><span class="token function">Println</span><span class="token punctuation">(</span><span class="token string">&quot;è¯·æ±‚ç”¨æ—¶: &quot;</span><span class="token punctuation">,</span> duration<span class="token punctuation">.</span><span class="token function">Nanoseconds</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
   <span class="token punctuation">}</span>
<span class="token punctuation">}</span>

<span class="token keyword">func</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
	e <span class="token operator">:=</span> gin<span class="token punctuation">.</span><span class="token function">Default</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
	<span class="token comment">// æ³¨å†Œå…¨å±€ä¸­é—´ä»¶ï¼Œè®¡æ—¶ä¸­é—´ä»¶</span>
	e<span class="token punctuation">.</span><span class="token function">Use</span><span class="token punctuation">(</span><span class="token function">GlobalMiddleware</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token function">TimeMiddleware</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
	<span class="token comment">// æ³¨å†Œè·¯ç”±ç»„å±€éƒ¨ä¸­é—´ä»¶</span>
	v1 <span class="token operator">:=</span> e<span class="token punctuation">.</span><span class="token function">Group</span><span class="token punctuation">(</span><span class="token string">&quot;/v1&quot;</span><span class="token punctuation">,</span> <span class="token function">LocalMiddleware</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
	<span class="token punctuation">{</span>
		v1<span class="token punctuation">.</span><span class="token function">GET</span><span class="token punctuation">(</span><span class="token string">&quot;/hello&quot;</span><span class="token punctuation">,</span> Hello<span class="token punctuation">)</span>
		v1<span class="token punctuation">.</span><span class="token function">GET</span><span class="token punctuation">(</span><span class="token string">&quot;/login&quot;</span><span class="token punctuation">,</span> Login<span class="token punctuation">)</span>
	<span class="token punctuation">}</span>
	v2 <span class="token operator">:=</span> e<span class="token punctuation">.</span><span class="token function">Group</span><span class="token punctuation">(</span><span class="token string">&quot;/v2&quot;</span><span class="token punctuation">)</span>
	<span class="token punctuation">{</span>
		<span class="token comment">// æ³¨å†Œå•ä¸ªè·¯ç”±å±€éƒ¨ä¸­é—´ä»¶</span>
		v2<span class="token punctuation">.</span><span class="token function">POST</span><span class="token punctuation">(</span><span class="token string">&quot;/update&quot;</span><span class="token punctuation">,</span> <span class="token function">LocalMiddleware</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span> Update<span class="token punctuation">)</span>
		v2<span class="token punctuation">.</span><span class="token function">DELETE</span><span class="token punctuation">(</span><span class="token string">&quot;/delete&quot;</span><span class="token punctuation">,</span> Delete<span class="token punctuation">)</span>
	<span class="token punctuation">}</span>
	log<span class="token punctuation">.</span><span class="token function">Fatalln</span><span class="token punctuation">(</span>e<span class="token punctuation">.</span><span class="token function">Run</span><span class="token punctuation">(</span><span class="token string">&quot;:8080&quot;</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>æµ‹è¯•</p><div class="language-text line-numbers-mode" data-ext="text"><pre class="language-text"><code>curl --location --request GET &#39;http://localhost:8080/v1/hello&#39;
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><p>è¾“å‡º</p><div class="language-text line-numbers-mode" data-ext="text"><pre class="language-text"><code>è¯·æ±‚ç”¨æ—¶:  517600
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><p>ä¸€ä¸ªç®€å•çš„è®¡æ—¶å™¨ä¸­é—´ä»¶å°±å·²ç»ç¼–å†™å®Œæ¯•äº†ï¼Œåç»­å¯ä»¥å‡­å€Ÿè‡ªå·±çš„æ‘¸ç´¢ç¼–å†™ä¸€äº›åŠŸèƒ½æ›´å®ç”¨çš„ä¸­é—´ä»¶ã€‚</p><h2 id="æœåŠ¡é…ç½®" tabindex="-1"><a class="header-anchor" href="#æœåŠ¡é…ç½®" aria-hidden="true">#</a> æœåŠ¡é…ç½®</h2><p>å…‰æ˜¯ä½¿ç”¨é»˜è®¤çš„é…ç½®æ˜¯è¿œè¿œä¸å¤Ÿçš„ï¼Œå¤§å¤šæ•°æƒ…å†µä¸‹éƒ½éœ€æ±‚ä¿®æ”¹å¾ˆå¤šçš„æœåŠ¡é…ç½®æ‰èƒ½è¾¾åˆ°éœ€æ±‚ã€‚</p><h3 id="httpé…ç½®" tabindex="-1"><a class="header-anchor" href="#httpé…ç½®" aria-hidden="true">#</a> Httpé…ç½®</h3><p>å¯ä»¥é€šè¿‡<code>net/http</code>åˆ›å»ºServeræ¥é…ç½®ï¼ŒGinæœ¬èº«ä¹Ÿæ”¯æŒåƒåŸç”ŸAPIä¸€æ ·ä½¿ç”¨Ginã€‚</p><div class="language-go line-numbers-mode" data-ext="go"><pre class="language-go"><code><span class="token keyword">func</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
   router <span class="token operator">:=</span> gin<span class="token punctuation">.</span><span class="token function">Default</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
   server <span class="token operator">:=</span> <span class="token operator">&amp;</span>http<span class="token punctuation">.</span>Server<span class="token punctuation">{</span>
      Addr<span class="token punctuation">:</span>           <span class="token string">&quot;:8080&quot;</span><span class="token punctuation">,</span>
      Handler<span class="token punctuation">:</span>        router<span class="token punctuation">,</span>
      ReadTimeout<span class="token punctuation">:</span>    <span class="token number">10</span> <span class="token operator">*</span> time<span class="token punctuation">.</span>Second<span class="token punctuation">,</span>
      WriteTimeout<span class="token punctuation">:</span>   <span class="token number">10</span> <span class="token operator">*</span> time<span class="token punctuation">.</span>Second<span class="token punctuation">,</span>
      MaxHeaderBytes<span class="token punctuation">:</span> <span class="token number">1</span> <span class="token operator">&lt;&lt;</span> <span class="token number">20</span><span class="token punctuation">,</span>
   <span class="token punctuation">}</span>
   log<span class="token punctuation">.</span><span class="token function">Fatal</span><span class="token punctuation">(</span>server<span class="token punctuation">.</span><span class="token function">ListenAndServe</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="é™æ€èµ„æºé…ç½®" tabindex="-1"><a class="header-anchor" href="#é™æ€èµ„æºé…ç½®" aria-hidden="true">#</a> é™æ€èµ„æºé…ç½®</h3><p>é™æ€èµ„æºåœ¨ä»¥å¾€åŸºæœ¬ä¸Šæ˜¯æœåŠ¡ç«¯ä¸å¯æˆ–ç¼ºçš„ä¸€éƒ¨åˆ†ï¼Œå°½ç®¡åœ¨ç°åœ¨ä½¿ç”¨å æ¯”æ­£åœ¨é€æ¸å‡å°‘ï¼Œä½†ä»æ—§æœ‰å¤§é‡çš„ç³»ç»Ÿè¿˜æ˜¯ä½¿ç”¨å•ä½“æ¶æ„çš„æƒ…å†µã€‚</p><p>Ginæä¾›äº†ä¸‰ä¸ªæ–¹æ³•æ¥åŠ è½½é™æ€èµ„æº</p><div class="language-go line-numbers-mode" data-ext="go"><pre class="language-go"><code><span class="token comment">// åŠ è½½æŸä¸€é™æ€æ–‡ä»¶å¤¹ </span>
<span class="token keyword">func</span> <span class="token punctuation">(</span>group <span class="token operator">*</span>RouterGroup<span class="token punctuation">)</span> <span class="token function">Static</span><span class="token punctuation">(</span>relativePath<span class="token punctuation">,</span> root <span class="token builtin">string</span><span class="token punctuation">)</span> IRoutes

<span class="token comment">// åŠ è½½æŸä¸€ä¸ªfs</span>
<span class="token keyword">func</span> <span class="token punctuation">(</span>group <span class="token operator">*</span>RouterGroup<span class="token punctuation">)</span> <span class="token function">StaticFS</span><span class="token punctuation">(</span>relativePath <span class="token builtin">string</span><span class="token punctuation">,</span> fs http<span class="token punctuation">.</span>FileSystem<span class="token punctuation">)</span> IRoutes

<span class="token comment">// åŠ è½½æŸä¸€ä¸ªé™æ€æ–‡ä»¶</span>
<span class="token keyword">func</span> <span class="token punctuation">(</span>group <span class="token operator">*</span>RouterGroup<span class="token punctuation">)</span> <span class="token function">StaticFile</span><span class="token punctuation">(</span>relativePath<span class="token punctuation">,</span> filepath <span class="token builtin">string</span><span class="token punctuation">)</span> IRoutes
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><div class="hint-container tip"><p class="hint-container-title">æç¤º</p><p>relativePathæ˜¯æ˜ å°„åˆ°ç½‘é¡µURLä¸Šçš„ç›¸å¯¹è·¯å¾„ï¼Œrootæ˜¯æ–‡ä»¶åœ¨é¡¹ç›®ä¸­çš„å®é™…è·¯å¾„</p></div><p>å‡è®¾é¡¹ç›®çš„ç›®å½•å¦‚ä¸‹</p><div class="language-text line-numbers-mode" data-ext="text"><pre class="language-text"><code>root
|
|-- static
|	|
|	|-- a.jpg
|	|
|	|-- favicon.ico
|
|-- view
	|
	|-- html
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><div class="language-go line-numbers-mode" data-ext="go"><pre class="language-go"><code><span class="token keyword">func</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
   router <span class="token operator">:=</span> gin<span class="token punctuation">.</span><span class="token function">Default</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
   <span class="token comment">// åŠ è½½é™æ€æ–‡ä»¶ç›®å½•</span>
   router<span class="token punctuation">.</span><span class="token function">Static</span><span class="token punctuation">(</span><span class="token string">&quot;/static&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;./static&quot;</span><span class="token punctuation">)</span>
   <span class="token comment">// åŠ è½½é™æ€æ–‡ä»¶ç›®å½•</span>
   router<span class="token punctuation">.</span><span class="token function">StaticFS</span><span class="token punctuation">(</span><span class="token string">&quot;/view&quot;</span><span class="token punctuation">,</span> http<span class="token punctuation">.</span><span class="token function">Dir</span><span class="token punctuation">(</span><span class="token string">&quot;view&quot;</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
   <span class="token comment">// åŠ è½½é™æ€æ–‡ä»¶</span>
   router<span class="token punctuation">.</span><span class="token function">StaticFile</span><span class="token punctuation">(</span><span class="token string">&quot;/favicon&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;./static/favicon.ico&quot;</span><span class="token punctuation">)</span>

   router<span class="token punctuation">.</span><span class="token function">Run</span><span class="token punctuation">(</span><span class="token string">&quot;:8080&quot;</span><span class="token punctuation">)</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="è·¨åŸŸé…ç½®" tabindex="-1"><a class="header-anchor" href="#è·¨åŸŸé…ç½®" aria-hidden="true">#</a> è·¨åŸŸé…ç½®</h3><p>Ginæœ¬èº«æ˜¯æ²¡æœ‰å¯¹äºè·¨åŸŸé…ç½®åšå‡ºä»»ä½•å¤„ç†ï¼Œéœ€è¦è‡ªè¡Œç¼–å†™ä¸­é—´ä»¶æ¥è¿›è¡Œå®ç°ç›¸åº”çš„éœ€æ±‚ï¼Œå…¶å®éš¾åº¦ä¹Ÿä¸å¤§ï¼Œç¨å¾®ç†Ÿæ‚‰HTTPåè®®çš„äººä¸€èˆ¬éƒ½èƒ½å†™å‡ºæ¥ï¼Œé€»è¾‘åŸºæœ¬ä¸Šéƒ½æ˜¯é‚£ä¸€å¥—ã€‚</p><div class="language-go line-numbers-mode" data-ext="go"><pre class="language-go"><code><span class="token keyword">func</span> <span class="token function">CorsMiddle</span><span class="token punctuation">(</span><span class="token punctuation">)</span> gin<span class="token punctuation">.</span>HandlerFunc <span class="token punctuation">{</span>
   <span class="token keyword">return</span> <span class="token keyword">func</span><span class="token punctuation">(</span>c <span class="token operator">*</span>gin<span class="token punctuation">.</span>Context<span class="token punctuation">)</span> <span class="token punctuation">{</span>
      method <span class="token operator">:=</span> c<span class="token punctuation">.</span>Request<span class="token punctuation">.</span>Method
      origin <span class="token operator">:=</span> c<span class="token punctuation">.</span>Request<span class="token punctuation">.</span>Header<span class="token punctuation">.</span><span class="token function">Get</span><span class="token punctuation">(</span><span class="token string">&quot;Origin&quot;</span><span class="token punctuation">)</span>
      <span class="token keyword">if</span> origin <span class="token operator">!=</span> <span class="token string">&quot;&quot;</span> <span class="token punctuation">{</span>
         <span class="token comment">// ç”Ÿäº§ç¯å¢ƒä¸­çš„æœåŠ¡ç«¯é€šå¸¸éƒ½ä¸ä¼šå¡« *ï¼Œåº”å½“å¡«å†™æŒ‡å®šåŸŸå</span>
         c<span class="token punctuation">.</span><span class="token function">Header</span><span class="token punctuation">(</span><span class="token string">&quot;Access-Control-Allow-Origin&quot;</span><span class="token punctuation">,</span> origin<span class="token punctuation">)</span>
         <span class="token comment">// å…è®¸ä½¿ç”¨çš„HTTP METHOD</span>
         c<span class="token punctuation">.</span><span class="token function">Header</span><span class="token punctuation">(</span><span class="token string">&quot;Access-Control-Allow-Methods&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;POST, GET, OPTIONS, PUT, DELETE, UPDATE&quot;</span><span class="token punctuation">)</span>
         <span class="token comment">// å…è®¸ä½¿ç”¨çš„è¯·æ±‚å¤´</span>
         c<span class="token punctuation">.</span><span class="token function">Header</span><span class="token punctuation">(</span><span class="token string">&quot;Access-Control-Allow-Headers&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;Origin, X-Requested-With, Content-Type, Accept, Authorization&quot;</span><span class="token punctuation">)</span>
         <span class="token comment">// å…è®¸å®¢æˆ·ç«¯è®¿é—®çš„å“åº”å¤´</span>
         c<span class="token punctuation">.</span><span class="token function">Header</span><span class="token punctuation">(</span><span class="token string">&quot;Access-Control-Expose-Headers&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;Content-Length, Access-Control-Allow-Origin, Access-Control-Allow-Headers, Cache-Control, Content-Language, Content-Type&quot;</span><span class="token punctuation">)</span>
         <span class="token comment">// æ˜¯å¦éœ€è¦æºå¸¦è®¤è¯ä¿¡æ¯ Credentials å¯ä»¥æ˜¯ cookiesã€authorization headers æˆ– TLS client certificates </span>
         <span class="token comment">// è®¾ç½®ä¸ºtrueæ—¶ï¼ŒAccess-Control-Allow-Originä¸èƒ½ä¸º *</span>
         c<span class="token punctuation">.</span><span class="token function">Header</span><span class="token punctuation">(</span><span class="token string">&quot;Access-Control-Allow-Credentials&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;true&quot;</span><span class="token punctuation">)</span>
      <span class="token punctuation">}</span>
      <span class="token comment">// æ”¾è¡ŒOPTIONè¯·æ±‚ï¼Œä½†ä¸æ‰§è¡Œåç»­æ–¹æ³•</span>
      <span class="token keyword">if</span> method <span class="token operator">==</span> <span class="token string">&quot;OPTIONS&quot;</span> <span class="token punctuation">{</span>
         c<span class="token punctuation">.</span><span class="token function">AbortWithStatus</span><span class="token punctuation">(</span>http<span class="token punctuation">.</span>StatusNoContent<span class="token punctuation">)</span>
      <span class="token punctuation">}</span>
      <span class="token comment">// æ”¾è¡Œ</span>
      c<span class="token punctuation">.</span><span class="token function">Next</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
   <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>å°†ä¸­é—´ä»¶æ³¨å†Œä¸ºå…¨å±€ä¸­é—´ä»¶å³å¯</p><h2 id="ä¼šè¯æ§åˆ¶" tabindex="-1"><a class="header-anchor" href="#ä¼šè¯æ§åˆ¶" aria-hidden="true">#</a> ä¼šè¯æ§åˆ¶</h2><p>åœ¨ç›®å‰çš„æ—¶ä»£ä¸­ï¼Œæµè¡Œçš„ä¸‰ç§Webä¼šè¯æ§åˆ¶æ€»å…±æœ‰ä¸‰ç§ï¼Œ<code>cookie</code>ï¼Œ<code>session</code>ï¼Œ<code>JWT</code>ã€‚</p><h3 id="cookie" tabindex="-1"><a class="header-anchor" href="#cookie" aria-hidden="true">#</a> Cookie</h3><p>ookieä¸­çš„ä¿¡æ¯æ˜¯ä»¥é”®å€¼å¯¹çš„å½¢å¼å‚¨å­˜åœ¨æµè§ˆå™¨ä¸­ï¼Œè€Œä¸”åœ¨æµè§ˆå™¨ä¸­å¯ä»¥ç›´æ¥çœ‹åˆ°æ•°æ®</p><p>ä¼˜ç‚¹ï¼š</p><ul><li>ç»“æ„ç®€å•</li><li>æ•°æ®æŒä¹…</li></ul><p>ç¼ºç‚¹ï¼š</p><ul><li><p>å¤§å°å—é™</p></li><li><p>æ˜æ–‡å­˜å‚¨</p></li><li><p>å®¹æ˜“å—åˆ°CSRFæ”»å‡»</p></li></ul><div class="language-go line-numbers-mode" data-ext="go"><pre class="language-go"><code><span class="token keyword">import</span> <span class="token punctuation">(</span>
    <span class="token string">&quot;fmt&quot;</span>

    <span class="token string">&quot;github.com/gin-gonic/gin&quot;</span>
<span class="token punctuation">)</span>

<span class="token keyword">func</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>

    router <span class="token operator">:=</span> gin<span class="token punctuation">.</span><span class="token function">Default</span><span class="token punctuation">(</span><span class="token punctuation">)</span>

    router<span class="token punctuation">.</span><span class="token function">GET</span><span class="token punctuation">(</span><span class="token string">&quot;/cookie&quot;</span><span class="token punctuation">,</span> <span class="token keyword">func</span><span class="token punctuation">(</span>c <span class="token operator">*</span>gin<span class="token punctuation">.</span>Context<span class="token punctuation">)</span> <span class="token punctuation">{</span>

       	<span class="token comment">// è·å–å¯¹åº”çš„cookie</span>
        cookie<span class="token punctuation">,</span> err <span class="token operator">:=</span> c<span class="token punctuation">.</span><span class="token function">Cookie</span><span class="token punctuation">(</span><span class="token string">&quot;gin_cookie&quot;</span><span class="token punctuation">)</span>

        <span class="token keyword">if</span> err <span class="token operator">!=</span> <span class="token boolean">nil</span> <span class="token punctuation">{</span>
            cookie <span class="token operator">=</span> <span class="token string">&quot;NotSet&quot;</span>
            <span class="token comment">// è®¾ç½®cookie å‚æ•°ï¼škeyï¼Œvalï¼Œå­˜åœ¨æ—¶é—´ï¼Œç›®å½•ï¼ŒåŸŸåï¼Œæ˜¯å¦å…è®¸ä»–äººé€šè¿‡jsè®¿é—®cookieï¼Œä»…http</span>
            c<span class="token punctuation">.</span><span class="token function">SetCookie</span><span class="token punctuation">(</span><span class="token string">&quot;gin_cookie&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;test&quot;</span><span class="token punctuation">,</span> <span class="token number">3600</span><span class="token punctuation">,</span> <span class="token string">&quot;/&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;localhost&quot;</span><span class="token punctuation">,</span> <span class="token boolean">false</span><span class="token punctuation">,</span> <span class="token boolean">true</span><span class="token punctuation">)</span>
        <span class="token punctuation">}</span>

        fmt<span class="token punctuation">.</span><span class="token function">Printf</span><span class="token punctuation">(</span><span class="token string">&quot;Cookie value: %s \n&quot;</span><span class="token punctuation">,</span> cookie<span class="token punctuation">)</span>
    <span class="token punctuation">}</span><span class="token punctuation">)</span>

    router<span class="token punctuation">.</span><span class="token function">Run</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>å•çº¯çš„cookieåœ¨äº”å…­å¹´å‰ç”¨çš„æ¯”è¾ƒå¤šï¼Œä¸è¿‡ä½œè€…ä¸€èˆ¬å¾ˆå°‘ä½¿ç”¨å•çº¯çš„cookieæ¥åšä¼šè¯æ§åˆ¶ï¼Œè¿™æ ·åšç¡®å®ä¸å¤ªå®‰å…¨ã€‚</p><h3 id="session" tabindex="-1"><a class="header-anchor" href="#session" aria-hidden="true">#</a> Session</h3><p>sessionå­˜å‚¨åœ¨æœåŠ¡å™¨ä¸­ï¼Œç„¶åå‘é€ä¸€ä¸ªcookieå­˜å‚¨åœ¨æµè§ˆå™¨ä¸­ï¼Œcookieä¸­å­˜å‚¨çš„æ˜¯session_idï¼Œä¹‹åæ¯æ¬¡è¯·æ±‚æœåŠ¡å™¨é€šè¿‡session_idå¯ä»¥è·å–å¯¹åº”çš„sessionä¿¡æ¯</p><p>ä¼˜ç‚¹ï¼š</p><ul><li>å­˜å‚¨åœ¨æœåŠ¡ç«¯ï¼Œå¢åŠ å®‰å…¨æ€§ï¼Œä¾¿äºç®¡ç†</li></ul><p>ç¼ºç‚¹ï¼š</p><ul><li>å­˜å‚¨åœ¨æœåŠ¡ç«¯ï¼Œå¢å¤§æœåŠ¡å™¨å¼€é”€ï¼Œé™ä½æ€§èƒ½</li><li>åŸºäºcookieè¯†åˆ«ï¼Œä¸å®‰å…¨</li><li>è®¤è¯ä¿¡æ¯åœ¨åˆ†å¸ƒå¼æƒ…å†µä¸‹ä¸åŒæ­¥</li></ul><p>Sessionä¸Cookieæ˜¯ä¸åˆ†å®¶çš„ï¼Œæ¯æ¬¡è¦ç”¨åˆ°Sessionï¼Œé»˜è®¤å°±æ˜¯è¦ç”¨åˆ°Cookieäº†ã€‚Giné»˜è®¤æ˜¯ä¸æ”¯æŒSessionçš„ï¼Œå› ä¸ºCookieæ˜¯Httpåè®®é‡Œé¢çš„å†…å®¹ï¼Œä½†Sessionä¸æ˜¯ï¼Œä¸è¿‡æœ‰ç¬¬ä¸‰æ–¹ä¸­é—´ä»¶æ”¯æŒï¼Œå®‰è£…ä¾èµ–å³å¯ï¼Œä»“åº“åœ°å€ï¼š<a href="https://github.com/gin-contrib/sessions#sessions" target="_blank" rel="noopener noreferrer">gin-contrib/sessions: Gin middleware for session management (github.com)<span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">open in new window</span></span></a></p><div class="language-text line-numbers-mode" data-ext="text"><pre class="language-text"><code>go get github.com/gin-contrib/sessions
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><p>æ”¯æŒcookieï¼ŒRedisï¼ŒMongoDBï¼ŒGORMï¼ŒPostgreSQL</p><div class="language-go line-numbers-mode" data-ext="go"><pre class="language-go"><code><span class="token keyword">func</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
   r <span class="token operator">:=</span> gin<span class="token punctuation">.</span><span class="token function">Default</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
   <span class="token comment">// åˆ›å»ºåŸºäºCookieçš„å­˜å‚¨å¼•æ“</span>
   store <span class="token operator">:=</span> cookie<span class="token punctuation">.</span><span class="token function">NewStore</span><span class="token punctuation">(</span><span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token function">byte</span><span class="token punctuation">(</span><span class="token string">&quot;secret&quot;</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
   <span class="token comment">// è®¾ç½®Sessionä¸­é—´ä»¶ï¼Œmysessionå³sessionåç§°ï¼Œä¹Ÿæ˜¯cookieçš„åç§°</span>
   r<span class="token punctuation">.</span><span class="token function">Use</span><span class="token punctuation">(</span>sessions<span class="token punctuation">.</span><span class="token function">Sessions</span><span class="token punctuation">(</span><span class="token string">&quot;mysession&quot;</span><span class="token punctuation">,</span> store<span class="token punctuation">)</span><span class="token punctuation">)</span>
   r<span class="token punctuation">.</span><span class="token function">GET</span><span class="token punctuation">(</span><span class="token string">&quot;/incr&quot;</span><span class="token punctuation">,</span> <span class="token keyword">func</span><span class="token punctuation">(</span>c <span class="token operator">*</span>gin<span class="token punctuation">.</span>Context<span class="token punctuation">)</span> <span class="token punctuation">{</span>
      <span class="token comment">// åˆå§‹åŒ–session</span>
      session <span class="token operator">:=</span> sessions<span class="token punctuation">.</span><span class="token function">Default</span><span class="token punctuation">(</span>c<span class="token punctuation">)</span>
      <span class="token keyword">var</span> count <span class="token builtin">int</span>
      <span class="token comment">// è·å–å€¼</span>
      v <span class="token operator">:=</span> session<span class="token punctuation">.</span><span class="token function">Get</span><span class="token punctuation">(</span><span class="token string">&quot;count&quot;</span><span class="token punctuation">)</span>
      <span class="token keyword">if</span> v <span class="token operator">==</span> <span class="token boolean">nil</span> <span class="token punctuation">{</span>
         count <span class="token operator">=</span> <span class="token number">0</span>
      <span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token punctuation">{</span>
         count <span class="token operator">=</span> v<span class="token punctuation">.</span><span class="token punctuation">(</span><span class="token builtin">int</span><span class="token punctuation">)</span>
         count<span class="token operator">++</span>
      <span class="token punctuation">}</span>
      <span class="token comment">// è®¾ç½®</span>
      session<span class="token punctuation">.</span><span class="token function">Set</span><span class="token punctuation">(</span><span class="token string">&quot;count&quot;</span><span class="token punctuation">,</span> count<span class="token punctuation">)</span>
      <span class="token comment">// ä¿å­˜</span>
      session<span class="token punctuation">.</span><span class="token function">Save</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
      c<span class="token punctuation">.</span><span class="token function">JSON</span><span class="token punctuation">(</span><span class="token number">200</span><span class="token punctuation">,</span> gin<span class="token punctuation">.</span>H<span class="token punctuation">{</span><span class="token string">&quot;count&quot;</span><span class="token punctuation">:</span> count<span class="token punctuation">}</span><span class="token punctuation">)</span>
   <span class="token punctuation">}</span><span class="token punctuation">)</span>
   r<span class="token punctuation">.</span><span class="token function">Run</span><span class="token punctuation">(</span><span class="token string">&quot;:8000&quot;</span><span class="token punctuation">)</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>ä¸€èˆ¬ä¸æ¨èé€šè¿‡Cookieå­˜å‚¨Sesisonï¼Œæ¨èä½¿ç”¨Redisï¼Œå…¶ä»–ä¾‹å­è¿˜è¯·è‡ªè¡Œå»å®˜æ–¹ä»“åº“äº†è§£ã€‚</p><h3 id="jwt" tabindex="-1"><a class="header-anchor" href="#jwt" aria-hidden="true">#</a> JWT</h3><p>ä¼˜ç‚¹ï¼š</p><ul><li>åŸºäºJSONï¼Œå¤šè¯­è¨€é€šç”¨</li><li>å¯ä»¥å­˜å‚¨éæ•æ„Ÿä¿¡æ¯</li><li>å ç”¨å¾ˆå°ï¼Œä¾¿äºä¼ è¾“</li><li>æœåŠ¡ç«¯æ— éœ€å­˜å‚¨ï¼Œåˆ©äºåˆ†å¸ƒå¼æ‹“å±•</li></ul><p>ç¼ºç‚¹ï¼š</p><ul><li>Tokenåˆ·æ–°é—®é¢˜</li><li>ä¸€æ—¦ç­¾å‘åˆ™æ— æ³•ä¸»åŠ¨æ§åˆ¶</li></ul><p>è‡ªä»å‰ç«¯é©å‘½ä»¥æ¥ï¼Œå‰ç«¯ç¨‹åºå‘˜ä¸å†åªæ˜¯ä¸€ä¸ªâ€œå†™é¡µé¢çš„â€ï¼Œå‰åç«¯åˆ†ç¦»çš„è¶‹åŠ¿æ„ˆæ¼”æ„ˆçƒˆï¼ŒJWTæ˜¯æœ€é€‚åˆå‰åç«¯åˆ†ç¦»å’Œåˆ†å¸ƒå¼ç³»ç»Ÿæ¥åšä¼šè¯æ§åˆ¶çš„ï¼Œå…·æœ‰å¾ˆå¤§çš„å¤©ç„¶ä¼˜åŠ¿ã€‚è€ƒè™‘åˆ°JWTå·²ç»å®Œå…¨è„±ç¦»Ginçš„å†…å®¹ï¼Œä¸”æ²¡æœ‰ä»»ä½•ä¸­é—´ä»¶æ”¯æŒï¼Œå› ä¸ºJWTæœ¬èº«å°±æ˜¯ä¸å±€é™äºä»»ä½•æ¡†æ¶ä»»ä½•è¯­è¨€ï¼Œåœ¨è¿™é‡Œå°±ä¸ä½œç»†è‡´çš„è®²è§£ï¼Œå¯ä»¥å‰å¾€å¦ä¸€ç¯‡æ•™ç¨‹ï¼š<a href="/%E8%AF%AD%E8%A8%80%E8%BF%9B%E9%98%B6/%E5%AE%9E%E7%94%A8%E6%A1%86%E6%9E%B6/src/%E8%AF%AD%E8%A8%80%E8%BF%9B%E9%98%B6/%E5%AE%9E%E7%94%A8%E4%BE%9D%E8%B5%96/jwt.html" class="">JWTä½¿ç”¨æ•™ç¨‹</a></p><h2 id="æ—¥å¿—ç®¡ç†" tabindex="-1"><a class="header-anchor" href="#æ—¥å¿—ç®¡ç†" aria-hidden="true">#</a> æ—¥å¿—ç®¡ç†</h2><p>Giné»˜è®¤ä½¿ç”¨çš„æ—¥å¿—ä¸­é—´ä»¶é‡‡ç”¨çš„æ˜¯<code>os.Stdout</code>ï¼Œåªæœ‰æœ€åŸºæœ¬çš„åŠŸèƒ½ï¼Œæ¯•ç«ŸGinåªä¸“æ³¨äºWebæœåŠ¡ï¼Œå¤§å¤šæ•°æƒ…å†µä¸‹åº”è¯¥ä½¿ç”¨æ›´åŠ æˆç†Ÿçš„æ—¥å¿—æ¡†æ¶ï¼Œä¸è¿‡è¿™å¹¶ä¸åœ¨æœ¬ç« çš„è®¨è®ºèŒƒå›´å†…ï¼Œè€Œä¸”Ginçš„æ‹“å±•æ€§å¾ˆé«˜ï¼Œå¯ä»¥å¾ˆè½»æ˜“çš„æ•´åˆå…¶ä»–æ¡†æ¶ï¼Œè¿™é‡Œåªè®¨è®ºå…¶è‡ªå¸¦çš„æ—¥å¿—æœåŠ¡ã€‚</p><h3 id="æ§åˆ¶å°é¢œè‰²" tabindex="-1"><a class="header-anchor" href="#æ§åˆ¶å°é¢œè‰²" aria-hidden="true">#</a> æ§åˆ¶å°é¢œè‰²</h3><div class="language-go line-numbers-mode" data-ext="go"><pre class="language-go"><code>gin<span class="token punctuation">.</span><span class="token function">DisableConsoleColor</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token comment">// å…³é—­æ§åˆ¶å°æ—¥å¿—é¢œè‰²</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><p>é™¤äº†åœ¨å¼€å‘çš„æ—¶å€™ï¼Œå¤§å¤šæ•°æ—¶å€™éƒ½ä¸å»ºè®®å¼€å¯æ­¤é¡¹</p><h3 id="æ—¥å¿—å†™å…¥æ–‡ä»¶" tabindex="-1"><a class="header-anchor" href="#æ—¥å¿—å†™å…¥æ–‡ä»¶" aria-hidden="true">#</a> æ—¥å¿—å†™å…¥æ–‡ä»¶</h3><div class="language-go line-numbers-mode" data-ext="go"><pre class="language-go"><code><span class="token keyword">func</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
	e <span class="token operator">:=</span> gin<span class="token punctuation">.</span><span class="token function">Default</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
    <span class="token comment">// å…³æ‰æ§åˆ¶å°é¢œè‰²</span>
	gin<span class="token punctuation">.</span><span class="token function">DisableConsoleColor</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
    <span class="token comment">// åˆ›å»ºä¸¤ä¸ªæ—¥å¿—æ–‡ä»¶</span>
	log1<span class="token punctuation">,</span> <span class="token boolean">_</span> <span class="token operator">:=</span> os<span class="token punctuation">.</span><span class="token function">Create</span><span class="token punctuation">(</span><span class="token string">&quot;info1.log&quot;</span><span class="token punctuation">)</span>
	log2<span class="token punctuation">,</span> <span class="token boolean">_</span> <span class="token operator">:=</span> os<span class="token punctuation">.</span><span class="token function">Create</span><span class="token punctuation">(</span><span class="token string">&quot;info2.log&quot;</span><span class="token punctuation">)</span>
    <span class="token comment">// åŒæ—¶è®°å½•è¿›ä¸¤ä¸ªæ—¥å¿—æ–‡ä»¶</span>
	gin<span class="token punctuation">.</span>DefaultWriter <span class="token operator">=</span> io<span class="token punctuation">.</span><span class="token function">MultiWriter</span><span class="token punctuation">(</span>log1<span class="token punctuation">,</span> log2<span class="token punctuation">)</span>
	e<span class="token punctuation">.</span><span class="token function">GET</span><span class="token punctuation">(</span><span class="token string">&quot;/hello&quot;</span><span class="token punctuation">,</span> Hello<span class="token punctuation">)</span>
	log<span class="token punctuation">.</span><span class="token function">Fatalln</span><span class="token punctuation">(</span>e<span class="token punctuation">.</span><span class="token function">Run</span><span class="token punctuation">(</span><span class="token string">&quot;:8080&quot;</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>ginè‡ªå¸¦çš„æ—¥å¿—æ”¯æŒå†™å…¥å¤šä¸ªæ–‡ä»¶ï¼Œä½†å†…å®¹æ˜¯ç›¸åŒçš„ï¼Œä½¿ç”¨èµ·æ¥ä¸å¤ªæ–¹ä¾¿ï¼Œå¹¶ä¸”ä¸ä¼šå°†è¯·æ±‚æ—¥å¿—å†™å…¥æ–‡ä»¶ä¸­ã€‚</p><div class="language-go line-numbers-mode" data-ext="go"><pre class="language-go"><code><span class="token keyword">func</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
	router <span class="token operator">:=</span> gin<span class="token punctuation">.</span><span class="token function">New</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
	<span class="token comment">// LoggerWithFormatter ä¸­é—´ä»¶ä¼šå†™å…¥æ—¥å¿—åˆ° gin.DefaultWriter</span>
	<span class="token comment">// é»˜è®¤ gin.DefaultWriter = os.Stdout</span>
	router<span class="token punctuation">.</span><span class="token function">Use</span><span class="token punctuation">(</span>gin<span class="token punctuation">.</span><span class="token function">LoggerWithFormatter</span><span class="token punctuation">(</span><span class="token keyword">func</span><span class="token punctuation">(</span>param gin<span class="token punctuation">.</span>LogFormatterParams<span class="token punctuation">)</span> <span class="token builtin">string</span> <span class="token punctuation">{</span>
        <span class="token comment">//TODO å†™å…¥å¯¹åº”æ–‡ä»¶çš„é€»è¾‘</span>
        <span class="token operator">...</span><span class="token operator">...</span>
		<span class="token comment">// è¾“å‡ºè‡ªå®šä¹‰æ ¼å¼</span>
		<span class="token keyword">return</span> fmt<span class="token punctuation">.</span><span class="token function">Sprintf</span><span class="token punctuation">(</span><span class="token string">&quot;%s - [%s] \&quot;%s %s %s %d %s \&quot;%s\&quot; %s\&quot;\n&quot;</span><span class="token punctuation">,</span>
				param<span class="token punctuation">.</span>ClientIP<span class="token punctuation">,</span>
				param<span class="token punctuation">.</span>TimeStamp<span class="token punctuation">.</span><span class="token function">Format</span><span class="token punctuation">(</span>time<span class="token punctuation">.</span>RFC1123<span class="token punctuation">)</span><span class="token punctuation">,</span>
				param<span class="token punctuation">.</span>Method<span class="token punctuation">,</span>
				param<span class="token punctuation">.</span>Path<span class="token punctuation">,</span>
				param<span class="token punctuation">.</span>Request<span class="token punctuation">.</span>Proto<span class="token punctuation">,</span>
				param<span class="token punctuation">.</span>StatusCode<span class="token punctuation">,</span>
				param<span class="token punctuation">.</span>Latency<span class="token punctuation">,</span>
				param<span class="token punctuation">.</span>Request<span class="token punctuation">.</span><span class="token function">UserAgent</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
				param<span class="token punctuation">.</span>ErrorMessage<span class="token punctuation">,</span>
		<span class="token punctuation">)</span>
	<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
	router<span class="token punctuation">.</span><span class="token function">Use</span><span class="token punctuation">(</span>gin<span class="token punctuation">.</span><span class="token function">Recovery</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
	router<span class="token punctuation">.</span><span class="token function">GET</span><span class="token punctuation">(</span><span class="token string">&quot;/ping&quot;</span><span class="token punctuation">,</span> <span class="token keyword">func</span><span class="token punctuation">(</span>c <span class="token operator">*</span>gin<span class="token punctuation">.</span>Context<span class="token punctuation">)</span> <span class="token punctuation">{</span>
		c<span class="token punctuation">.</span><span class="token function">String</span><span class="token punctuation">(</span><span class="token number">200</span><span class="token punctuation">,</span> <span class="token string">&quot;pong&quot;</span><span class="token punctuation">)</span>
	<span class="token punctuation">}</span><span class="token punctuation">)</span>
	router<span class="token punctuation">.</span><span class="token function">Run</span><span class="token punctuation">(</span><span class="token string">&quot;:8080&quot;</span><span class="token punctuation">)</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>é€šè¿‡è‡ªå®šä¹‰ä¸­é—´ä»¶ï¼Œå¯ä»¥å®ç°æ—¥å¿—å†™å…¥æ–‡ä»¶ä¸­</p><h3 id="è·¯ç”±è°ƒè¯•æ—¥å¿—æ ¼å¼" tabindex="-1"><a class="header-anchor" href="#è·¯ç”±è°ƒè¯•æ—¥å¿—æ ¼å¼" aria-hidden="true">#</a> è·¯ç”±è°ƒè¯•æ—¥å¿—æ ¼å¼</h3><p>è¿™é‡Œä¿®æ”¹çš„åªæ˜¯å¯åŠ¨æ—¶è¾“å‡ºè·¯ç”±ä¿¡æ¯çš„çš„æ—¥å¿—</p><div class="language-go line-numbers-mode" data-ext="go"><pre class="language-go"><code><span class="token keyword">func</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
   e <span class="token operator">:=</span> gin<span class="token punctuation">.</span><span class="token function">Default</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
   gin<span class="token punctuation">.</span><span class="token function">SetMode</span><span class="token punctuation">(</span>gin<span class="token punctuation">.</span>DebugMode<span class="token punctuation">)</span>
   gin<span class="token punctuation">.</span>DebugPrintRouteFunc <span class="token operator">=</span> <span class="token keyword">func</span><span class="token punctuation">(</span>httpMethod<span class="token punctuation">,</span> absolutePath<span class="token punctuation">,</span> handlerName <span class="token builtin">string</span><span class="token punctuation">,</span> nuHandlers <span class="token builtin">int</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
      <span class="token keyword">if</span> gin<span class="token punctuation">.</span><span class="token function">IsDebugging</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
         log<span class="token punctuation">.</span><span class="token function">Printf</span><span class="token punctuation">(</span><span class="token string">&quot;è·¯ç”± %v %v %v %v\n&quot;</span><span class="token punctuation">,</span> httpMethod<span class="token punctuation">,</span> absolutePath<span class="token punctuation">,</span> handlerName<span class="token punctuation">,</span> nuHandlers<span class="token punctuation">)</span>
      <span class="token punctuation">}</span>
   <span class="token punctuation">}</span>
   e<span class="token punctuation">.</span><span class="token function">GET</span><span class="token punctuation">(</span><span class="token string">&quot;/hello&quot;</span><span class="token punctuation">,</span> Hello<span class="token punctuation">)</span>
   log<span class="token punctuation">.</span><span class="token function">Fatalln</span><span class="token punctuation">(</span>e<span class="token punctuation">.</span><span class="token function">Run</span><span class="token punctuation">(</span><span class="token string">&quot;:8080&quot;</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>è¾“å‡º</p><div class="language-text line-numbers-mode" data-ext="text"><pre class="language-text"><code>2022/12/21 17:19:13 è·¯ç”± GET /hello main.Hello 3
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><p><strong>ç»“è¯­</strong>ï¼šGinç®—æ˜¯Goè¯­è¨€Webæ¡†æ¶ä¸­æœ€æ˜“å­¦ä¹ çš„ä¸€ç§ï¼Œå› ä¸ºGinçœŸæ­£åšåˆ°äº†èŒè´£æœ€å°åŒ–ï¼Œåªæ˜¯å•çº¯çš„è´Ÿè´£WebæœåŠ¡ï¼Œå…¶ä»–çš„è®¤è¯é€»è¾‘ï¼Œæ•°æ®ç¼“å­˜ç­‰ç­‰åŠŸèƒ½éƒ½äº¤ç»™å¼€å‘è€…è‡ªè¡Œå®Œæˆï¼Œç›¸æ¯”äºé‚£äº›å¤§è€Œå…¨çš„æ¡†æ¶ï¼Œè½»é‡ç®€æ´çš„Ginå¯¹äºåˆå­¦è€…è€Œè¨€æ›´é€‚åˆä¹Ÿæ›´åº”è¯¥å»å­¦ä¹ ï¼Œå› ä¸ºGinå¹¶æ²¡æœ‰å¼ºåˆ¶ä½¿ç”¨æŸä¸€ç§è§„èŒƒï¼Œé¡¹ç›®è¯¥å¦‚ä½•æ„å»ºï¼Œé‡‡ç”¨ä»€ä¹ˆç»“æ„éƒ½éœ€è¦è‡ªè¡Œæ–Ÿé…Œï¼Œå¯¹äºåˆå­¦è€…è€Œè¨€æ›´èƒ½é”»ç‚¼èƒ½åŠ›ã€‚</p></div><!----><footer class="page-meta"><div class="meta-item edit-link"><a href="https://github.com/CQUT-Programmer/Golang-Doc/edit/main/src/è¯­è¨€è¿›é˜¶/å®ç”¨æ¡†æ¶/gin.md" rel="noopener noreferrer" target="_blank" aria-label="åœ¨ GitHub ä¸Šç¼–è¾‘æ­¤é¡µ" class="nav-link label"><!--[--><svg xmlns="http://www.w3.org/2000/svg" class="icon edit-icon" viewBox="0 0 1024 1024" fill="currentColor" aria-label="edit icon"><path d="M430.818 653.65a60.46 60.46 0 0 1-50.96-93.281l71.69-114.012 7.773-10.365L816.038 80.138A60.46 60.46 0 0 1 859.225 62a60.46 60.46 0 0 1 43.186 18.138l43.186 43.186a60.46 60.46 0 0 1 0 86.373L588.879 565.55l-8.637 8.637-117.466 68.234a60.46 60.46 0 0 1-31.958 11.229z"></path><path d="M728.802 962H252.891A190.883 190.883 0 0 1 62.008 771.98V296.934a190.883 190.883 0 0 1 190.883-192.61h267.754a60.46 60.46 0 0 1 0 120.92H252.891a69.962 69.962 0 0 0-69.098 69.099V771.98a69.962 69.962 0 0 0 69.098 69.098h475.911A69.962 69.962 0 0 0 797.9 771.98V503.363a60.46 60.46 0 1 1 120.922 0V771.98A190.883 190.883 0 0 1 728.802 962z"></path></svg><!--]-->åœ¨ GitHub ä¸Šç¼–è¾‘æ­¤é¡µ<span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">open in new window</span></span><!----></a></div><div class="meta-item git-info"><div class="update-time"><span class="label">ä¸Šæ¬¡ç¼–è¾‘äº: </span><!----></div><div class="contributors"><span class="label">è´¡çŒ®è€…: </span><!--[--><!--[--><span class="contributor" title="email: 2633565580@qq.com">246859</span><!--]--><!--]--></div></div></footer><nav class="page-nav"><a href="/%E8%AF%AD%E8%A8%80%E8%BF%9B%E9%98%B6/%E5%AE%9E%E7%94%A8%E6%A1%86%E6%9E%B6/beego.html" class="nav-link prev" aria-label="Beego"><div class="hint"><span class="arrow left"></span>ä¸Šä¸€é¡µ</div><div class="link"><!---->Beego</div></a><a href="/%E8%AF%AD%E8%A8%80%E8%BF%9B%E9%98%B6/%E5%AE%9E%E7%94%A8%E6%A1%86%E6%9E%B6/gorm.html" class="nav-link next" aria-label="Gorm"><div class="hint">ä¸‹ä¸€é¡µ<span class="arrow right"></span></div><div class="link">Gorm<!----></div></a></nav><!----><!----><!--]--></main><!--]--><!----></div><!--]--><!--]--><!----><!----><!--]--></div>
    <script type="module" src="/assets/app-d67057c6.js" defer></script>
  </body>
</html>
